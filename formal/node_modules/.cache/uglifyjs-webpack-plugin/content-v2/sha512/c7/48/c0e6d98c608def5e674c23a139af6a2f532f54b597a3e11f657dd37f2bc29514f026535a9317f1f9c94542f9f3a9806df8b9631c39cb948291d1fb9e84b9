{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"E:\\\\tianditu\\\\formal\\\\js\\\\checkMap.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"navigator\",\"userAgent\",\"indexOf\",\"document\",\"writeln\",\"my\",\"getEnv\",\"res\",\"miniProgram\",\"alert\",\"content\",\"JSON\",\"stringify\",\"initLatlng\",\"map\",\"markers\",\"mapParams\",\"idx\",\"initZoom\",\"markDatas\",\"drawMarekers\",\"forEach\",\"val\",\"index\",\"marker\",\"checkState\",\"L\",\"lat\",\"lon\",\"draggable\",\"opacity\",\"icon\",\"divIcon\",\"className\",\"html\",\"addLayer\",\"on\",\"e\",\"$\",\"hasClass\",\"removeClass\",\"parseInt\",\"originalEvent\",\"target\",\"textContent\",\"reverseResolutionUrl\",\"encodeURI\",\"ajax\",\"url\",\"dataType\",\"success\",\"location\",\"city\",\"dist\",\"town\",\"poi\",\"text\",\"legalEntityName\",\"legalRep\",\"tel\",\"distance\",\"toFixed\",\"data\",\"longitude\",\"latitude\",\"address\",\"addClass\",\"error\",\"err\",\"getAdressInfo\",\"changeSatus\",\"handler\",\"postMessage\",\"onMessage\",\"cityName\",\"crs\",\"CRS\",\"CustomEPSG4326\",\"center\",\"minZoom\",\"zoom\",\"inertiaDeceleration\",\"zoomControl\",\"layer\",\"GXYZ\",\"tileSize\",\"labelLayer\",\"GWVTAnno\",\"dataSource\",\"Custom\",\"URLDataSource\",\"addDataSource\",\"markerClusterGroup\",\"init\",\"clearLayers\",\"setView\",\"Number\",\"drawMap\",\"ev\",\"metter\",\"type\",\"keyCode\",\"filter\",\"phoneNum\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"./\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 0);\\n\",\"if (navigator.userAgent.indexOf('AlipayClient') > -1) {\\r\\n    document.writeln('<script src=\\\"https://appx/web-view.min.js\\\"' + '>' + '<' + '/' + 'script>');\\r\\n  }\\r\\n  my.getEnv(function(res) {\\r\\n      if (!res.miniProgram) {\\r\\n          my.alert({\\r\\n              content:JSON.stringify('运行出错')\\r\\n          });\\r\\n      }\\r\\n  });\\r\\n  var initLatlng, initZoom = 10, cityName, newCenterData,  markDatas = [], map, markers, mapParams, idx;\\r\\n  \\r\\n  my.postMessage('init');\\r\\n  my.onMessage = function(e) {\\r\\n      initLatlng = {lon: e.lon, lat: e.lat} || {lon: 120.14989, lat: 30.27751};  // 默认经纬度为蓝天商务中心\\r\\n      cityName = e.cityName || \\\"杭州市\\\";\\r\\n      markDatas = e.markDatas;\\r\\n      drawMap(e.init)\\r\\n  }\\r\\n  function drawMap(e) {\\r\\n      if (e) { init(); return; }\\r\\n      reductionMap()\\r\\n      drawMarekers()\\r\\n  }\\r\\n\\r\\n  function init() {\\r\\n      map = L.map('map',{crs:L.CRS.CustomEPSG4326,center: initLatlng, minZoom: 5, zoom: initZoom, inertiaDeceleration:15000, zoomControl: false});\\r\\n      var tileAddress = 'http://ditu.zjzwfw.gov.cn/mapserver/vmap/zjvmap/getMAP?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017';\\r\\n\\r\\n      var layer = new L.GXYZ(tileAddress, {tileSize:512, minZoom: 5});\\r\\n      map.addLayer(layer);\\r\\n\\r\\n      // 添加注记图层\\r\\n      var labelLayer = new L.GWVTAnno({tileSize:512});\\r\\n      var dataSource = new Custom.URLDataSource();\\r\\n      dataSource.url = 'http://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getDatas?x=${x}&y=${y}&l=${z}&styleId=tdt_biaozhunyangshi_2017';\\r\\n      labelLayer.addDataSource(dataSource);\\r\\n      map.addLayer(labelLayer);\\r\\n\\r\\n      markers = L.markerClusterGroup();\\r\\n      drawMarekers();\\r\\n      map.addLayer(markers);\\r\\n\\r\\n      map.on('click', function (e) {\\r\\n          if($(\\\".detail_info\\\").hasClass('active')) { \\r\\n              $(\\\".detail_info\\\").removeClass('active');\\r\\n          }\\r\\n      });\\r\\n\\r\\n  }\\r\\n\\r\\n  $('.filterBtn').on('click', function () {\\r\\n      changeSatus();\\r\\n  });\\r\\n\\r\\n  $('.custom-mask').on('click', function () {\\r\\n      changeSatus('remove');\\r\\n  });\\r\\n\\r\\n  $('.custom-container').on('click', function (ev) {\\r\\n      changeSatus('remove');\\r\\n      var metter = $(ev.target).data('metter');\\r\\n      my.postMessage({type: 'distance', val: metter});\\r\\n  });\\r\\n\\r\\n  $('.iptSearch').on('keydown',function(e){\\r\\n      // e.preventDefault();\\r\\n      if(e.keyCode == 13){\\r\\n          var keyWord = cityName + e.target.value;\\r\\n          if (e.target.value) {\\r\\n              my.postMessage({type: 'keyword', val: e.target.value});\\r\\n          } else {\\r\\n              my.alert({\\r\\n                  content: \\\"请输入查询关键字\\\"\\r\\n              });\\r\\n          }\\r\\n      }\\r\\n  });\\r\\n\\r\\n  $('.btn_handler_box').on('click', function (ev) {\\r\\n      var filter = $(ev.target).data('filter');\\r\\n      if (filter == \\\"\\\" || filter == \\\"1\\\" || filter == \\\"2\\\" || filter == \\\"3\\\") {\\r\\n          my.postMessage({type: 'checkState', val: filter});\\r\\n          return\\r\\n      }\\r\\n      if (filter == \\\"reset\\\") {\\r\\n          map.setView([Number(initLatlng.lat), Number(initLatlng.lon)], initZoom);\\r\\n          return\\r\\n      }\\r\\n  });\\r\\n  $(\\\".call_tel\\\").on(\\\"click\\\", function () {\\r\\n      var phoneNum = $(\\\".call_tel\\\").data(\\\"tel\\\");\\r\\n      my.postMessage({type: 'callPhone', val: phoneNum});\\r\\n  });\\r\\n\\r\\n  $(\\\".menu_icon_3\\\").on(\\\"click\\\", function () {\\r\\n      my.postMessage({type: 'openMap', val: mapParams});\\r\\n  });\\r\\n\\r\\n  $(\\\".detail\\\").on(\\\"click\\\", function () {\\r\\n      my.postMessage({type: 'detail', val: idx});\\r\\n  });\\r\\n\\r\\n  $(\\\".gocheck\\\").on(\\\"click\\\", function () {\\r\\n      my.postMessage({type: 'gocheck', val: idx});\\r\\n  });\\r\\n\\r\\n  $(\\\".unfind\\\").on(\\\"click\\\", function () {\\r\\n      my.postMessage({type: 'unfind', val: idx});\\r\\n  });\\r\\n  \\r\\n\\r\\n  function drawMarekers() {\\r\\n      markDatas.forEach(function (val, index) {\\r\\n          var preState = val.checkState, marker, customIcon;\\r\\n          switch(preState){\\r\\n              case \\\"1\\\":\\r\\n                  marker = L.marker([val.lat, val.lon], {draggable: false, opacity: 1, icon: L.divIcon({className: 'green-marker', html: '<p>' + (index + 1) + '</p>'})});\\r\\n                  break;\\r\\n              case \\\"2\\\":\\r\\n                  marker = L.marker([val.lat, val.lon], {draggable: false, opacity: 1, icon: L.divIcon({className: 'blue-marker', html: '<p>' + (index + 1) + '</p>'})});\\r\\n                  break;\\r\\n              case \\\"3\\\":\\r\\n                  marker = L.marker([val.lat, val.lon], {draggable: false, opacity: 1, icon: L.divIcon({className: 'red-marker', html: '<p>' + (index + 1) + '</p>'})});\\r\\n                  break;\\r\\n          }\\r\\n          markers.addLayer(marker);\\r\\n          marker.on('click', function (e) {\\r\\n              if($(\\\".detail_info\\\").hasClass('active')) { \\r\\n                  $(\\\".detail_info\\\").removeClass('active');\\r\\n              }\\r\\n              idx = parseInt(e.originalEvent.target.textContent) - 1;\\r\\n              getAdressInfo(markDatas[idx]);\\r\\n          });\\r\\n      });\\r\\n  }\\r\\n\\r\\n  function reductionMap() {\\r\\n      markers.clearLayers();\\r\\n      map.setView([Number(initLatlng.lat), Number(initLatlng.lon)], initZoom);\\r\\n  }\\r\\n\\r\\n  function getAdressInfo (e) {\\r\\n      var reverseResolutionUrl = encodeURI(\\\"http://dh.ditu.zj.cn:18005/inverse/getInverseGeocoding.jsonp?&detail=1&zoom=11&latlon=\\\" + e.lon + \\\",\\\" + e.lat + \\\"&lat=&lon=&customer=2\\\");\\r\\n      $.ajax({\\r\\n          url: reverseResolutionUrl,\\r\\n          dataType: \\\"jsonp\\\",\\r\\n          // jsonp: \\\"callback\\\",\\r\\n          success: function(res) {\\r\\n              var location = res.city.value + res.dist.value + res.town.value + res.poi;\\r\\n              $(\\\".legalEntity_name\\\").text(e.legalEntityName)\\r\\n              $(\\\".legalRep_name\\\").text(e.legalRep)\\r\\n              $(\\\".legalRep_tel\\\").text(e.tel)\\r\\n              $(\\\".address_info\\\").text(location)\\r\\n              $(\\\".distance_info\\\").text((parseInt(e.distance) / 1000).toFixed(2));\\r\\n              $(\\\".call_tel\\\").data(\\\"tel\\\", e.tel);\\r\\n              mapParams = {\\r\\n                  longitude: e.lon,\\r\\n                  latitude: e.lat,\\r\\n                  name: res.poi,\\r\\n                  address: res.poi,\\r\\n              };\\r\\n              $(\\\".detail_info\\\").addClass('active');\\r\\n          },\\r\\n          error: function (err) {\\r\\n              my.alert({\\r\\n                  content: \\\"地址解析出错\\\"\\r\\n              });\\r\\n          }\\r\\n      });\\r\\n  }\\r\\n\\r\\n  function changeSatus (handler) {\\r\\n      if (handler == 'remove') {\\r\\n          $('.custom-mask').removeClass('custom-mask--visible');\\r\\n          $('.custom-container').removeClass('custom-container--visible');\\r\\n          $('.custom-container li').removeClass('active');\\r\\n      } else {\\r\\n          $('.custom-mask').addClass('custom-mask--visible');\\r\\n          $('.custom-container').addClass('custom-container--visible');\\r\\n          $('.custom-container li').addClass('active');\\r\\n      }\\r\\n      \\r\\n  }\"]}","code":"!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"./\",a(a.s=0)}([function(e,t){navigator.userAgent.indexOf(\"AlipayClient\")>-1&&document.writeln('<script src=\"https://appx/web-view.min.js\"><\\/script>'),my.getEnv(function(e){e.miniProgram||my.alert({content:JSON.stringify(\"运行出错\")})});var a,n,o,i,l,r=10,c=[];function s(){c.forEach(function(e,t){var a;switch(e.checkState){case\"1\":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:\"green-marker\",html:\"<p>\"+(t+1)+\"</p>\"})});break;case\"2\":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:\"blue-marker\",html:\"<p>\"+(t+1)+\"</p>\"})});break;case\"3\":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:\"red-marker\",html:\"<p>\"+(t+1)+\"</p>\"})})}o.addLayer(a),a.on(\"click\",function(e){$(\".detail_info\").hasClass(\"active\")&&$(\".detail_info\").removeClass(\"active\"),l=parseInt(e.originalEvent.target.textContent)-1,function(e){var t=encodeURI(\"http://dh.ditu.zj.cn:18005/inverse/getInverseGeocoding.jsonp?&detail=1&zoom=11&latlon=\"+e.lon+\",\"+e.lat+\"&lat=&lon=&customer=2\");$.ajax({url:t,dataType:\"jsonp\",success:function(t){var a=t.city.value+t.dist.value+t.town.value+t.poi;$(\".legalEntity_name\").text(e.legalEntityName),$(\".legalRep_name\").text(e.legalRep),$(\".legalRep_tel\").text(e.tel),$(\".address_info\").text(a),$(\".distance_info\").text((parseInt(e.distance)/1e3).toFixed(2)),$(\".call_tel\").data(\"tel\",e.tel),i={longitude:e.lon,latitude:e.lat,name:t.poi,address:t.poi},$(\".detail_info\").addClass(\"active\")},error:function(e){my.alert({content:\"地址解析出错\"})}})}(c[l])})})}function u(e){\"remove\"==e?($(\".custom-mask\").removeClass(\"custom-mask--visible\"),$(\".custom-container\").removeClass(\"custom-container--visible\"),$(\".custom-container li\").removeClass(\"active\")):($(\".custom-mask\").addClass(\"custom-mask--visible\"),$(\".custom-container\").addClass(\"custom-container--visible\"),$(\".custom-container li\").addClass(\"active\"))}my.postMessage(\"init\"),my.onMessage=function(e){a={lon:e.lon,lat:e.lat}||{lon:120.14989,lat:30.27751},e.cityName||\"杭州市\",c=e.markDatas,function(e){if(e)return void function(){n=L.map(\"map\",{crs:L.CRS.CustomEPSG4326,center:a,minZoom:5,zoom:r,inertiaDeceleration:15e3,zoomControl:!1});var e=new L.GXYZ(\"http://ditu.zjzwfw.gov.cn/mapserver/vmap/zjvmap/getMAP?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017\",{tileSize:512,minZoom:5});n.addLayer(e);var t=new L.GWVTAnno({tileSize:512}),i=new Custom.URLDataSource;i.url=\"http://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getDatas?x=${x}&y=${y}&l=${z}&styleId=tdt_biaozhunyangshi_2017\",t.addDataSource(i),n.addLayer(t),o=L.markerClusterGroup(),s(),n.addLayer(o),n.on(\"click\",function(e){$(\".detail_info\").hasClass(\"active\")&&$(\".detail_info\").removeClass(\"active\")})}();o.clearLayers(),n.setView([Number(a.lat),Number(a.lon)],r),s()}(e.init)},$(\".filterBtn\").on(\"click\",function(){u()}),$(\".custom-mask\").on(\"click\",function(){u(\"remove\")}),$(\".custom-container\").on(\"click\",function(e){u(\"remove\");var t=$(e.target).data(\"metter\");my.postMessage({type:\"distance\",val:t})}),$(\".iptSearch\").on(\"keydown\",function(e){if(13==e.keyCode){e.target.value;e.target.value?my.postMessage({type:\"keyword\",val:e.target.value}):my.alert({content:\"请输入查询关键字\"})}}),$(\".btn_handler_box\").on(\"click\",function(e){var t=$(e.target).data(\"filter\");\"\"!=t&&\"1\"!=t&&\"2\"!=t&&\"3\"!=t?\"reset\"!=t||n.setView([Number(a.lat),Number(a.lon)],r):my.postMessage({type:\"checkState\",val:t})}),$(\".call_tel\").on(\"click\",function(){var e=$(\".call_tel\").data(\"tel\");my.postMessage({type:\"callPhone\",val:e})}),$(\".menu_icon_3\").on(\"click\",function(){my.postMessage({type:\"openMap\",val:i})}),$(\".detail\").on(\"click\",function(){my.postMessage({type:\"detail\",val:l})}),$(\".gocheck\").on(\"click\",function(){my.postMessage({type:\"gocheck\",val:l})}),$(\".unfind\").on(\"click\",function(){my.postMessage({type:\"unfind\",val:l})})}]);","extractedComments":[]}