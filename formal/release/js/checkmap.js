!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./",a(a.s=0)}([function(e,t){var a,n,i,s;navigator.userAgent.toLowerCase().indexOf("dingtalk")>-1&&document.writeln('<script src="https://appx/web-view.min.js"><\/script>');var o,c,r,l,d,m,u,v,p,f,g,b,y,h,C,k,T,_,x,S,A,w,j,E,M,N=10,D=[],P=[],I=[],z=[],K=[],O=document.getElementById("picker-btn"),Y=document.getElementById("district-btn"),J=document.getElementById("tag-btn");function R(){g={},$.each(u.DistrictJson,function(e,t){var a=t.name;g[a]=["全部"],t.children&&$.each(t.children,function(e,t){g[a].push(t.name)})})}function B(e,t){$.ajax({async:!1,type:"POST",url:encodeURI(i+s),data:JSON.stringify({encParamsStr:encrypt(JSON.stringify({token:n,userId:a,tagLargeCategory:t}))}),contentType:"application/json",success:function(t){x="string"==typeof t?JSON.parse(t).data:t.data,$.each(x,function(t,a){_[e].push(a.tagName)})},error:function(e){dd.alert({content:e.msg})}})}function U(){D.forEach(function(e,t){var a;switch(e.checkState){case"1":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:"green-marker",html:"<p>"+(t+1)+"</p>"})});break;case"2":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:"blue-marker",html:"<p>"+(t+1)+"</p>"})});break;case"3":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:"red-marker",html:"<p>"+(t+1)+"</p>"})})}l.addLayer(a),a.on("click",function(e){$(".detail_info").hasClass("active")&&$(".detail_info").removeClass("active"),m=parseInt(e.originalEvent.target.textContent)-1,function(e){var t=encodeURI("https://dh.ditu.zj.cn:9443/inverse/getInverseGeocoding.jsonp?&detail=1&zoom=11&latlon="+e.lon+","+e.lat+"&lat=&lon=&customer=2");$.ajax({url:t,dataType:"jsonp",success:function(t){var a=t.city.value+t.dist.value+t.town.value+t.poi;$(".legalEntity_name").text(e.legalEntityName),$(".legalRep_name").text(e.legalRep),$(".legalRep_tel").text(e.tel),$(".address_info").text(a),$(".distance_info").text((parseInt(e.distance)/1e3).toFixed(2)),$(".call_tel").data("tel",e.tel),d={longitude:e.lon,latitude:e.lat,name:t.poi,address:t.poi},$(".detail_info").addClass("active")},error:function(e){dd.alert({content:"地址解析出错"})}})}(D[m])})})}dd.postMessage({type:"init"}),dd.onMessage=function(e){a=e.userId,n=e.token,i=e.baseUrl,s=e.tagAction,o={lon:e.lon,lat:e.lat}||{lon:120.14989,lat:30.27751},P=e.cityName||"杭州市",D=e.markDatas,u=e.filterDatas,v=e.userLevel,p=e.showDistrict,e.init||v&&p&&(Y.style.display="inline-block",R()),function(e){if(e)return void function(){c=L.map("map",{crs:L.CRS.CustomEPSG4326,center:o,minZoom:5,zoom:N,inertiaDeceleration:15e3,zoomControl:!1});var e=new L.GXYZ("https://ditu.zjzwfw.gov.cn/mapserver/vmap/zjvmap/getMAP?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017",{tileSize:512,minZoom:5});c.addLayer(e);var t=new L.GXYZ("https://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getImg?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017",{tileSize:512,hitDetection:!0,keepBuffer:0,updateWhenZooming:!1});c.addLayer(t);var a=L.icon({iconUrl:"../img/indoor_pub_poi_pressed.png",iconSize:[21,30],iconAnchor:[10,20]}),n=L.marker([c.getCenter().lat,c.getCenter().lng],{draggable:!1,opacity:1,icon:a});c.addLayer(n),l=L.markerClusterGroup(),U(),c.addLayer(l),$(".whiteBtn").addClass("active"),$(".check_title").text($(".whiteBtn").data("title")).fadeIn(),function(){var e="",t="",a="";$.each(u.marketType,function(t,a){e+='<dd data-paramCode="'+a.paramCode+'" data-paramCodeType="'+a.paramCodeType+'">'+a.paramName+"</dd>"}),$.each(u.checkType,function(e,a){t+='<dd data-paramCode="'+a.paramCode+'" data-paramCodeType="'+a.paramCodeType+'">'+a.paramName+"</dd>"}),$.each(u.taskStatus,function(e,t){a+='<dd data-paramCode="'+t.paramCode+'" data-paramCodeType="'+t.paramCodeType+'">'+t.paramName+"</dd>"}),$("#MARKET_TYPE").html(e),$("#TASK_TYPE").html(t),$("#TASK_STATUS").html(a),$(".filter_list dd").on("click",function(e){$(this).siblings().removeClass("active"),$(this).addClass("active");var t=$(e.target)[0].dataset.paramcodetype;switch(t){case"MARKET_TYPE":h=$(e.target)[0].dataset.paramcode;break;case"TASK_TYPE":k=$(e.target)[0].dataset.paramcode;break;case"TASK_STATUS":b=$(e.target)[0].dataset.paramcode}})}(),v?(O.style.display="inline-block",f={},$.each(u.SlicenoLDNameJson,function(e,t){var a=t.name;f[a]=[],t.children&&$.each(t.children,function(e,t){f[a].push(t.name)})})):(Y.style.display="inline-block",R());_={},$.each(u.superviseTag,function(e,t){var a=t.paramName;_[a]=[],0==e&&B(a,t.paramCode)}),c.on("click",function(e){$(".detail_info").hasClass("active")&&$(".detail_info").removeClass("active")})}();l.clearLayers(),c.setView([Number(o.lat),Number(o.lon)],N),U()}(e.init)},$(".filterBtn").on("click",function(){$(".custom-mask").addClass("custom-mask--visible"),$(".custom-container").addClass("custom-container--visible"),$(".custom-container li").addClass("active")}),$(".custom-mask").on("click",function(){$(".custom-mask").removeClass("custom-mask--visible"),$(".floating_box").hasClass("active")?($(".floating_box").removeClass("active"),$(".filter_list_box").removeClass("active")):($(".custom-container").removeClass("custom-container--visible"),$(".custom-container li").removeClass("active"))}),$(".custom-container").on("click",function(e){$(".custom-mask").removeClass("custom-mask--visible"),$(".custom-container").removeClass("custom-container--visible"),$(".custom-container li").removeClass("active");var t=$(e.target).data("metter");""==t?$(".filterBtn span").html('不限<i class="icon-arrow"></i>'):$(".filterBtn span").html(t+'<i class="icon-arrow"></i>'),dd.postMessage({type:"distance",val:t})}),$(".floating_box").on("click",function(e){if($(this).addClass("active"),$(".custom-mask").addClass("custom-mask--visible"),$(".filter_list_box").addClass("active"),y){$("#TASK_STATUS dd").removeClass("active");var t=jQuery.makeArray($("#TASK_STATUS dd"));$.each(t,function(e,t){if(t.dataset.paramcode==b)return $(t).addClass("active"),!0})}else $("#TASK_STATUS dd").removeClass("active");if(I.length>0||K.length>0?v?($("#picker-btn").text(P.join("-")),$("#picker-btn").addClass("active"),z&&($("#district-btn").text(z.join("-")),$("#district-btn").addClass("active"))):($("#district-btn").text(z.join("-")),$("#district-btn").addClass("active")):v?($("#picker-btn").text("市|区|县"),$("#picker-btn").removeClass("active"),$("#district-btn").text("商圈/片区"),$("#district-btn").removeClass("active"),$("#district-btn").css("display","none")):($("#district-btn").text("商圈/片区"),$("#district-btn").removeClass("active")),A?($("#tag-btn").text(w),$("#tag-btn").addClass("active")):j?($("#tag-btn").text(M),$("#tag-btn").addClass("active")):($("#tag-btn").text("选择监管类型"),$("#tag-btn").removeClass("active")),C){$("#MARKET_TYPE dd").removeClass("active");t=jQuery.makeArray($("#MARKET_TYPE dd"));$.each(t,function(e,t){if(t.dataset.paramcode==h)return $(t).addClass("active"),!0})}else $("#MARKET_TYPE dd").removeClass("active");if(T){$("#TASK_TYPE dd").removeClass("active");t=jQuery.makeArray($("#TASK_TYPE dd"));$.each(t,function(e,t){if(t.dataset.paramcode==k)return $(t).addClass("active"),!0})}else $("#TASK_TYPE dd").removeClass("active")}),$(".custom-mask").on("touchmove",function(e){e.preventDefault()}),$(".custom-container").on("touchmove",function(e){e.preventDefault()}),$(".iptSearch").on("keydown",function(e){13==e.keyCode&&dd.postMessage({type:"keyword",val:e.target.value||""})}),$(".btn_handler_box li").on("click",function(e){var t=$(e.target).data("filter"),a=$(e.target).data("title");return $(this).closest("li").addClass("active").siblings().removeClass("active"),""==t||"1"==t||"2"==t||"3"==t?($(".check_title").text(a).fadeIn(),void dd.postMessage({type:"checkState",val:t})):"reset"==t?($(".check_title").fadeOut(),l.clearLayers(),c.setView([Number(o.lat),Number(o.lon)],N),r=L.circle([c.getCenter().lat,c.getCenter().lng],{radius:30}),void c.addLayer(r)):void 0}),$(".call_tel").on("click",function(){var e=$(".call_tel").data("tel");dd.postMessage({type:"callPhone",val:e})}),$(".menu_icon_3").on("click",function(){dd.postMessage({type:"openMap",val:d})}),$(".detail").on("click",function(){dd.postMessage({type:"detail",val:m})}),$(".gocheck").on("click",function(){dd.postMessage({type:"gocheck",val:m})}),$(".unfind").on("click",function(){dd.postMessage({type:"unfind",val:m})}),$(".reset_btn").on("click",function(){[],z=[],K=[],P=[],I=[],$("#picker-btn").text("市|区|县"),$("#district-btn").text("商圈/片区"),$("#tag-btn").text("选择监管类型"),$("#tag-btn").removeClass("active"),v?($("#picker-btn").removeClass("active"),$("#district-btn").removeClass("active"),$("#district-btn").css("display","none")):$("#district-btn").removeClass("active"),$(".filter_type dd").removeClass("active"),$(".custom-mask").removeClass("custom-mask--visible"),$(".floating_box").removeClass("active"),$(".filter_list_box").removeClass("active"),y="",C="",T="","",A="",j="";dd.postMessage({type:"businessDistrict",val:{taskStatus:"",businessDistrict:"",legalEntityCata:"",checkType:"",localAdm:"",curMinTagCode:"",curMaxTagCode:""}})}),$(".confirm_btn").on("click",function(){var e={taskStatus:y=b||"",legalEntityCata:C=h||"",checkType:T=k||"",curMinTagCode:A=S||"",curMaxTagCode:j=E||""};1==I.length?(e.localAdm=I[0],e.businessDistrict=""):0==K.length?(e.localAdm=I[0],e.businessDistrict=""):(e.localAdm=K[0],e.businessDistrict=K[1]||""),$(".custom-mask").removeClass("custom-mask--visible"),$(".floating_box").removeClass("active"),$(".filter_list_box").removeClass("active"),dd.postMessage({type:"businessDistrict",val:e})}),O.onclick=function(){new PickerView({bindElem:O,data:f,title:"市|区|县",leftText:"取消",rightText:"确定",rightFn:function(e){var t;P=[],I=[];var a=u.SlicenoLDNameJson.findIndex(function(t){return t.name==e[0]});I.push(u.SlicenoLDNameJson[a].code),P=e;var n=(t=u.SlicenoLDNameJson[a].children).findIndex(function(t){return t.name==e[1]});I.push(t[n].code),O.innerText=P.join("-"),O.setAttribute("class","active"),Y.innerText="商圈/片区",Y.style.display="none",Y.setAttribute("class",""),z=[],K=[],dd.postMessage({type:"showDistrict",val:{localAdm:I[I.length-1],selAll:!1}})}})},Y.onclick=function(){new PickerView({bindElem:Y,data:g,title:"商圈/片区",leftText:"取消",rightText:"确定",rightFn:function(e){var t;z=[],K=[];var a=u.DistrictJson.findIndex(function(t){return t.name==e[0]});if(K.push(u.DistrictJson[a].code),"全部"!=e[1]){z=e;var n=(t=u.DistrictJson[a].children).findIndex(function(t){return t.name==e[1]});K.push(t[n].code)}else z.push(e[0]);Y.innerText=z.join("-"),Y.setAttribute("class","active")}})},J.onclick=function(){new PickerView({bindElem:J,data:_,title:"监管类型",leftText:"取消",rightText:"确定",getAjaxData:!0,ajaxFn:function(e){$.each(u.superviseTag,function(t,a){if(a.paramName==e[0])return _[a.paramName]=[],B(a.paramName,a.paramCode),!1})},rightFn:function(e){$.each(u.superviseTag,function(t,a){if(a.paramName==e[0])return E=a.paramCode,M=a.paramName,!1}),$.each(x,function(t,a){if(a.tagName==e[1])return S=a.tagCode,w=a.tagName,!1}),w?($("#tag-btn").text(w),$("#tag-btn").addClass("active")):($("#tag-btn").text(M),$("#tag-btn").addClass("active"))}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanMvY2hlY2ttYXAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ1c2VySWQiLCJ0b2tlbiIsImJhc2VVcmwiLCJ0YWdBY3Rpb24iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJkb2N1bWVudCIsIndyaXRlbG4iLCJpbml0TGF0bG5nIiwibWFwIiwiY2lyY2xlIiwibWFya2VycyIsIm1hcFBhcmFtcyIsImlkeCIsImZpbHRlckRhdGFzIiwidXNlckxldmVsIiwic2hvd0Rpc3RyaWN0IiwicGlja2VyT3B0IiwiZGlzdFBpY2tlck9wdCIsInRhc2tTdGF0dXMiLCJjdXJUYXNrU3RhdHVzIiwibGVnYWxFbnRpdHlDYXRhIiwiY3VyTGVnYWxFbnRpdHlDYXRhIiwiY2hlY2tUeXBlIiwiY3VyQ2hlY2tUeXBlIiwidGFnUGlja2VyT3B0IiwicHJlVGFnTWluT3B0IiwibWluVGFnQ29kZSIsImN1ck1pblRhZ0NvZGUiLCJjdXJNaW5UYWdOYW1lIiwiY3VyTWF4VGFnQ29kZSIsIm1heFRhZ0NvZGUiLCJjdXJNYXhUYWdOYW1lIiwiaW5pdFpvb20iLCJtYXJrRGF0YXMiLCJjaXR5TmFtZSIsImNpdHlDb2RlIiwiZGlzdE5hbWUiLCJkaXN0Q29kZSIsImJ0biIsImdldEVsZW1lbnRCeUlkIiwiZGlzdEJ0biIsInRhZ0J0biIsImdldERpc3RQaWNrZXJPcHQiLCIkIiwiZWFjaCIsIkRpc3RyaWN0SnNvbiIsImluZGV4IiwidmFsIiwiaWR4S2V5IiwiY2hpbGRyZW4iLCJwdXNoIiwiYWpheE1pblRhZ09wdCIsImNvZGUiLCJhamF4IiwiYXN5bmMiLCJ0eXBlIiwidXJsIiwiZW5jb2RlVVJJIiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlbmNQYXJhbXNTdHIiLCJlbmNyeXB0IiwidGFnTGFyZ2VDYXRlZ29yeSIsImNvbnRlbnRUeXBlIiwic3VjY2VzcyIsInJlcyIsInBhcnNlIiwidGFnTmFtZSIsImVycm9yIiwiZXJyIiwiZGQiLCJhbGVydCIsImNvbnRlbnQiLCJtc2ciLCJkcmF3TWFyZWtlcnMiLCJmb3JFYWNoIiwibWFya2VyIiwiY2hlY2tTdGF0ZSIsIkwiLCJsYXQiLCJsb24iLCJkcmFnZ2FibGUiLCJvcGFjaXR5IiwiaWNvbiIsImRpdkljb24iLCJjbGFzc05hbWUiLCJodG1sIiwiYWRkTGF5ZXIiLCJvbiIsImUiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwicGFyc2VJbnQiLCJvcmlnaW5hbEV2ZW50IiwidGFyZ2V0IiwidGV4dENvbnRlbnQiLCJyZXZlcnNlUmVzb2x1dGlvblVybCIsImRhdGFUeXBlIiwibG9jYXRpb24iLCJjaXR5IiwiZGlzdCIsInRvd24iLCJwb2kiLCJ0ZXh0IiwibGVnYWxFbnRpdHlOYW1lIiwibGVnYWxSZXAiLCJ0ZWwiLCJkaXN0YW5jZSIsInRvRml4ZWQiLCJsb25naXR1ZGUiLCJsYXRpdHVkZSIsImFkZHJlc3MiLCJhZGRDbGFzcyIsImdldEFkcmVzc0luZm8iLCJwb3N0TWVzc2FnZSIsIm9uTWVzc2FnZSIsImluaXQiLCJzdHlsZSIsImRpc3BsYXkiLCJjcnMiLCJDUlMiLCJDdXN0b21FUFNHNDMyNiIsImNlbnRlciIsIm1pblpvb20iLCJ6b29tIiwiaW5lcnRpYURlY2VsZXJhdGlvbiIsInpvb21Db250cm9sIiwibGF5ZXIiLCJHWFlaIiwidGlsZVNpemUiLCJsYWJlbExheWVyIiwiaGl0RGV0ZWN0aW9uIiwia2VlcEJ1ZmZlciIsInVwZGF0ZVdoZW5ab29taW5nIiwiY3VzdG9tSWNvbiIsImljb25VcmwiLCJpY29uU2l6ZSIsImljb25BbmNob3IiLCJjdXJNYXJrZXIiLCJnZXRDZW50ZXIiLCJsbmciLCJtYXJrZXJDbHVzdGVyR3JvdXAiLCJmYWRlSW4iLCJtYXJrZXRIdG1sIiwidHlwZUh0bWwiLCJzdGF0dXNIdG1sIiwibWFya2V0VHlwZSIsInBhcmFtQ29kZSIsInBhcmFtQ29kZVR5cGUiLCJwYXJhbU5hbWUiLCJldiIsInRoaXMiLCJzaWJsaW5ncyIsImRhdGFzZXQiLCJwYXJhbWNvZGV0eXBlIiwicGFyYW1jb2RlIiwiaW5pdEZpbHRlckh0bWwiLCJTbGljZW5vTEROYW1lSnNvbiIsInN1cGVydmlzZVRhZyIsImNsZWFyTGF5ZXJzIiwic2V0VmlldyIsIk51bWJlciIsImRyYXdNYXAiLCJtZXR0ZXIiLCJhcnIiLCJqUXVlcnkiLCJtYWtlQXJyYXkiLCJsZW5ndGgiLCJqb2luIiwiY3NzIiwicHJldmVudERlZmF1bHQiLCJrZXlDb2RlIiwiZmlsdGVyIiwidGl0bGUiLCJjbG9zZXN0IiwiZmFkZU91dCIsInJhZGl1cyIsInBob25lTnVtIiwiYnVzaW5lc3NEaXN0cmljdCIsImxvY2FsQWRtIiwicHJlRmlsdGVyRGF0YSIsIm9uY2xpY2siLCJQaWNrZXJWaWV3IiwiYmluZEVsZW0iLCJsZWZ0VGV4dCIsInJpZ2h0VGV4dCIsInJpZ2h0Rm4iLCJzZWxlY3RBcnIiLCJzdWJTbGljZW5vTEROYW1lSnNvbiIsImZpcnN0SWR4IiwiZmluZEluZGV4Iiwib2JqIiwic3ViSWR4IiwiaW5uZXJUZXh0Iiwic2V0QXR0cmlidXRlIiwic2VsQWxsIiwiZ2V0QWpheERhdGEiLCJhamF4Rm4iLCJ0YWdDb2RlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdB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QUFDLEdBQ0FqSixFQUFBQyxLQUFBL0IsRUFBQWtKLGFBQUEsU0FBQW5KLEVBQUFtQyxHQUNBLEdBQUFBLEVBQUF1RyxXQUFBc0MsRUFBQSxHQUdBLE9BRkE5SixFQUFBaUIsRUFBQXFHLFVBQ0FySCxFQUFBZ0IsRUFBQXVHLFdBQ0EsSUFHQTNHLEVBQUFDLEtBQUFuQixFQUFBLFNBQUFiLEVBQUE5QixHQUNBLEdBQUFBLEVBQUFzRixTQUFBd0gsRUFBQSxHQUdBLE9BRkFsSyxFQUFBNUMsRUFBQXlOLFFBQ0EzSyxFQUFBOUMsRUFBQXNGLFNBQ0EsSUFHQXhDLEdBQ0FlLEVBQUEsWUFBQTZELEtBQUE1RSxHQUNBZSxFQUFBLFlBQUFzRSxTQUFBLFlBRUF0RSxFQUFBLFlBQUE2RCxLQUFBekUsR0FDQVksRUFBQSxZQUFBc0UsU0FBQSIsImZpbGUiOiJqcy9jaGVja21hcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiXHJcbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdkaW5ndGFsaycpID4gLTEpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQud3JpdGVsbignPHNjcmlwdCBzcmM9XCJodHRwczovL2FwcHgvd2ViLXZpZXcubWluLmpzXCInICsgJz4nICsgJzwnICsgJy8nICsgJ3NjcmlwdD4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVzZXJJZCwgdG9rZW4sIGJhc2VVcmwsIHRhZ0FjdGlvbjtcclxuICAgICAgICB2YXIgaW5pdExhdGxuZywgaW5pdFpvb20gPSAxMCwgY2l0eU5hbWUsIG5ld0NlbnRlckRhdGEsICBtYXJrRGF0YXMgPSBbXSxcclxuICAgICAgICBtYXAsIGN1ck1hcmtlciwgY2lyY2xlLCBtYXJrZXJzLCBtYXBQYXJhbXMsIGlkeCwgZmlsdGVyRGF0YXMsIHVzZXJMZXZlbCwgc2hvd0Rpc3RyaWN0LCBwaWNrZXJPcHQsIGRpc3RQaWNrZXJPcHQ7XHJcbiAgICAgICAgdmFyIHRhc2tTdGF0dXMsIGN1clRhc2tTdGF0dXMsIGxlZ2FsRW50aXR5Q2F0YSwgY3VyTGVnYWxFbnRpdHlDYXRhLCBjaGVja1R5cGUsIGN1ckNoZWNrVHlwZSwgXHJcbiAgICAgICAgbGVnYWxFbnRpdHlUYWcsIGxlZ2FsRW50aXR5VGFnMSwgbGVnYWxFbnRpdHlUYWcyLCBjdXJMZWdhbEVudGl0eVRhZywgY3VyTGVnYWxFbnRpdHlUYWcxLCBjdXJMZWdhbEVudGl0eVRhZzIsXHJcbiAgICAgICAgY2l0eU5hbWUgPSBbXSwgY2l0eUNvZGUgPSBbXSwgZGlzdE5hbWUgPSBbXSwgZGlzdENvZGUgPSBbXSwgYXJlYU5hbWUgPSBbXSwgYXJlYUNvZGUgPSBbXSwgY3VycmVudEFyZWFDb2RlOyBcclxuICAgICAgICB2YXIgdGFnUGlja2VyT3B0LCBwcmVUYWdNaW5PcHQsIG1pblRhZ0NvZGUsIGN1ck1pblRhZ0NvZGUsIGN1ck1pblRhZ05hbWUsIGN1ck1heFRhZ0NvZGUsIG1heFRhZ0NvZGUsIGN1ck1heFRhZ05hbWU7ICAvLyDnm5HnrqHmoIfnrb4tcGlja2VyLmRhdGFcclxuICAgICAgICB2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaWNrZXItYnRuXCIpO1xyXG4gICAgICAgIHZhciBkaXN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaXN0cmljdC1idG5cIik7XHJcbiAgICAgICAgdmFyIHRhZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFnLWJ0blwiKTtcclxuICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ2luaXQnfSk7XHJcbiAgICAgICAgZGQub25NZXNzYWdlID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB1c2VySWQgPSBlLnVzZXJJZDtcclxuICAgICAgICAgICAgdG9rZW4gPSBlLnRva2VuO1xyXG4gICAgICAgICAgICBiYXNlVXJsID0gZS5iYXNlVXJsO1xyXG4gICAgICAgICAgICB0YWdBY3Rpb24gPSBlLnRhZ0FjdGlvbixcclxuICAgICAgICAgICAgaW5pdExhdGxuZyA9IHtsb246IGUubG9uLCBsYXQ6IGUubGF0fSB8fCB7bG9uOiAxMjAuMTQ5ODksIGxhdDogMzAuMjc3NTF9OyAgLy8g6buY6K6k57uP57qs5bqm5Li66JOd5aSp5ZWG5Yqh5Lit5b+DXHJcbiAgICAgICAgICAgIGNpdHlOYW1lID0gZS5jaXR5TmFtZSB8fCBcIuadreW3nuW4glwiO1xyXG4gICAgICAgICAgICBtYXJrRGF0YXMgPSBlLm1hcmtEYXRhcztcclxuICAgICAgICAgICAgZmlsdGVyRGF0YXMgPSBlLmZpbHRlckRhdGFzO1xyXG4gICAgICAgICAgICB1c2VyTGV2ZWwgPSBlLnVzZXJMZXZlbDtcclxuICAgICAgICAgICAgc2hvd0Rpc3RyaWN0ID0gZS5zaG93RGlzdHJpY3Q7XHJcbiAgICAgICAgICAgIGlmICghZS5pbml0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlckxldmVsICYmIHNob3dEaXN0cmljdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3RCdG4uc3R5bGUuZGlzcGxheSA9ICAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICAgICAgICAgICAgICBnZXREaXN0UGlja2VyT3B0KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkcmF3TWFwKGUuaW5pdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGRyYXdNYXAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaW5pdCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZWR1Y3Rpb25NYXAoKVxyXG4gICAgICAgICAgICBkcmF3TWFyZWtlcnMoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICAgICAgbWFwID0gTC5tYXAoJ21hcCcse2NyczpMLkNSUy5DdXN0b21FUFNHNDMyNixjZW50ZXI6IGluaXRMYXRsbmcsIG1pblpvb206IDUsIHpvb206IGluaXRab29tLCBpbmVydGlhRGVjZWxlcmF0aW9uOjE1MDAwLCB6b29tQ29udHJvbDogZmFsc2V9KTtcclxuICAgICAgICAgICAgdmFyIHRpbGVBZGRyZXNzID0gJ2h0dHBzOi8vZGl0dS56anp3ZncuZ292LmNuL21hcHNlcnZlci92bWFwL3pqdm1hcC9nZXRNQVA/eD17eH0meT17eX0mbD17en0mc3R5bGVJZD10ZHRfYmlhb3podW55YW5nc2hpXzIwMTcnO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxheWVyID0gbmV3IEwuR1hZWih0aWxlQWRkcmVzcywge3RpbGVTaXplOjUxMiwgbWluWm9vbTogNX0pO1xyXG4gICAgICAgICAgICBtYXAuYWRkTGF5ZXIobGF5ZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8g5re75Yqg5rOo6K6w5Zu+5bGCXHJcbiAgICAgICAgICAgIC8vIHZhciBsYWJlbExheWVyID0gbmV3IEwuR1dWVEFubm8oe3RpbGVTaXplOjUxMn0pO1xyXG4gICAgICAgICAgICAvLyB2YXIgZGF0YVNvdXJjZSA9IG5ldyBDdXN0b20uVVJMRGF0YVNvdXJjZSgpO1xyXG4gICAgICAgICAgICAvLyBkYXRhU291cmNlLnVybCA9ICdodHRwczovL2RpdHUuemp6d2Z3Lmdvdi5jbi9tYXBzZXJ2ZXIvbGFiZWwvemp2bWFwL2dldERhdGFzP3g9JHt4fSZ5PSR7eX0mbD0ke3p9JnN0eWxlSWQ9dGR0X2JpYW96aHVueWFuZ3NoaV8yMDE3JztcclxuICAgICAgICAgICAgLy8gbGFiZWxMYXllci5hZGREYXRhU291cmNlKGRhdGFTb3VyY2UpO1xyXG4gICAgICAgICAgICAvLyBtYXAuYWRkTGF5ZXIobGFiZWxMYXllcik7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbExheWVyID0gbmV3IEwuR1hZWignaHR0cHM6Ly9kaXR1Lnpqendmdy5nb3YuY24vbWFwc2VydmVyL2xhYmVsL3pqdm1hcC9nZXRJbWc/eD17eH0meT17eX0mbD17en0mc3R5bGVJZD10ZHRfYmlhb3podW55YW5nc2hpXzIwMTcnLHt0aWxlU2l6ZTo1MTIsaGl0RGV0ZWN0aW9uOnRydWUsa2VlcEJ1ZmZlcjowLHVwZGF0ZVdoZW5ab29taW5nOmZhbHNlfSk7XHJcbiAgICAgICAgICAgIG1hcC5hZGRMYXllcihsYWJlbExheWVyKTtcclxuICAgICAgICAgICAgdmFyIGN1c3RvbUljb24gPSBMLmljb24oeyBcclxuICAgICAgICAgICAgICAgIGljb25Vcmw6ICcuLi9pbWcvaW5kb29yX3B1Yl9wb2lfcHJlc3NlZC5wbmcnLFxyXG4gICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMSwgMzBdLFxyXG4gICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogICBbMTAsIDIwXSxcclxuICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICB2YXIgY3VyTWFya2VyID0gTC5tYXJrZXIoIFxyXG4gICAgICAgICAgICAgICAgW21hcC5nZXRDZW50ZXIoKS5sYXQsIG1hcC5nZXRDZW50ZXIoKS5sbmddLCBcclxuICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246IGN1c3RvbUljb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgbWFwLmFkZExheWVyKGN1ck1hcmtlcik7XHJcblxyXG4gICAgICAgICAgICBtYXJrZXJzID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoKTtcclxuICAgICAgICAgICAgZHJhd01hcmVrZXJzKCk7XHJcbiAgICAgICAgICAgIG1hcC5hZGRMYXllcihtYXJrZXJzKTtcclxuXHJcbiAgICAgICAgICAgICQoJy53aGl0ZUJ0bicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCgnLmNoZWNrX3RpdGxlJykudGV4dCgkKCcud2hpdGVCdG4nKS5kYXRhKCd0aXRsZScpKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgaW5pdEZpbHRlckh0bWwoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh1c2VyTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICAgICAgICAgICAgICBnZXRQaWNrZXJPcHQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpc3RCdG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgZ2V0RGlzdFBpY2tlck9wdCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBnZXRUYWdQaWNrZXJPcHQoKTtcclxuXHJcbiAgICAgICAgICAgIG1hcC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYoJChcIi5kZXRhaWxfaW5mb1wiKS5oYXNDbGFzcygnYWN0aXZlJykpIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5kZXRhaWxfaW5mb1wiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRQaWNrZXJPcHQoKSB7XHJcbiAgICAgICAgICAgIHBpY2tlck9wdCA9IHt9O1xyXG4gICAgICAgICAgICAkLmVhY2goZmlsdGVyRGF0YXMuU2xpY2Vub0xETmFtZUpzb24sIGZ1bmN0aW9uIChpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWR4S2V5ID0gdmFsLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAvLyBwaWNrZXJPcHRbaWR4S2V5XSA9IFsn5YWo6YOoJ107XHJcbiAgICAgICAgICAgICAgICBwaWNrZXJPcHRbaWR4S2V5XSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbC5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCh2YWwuY2hpbGRyZW4sIGZ1bmN0aW9uIChpZHgsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlck9wdFtpZHhLZXldLnB1c2godmFsdWUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldERpc3RQaWNrZXJPcHQoKSB7XHJcbiAgICAgICAgICAgIGRpc3RQaWNrZXJPcHQgPSB7fTtcclxuICAgICAgICAgICAgJC5lYWNoKGZpbHRlckRhdGFzLkRpc3RyaWN0SnNvbiwgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHhLZXkgPSB2YWwubmFtZTtcclxuICAgICAgICAgICAgICAgIGRpc3RQaWNrZXJPcHRbaWR4S2V5XSA9IFsn5YWo6YOoJ107XHJcbiAgICAgICAgICAgICAgICAvLyBkaXN0UGlja2VyT3B0W2lkeEtleV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2godmFsLmNoaWxkcmVuLCBmdW5jdGlvbiAoaWR4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0UGlja2VyT3B0W2lkeEtleV0ucHVzaCh2YWx1ZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VGFnUGlja2VyT3B0KCkge1xyXG4gICAgICAgICAgICB0YWdQaWNrZXJPcHQgPSB7fTtcclxuICAgICAgICAgICAgJC5lYWNoKGZpbHRlckRhdGFzLnN1cGVydmlzZVRhZywgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHhLZXkgPSB2YWwucGFyYW1OYW1lO1xyXG4gICAgICAgICAgICAgICAgdGFnUGlja2VyT3B0W2lkeEtleV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWpheE1pblRhZ09wdChpZHhLZXksIHZhbC5wYXJhbUNvZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWpheE1pblRhZ09wdChuYW1lLCBjb2RlKSB7XHJcbiAgICAgICAgICAgIC8vIHByZVRhZ01pbk9wdCA9IFt7dGFnTmFtZTogJ+Weg+WcvuWhq+Wfi+WcuicsIHRhZ0NvZGU6ICdBMDE5MDAwMDAwMTAwMDAwMTQnfSxcclxuICAgICAgICAgICAgLy8ge3RhZ05hbWU6ICfnjq/kv53pg6jpl6gyMDE4MTEyNicsIHRhZ0NvZGU6ICdBMDE5MDAwMDAwMTAwMDAwMDMnfSxcclxuICAgICAgICAgICAgLy8ge3RhZ05hbWU6ICflnoPlnL7loavln4vlnLoyMDE4MTEyNicsIHRhZ0NvZGU6ICdBMDE5MDAwMDAwMTAwMDAwMDMnfSxcclxuICAgICAgICAgICAgLy8ge3RhZ05hbWU6ICfnjq/kv53pg6jpl6gnLCB0YWdDb2RlOiAnQTAxOTAwMDAwMDEwMDAwMDAzJ31dO1xyXG4gICAgICAgICAgICAvLyAkLmVhY2gocHJlVGFnTWluT3B0LCBmdW5jdGlvbiAoaWR4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgdGFnUGlja2VyT3B0W25hbWVdLnB1c2godmFsdWUudGFnTmFtZSk7XHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIH0pXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIHVybDogZW5jb2RlVVJJKGJhc2VVcmwgKyB0YWdBY3Rpb24pLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoeyAnZW5jUGFyYW1zU3RyJzogZW5jcnlwdChKU09OLnN0cmluZ2lmeSh7IHRva2VuOiB0b2tlbiwgdXNlcklkOiB1c2VySWQsIHRhZ0xhcmdlQ2F0ZWdvcnk6IGNvZGUgfSkpfSksXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgLy8gZGF0YVR5cGU6IFwianNvbnBcIixcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZVRhZ01pbk9wdCA9IEpTT04ucGFyc2UocmVzKS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZVRhZ01pbk9wdCA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2gocHJlVGFnTWluT3B0LCBmdW5jdGlvbiAoaWR4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdQaWNrZXJPcHRbbmFtZV0ucHVzaCh2YWx1ZS50YWdOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGQuYWxlcnQoeyBjb250ZW50OiBlcnIubXNnIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRGaWx0ZXJIdG1sICgpIHtcclxuICAgICAgICAgICAgdmFyIG1hcmtldEh0bWwgPSAnJywgdHlwZUh0bWwgPSAnJywgc3RhdHVzSHRtbCA9ICcnLCB0YWdIdG1sID0gJyc7XHJcbiAgICAgICAgICAgICQuZWFjaChmaWx0ZXJEYXRhcy5tYXJrZXRUeXBlLCBmdW5jdGlvbiAoaW5kZXgsIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgbWFya2V0SHRtbCArPSAnPGRkIGRhdGEtcGFyYW1Db2RlPVwiJyArIHZhbC5wYXJhbUNvZGUgKyAnXCIgZGF0YS1wYXJhbUNvZGVUeXBlPVwiJyArIHZhbC5wYXJhbUNvZGVUeXBlICsgJ1wiPicgKyB2YWwucGFyYW1OYW1lICsgJzwvZGQ+JztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQuZWFjaChmaWx0ZXJEYXRhcy5jaGVja1R5cGUsIGZ1bmN0aW9uIChpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlSHRtbCArPSAnPGRkIGRhdGEtcGFyYW1Db2RlPVwiJyArIHZhbC5wYXJhbUNvZGUgKyAnXCIgZGF0YS1wYXJhbUNvZGVUeXBlPVwiJyArIHZhbC5wYXJhbUNvZGVUeXBlICsgJ1wiPicgKyB2YWwucGFyYW1OYW1lICsgJzwvZGQ+JztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQuZWFjaChmaWx0ZXJEYXRhcy50YXNrU3RhdHVzLCBmdW5jdGlvbiAoaW5kZXgsIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzSHRtbCArPSAnPGRkIGRhdGEtcGFyYW1Db2RlPVwiJyArIHZhbC5wYXJhbUNvZGUgKyAnXCIgZGF0YS1wYXJhbUNvZGVUeXBlPVwiJyArIHZhbC5wYXJhbUNvZGVUeXBlICsgJ1wiPicgKyB2YWwucGFyYW1OYW1lICsgJzwvZGQ+JztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vICQuZWFjaChmaWx0ZXJEYXRhcy5zdXBlcnZpc2VUYWcsIGZ1bmN0aW9uIChpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAgIC8vICAgICB0YWdIdG1sICs9ICc8ZGQgZGF0YS1wYXJhbUNvZGU9XCInICsgdmFsLnBhcmFtQ29kZSArICdcIiBkYXRhLXBhcmFtQ29kZTE9XCInICsgdmFsLnBhcmFtQ29kZTEgXHJcbiAgICAgICAgICAgIC8vICAgICArICdcIiBkYXRhLXBhcmFtQ29kZTI9XCInICsgdmFsLnBhcmFtQ29kZTIgKyAnXCIgZGF0YS1wYXJhbUNvZGVUeXBlPVwiJyArIHZhbC5wYXJhbUNvZGVUeXBlICsgJ1wiPicgKyB2YWwucGFyYW1OYW1lICsgJzwvZGQ+JztcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICQoJyNNQVJLRVRfVFlQRScpLmh0bWwobWFya2V0SHRtbCk7XHJcbiAgICAgICAgICAgICQoJyNUQVNLX1RZUEUnKS5odG1sKHR5cGVIdG1sKTtcclxuICAgICAgICAgICAgJCgnI1RBU0tfU1RBVFVTJykuaHRtbChzdGF0dXNIdG1sKTtcclxuICAgICAgICAgICAgLy8gJCgnI1NVUEVSVklTRV9UQUcnKS5odG1sKHRhZ0h0bWwpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJChcIi5maWx0ZXJfbGlzdCBkZFwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSAkKGV2LnRhcmdldClbMF0uZGF0YXNldC5wYXJhbWNvZGV0eXBlO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKHR5cGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNQVJLRVRfVFlQRVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWdhbEVudGl0eUNhdGEgPSAkKGV2LnRhcmdldClbMF0uZGF0YXNldC5wYXJhbWNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUQVNLX1RZUEVcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tUeXBlID0gJChldi50YXJnZXQpWzBdLmRhdGFzZXQucGFyYW1jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVEFTS19TVEFUVVNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza1N0YXR1cyA9ICQoZXYudGFyZ2V0KVswXS5kYXRhc2V0LnBhcmFtY29kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSBcIlNVUEVSVklTRV9UQUdfTEFSR0VDTEFTU1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZWdhbEVudGl0eVRhZyA9ICQoZXYudGFyZ2V0KVswXS5kYXRhc2V0LnBhcmFtY29kZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGVnYWxFbnRpdHlUYWcxID0gJChldi50YXJnZXQpWzBdLmRhdGFzZXQucGFyYW1jb2RlMTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGVnYWxFbnRpdHlUYWcyID0gJChldi50YXJnZXQpWzBdLmRhdGFzZXQucGFyYW1jb2RlMjtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnLmZpbHRlckJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnLmN1c3RvbS1tYXNrJykuYWRkQ2xhc3MoJ2N1c3RvbS1tYXNrLS12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICQoJy5jdXN0b20tY29udGFpbmVyJykuYWRkQ2xhc3MoJ2N1c3RvbS1jb250YWluZXItLXZpc2libGUnKTtcclxuICAgICAgICAgICAgJCgnLmN1c3RvbS1jb250YWluZXIgbGknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5jdXN0b20tbWFzaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnLmN1c3RvbS1tYXNrJykucmVtb3ZlQ2xhc3MoJ2N1c3RvbS1tYXNrLS12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgIGlmICgkKFwiLmZsb2F0aW5nX2JveFwiKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgICQoXCIuZmxvYXRpbmdfYm94XCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWx0ZXJfbGlzdF9ib3gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcuY3VzdG9tLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdjdXN0b20tY29udGFpbmVyLS12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuY3VzdG9tLWNvbnRhaW5lciBsaScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcuY3VzdG9tLWNvbnRhaW5lcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAkKCcuY3VzdG9tLW1hc2snKS5yZW1vdmVDbGFzcygnY3VzdG9tLW1hc2stLXZpc2libGUnKTtcclxuICAgICAgICAgICAgJCgnLmN1c3RvbS1jb250YWluZXInKS5yZW1vdmVDbGFzcygnY3VzdG9tLWNvbnRhaW5lci0tdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAkKCcuY3VzdG9tLWNvbnRhaW5lciBsaScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdmFyIG1ldHRlciA9ICQoZXYudGFyZ2V0KS5kYXRhKCdtZXR0ZXInKTtcclxuICAgICAgICAgICAgaWYgKG1ldHRlciA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcuZmlsdGVyQnRuIHNwYW4nKS5odG1sKCfkuI3pmZAnICsgJzxpIGNsYXNzPVwiaWNvbi1hcnJvd1wiPjwvaT4nKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLmZpbHRlckJ0biBzcGFuJykuaHRtbChtZXR0ZXIgKyAnPGkgY2xhc3M9XCJpY29uLWFycm93XCI+PC9pPicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGQucG9zdE1lc3NhZ2Uoe3R5cGU6ICdkaXN0YW5jZScsIHZhbDogbWV0dGVyfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuZmxvYXRpbmdfYm94XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQoJy5jdXN0b20tbWFzaycpLmFkZENsYXNzKCdjdXN0b20tbWFzay0tdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAkKCcuZmlsdGVyX2xpc3RfYm94JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBpZiAoY3VyVGFza1N0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgJCgnI1RBU0tfU1RBVFVTIGRkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IGpRdWVyeS5tYWtlQXJyYXkoJCgnI1RBU0tfU1RBVFVTIGRkJykpO1xyXG4gICAgICAgICAgICAgICAgJC5lYWNoKGFyciwgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsLmRhdGFzZXQucGFyYW1jb2RlID09IHRhc2tTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh2YWwpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI1RBU0tfU1RBVFVTIGRkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaXR5Q29kZS5sZW5ndGggPiAwIHx8IGRpc3RDb2RlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcGlja2VyLWJ0bicpLnRleHQoY2l0eU5hbWUuam9pbignLScpKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcGlja2VyLWJ0bicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2Rpc3RyaWN0LWJ0bicpLnRleHQoZGlzdE5hbWUuam9pbignLScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2Rpc3RyaWN0LWJ0bicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS50ZXh0KGRpc3ROYW1lLmpvaW4oJy0nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rpc3RyaWN0LWJ0bicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcGlja2VyLWJ0bicpLnRleHQoJ+W4gnzljLp85Y6/Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3BpY2tlci1idG4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rpc3RyaWN0LWJ0bicpLnRleHQoJ+WVhuWciC/niYfljLonKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjZGlzdHJpY3QtYnRuJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjZGlzdHJpY3QtYnRuJykudGV4dCgn5ZWG5ZyIL+eJh+WMuicpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1ck1pblRhZ0NvZGUpIHtcclxuICAgICAgICAgICAgICAgICQoJyN0YWctYnRuJykudGV4dChjdXJNaW5UYWdOYW1lKTtcclxuICAgICAgICAgICAgICAgICQoJyN0YWctYnRuJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1ck1heFRhZ0NvZGUpIHtcclxuICAgICAgICAgICAgICAgICQoJyN0YWctYnRuJykudGV4dChjdXJNYXhUYWdOYW1lKTtcclxuICAgICAgICAgICAgICAgICQoJyN0YWctYnRuJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI3RhZy1idG4nKS50ZXh0KCfpgInmi6nnm5HnrqHnsbvlnosnKTtcclxuICAgICAgICAgICAgICAgICQoJyN0YWctYnRuJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJMZWdhbEVudGl0eUNhdGEpIHtcclxuICAgICAgICAgICAgICAgICQoJyNNQVJLRVRfVFlQRSBkZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBqUXVlcnkubWFrZUFycmF5KCQoJyNNQVJLRVRfVFlQRSBkZCcpKTtcclxuICAgICAgICAgICAgICAgICQuZWFjaChhcnIsIGZ1bmN0aW9uIChpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbC5kYXRhc2V0LnBhcmFtY29kZSA9PSBsZWdhbEVudGl0eUNhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh2YWwpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI01BUktFVF9UWVBFIGRkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJDaGVja1R5cGUpIHtcclxuICAgICAgICAgICAgICAgICQoJyNUQVNLX1RZUEUgZGQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0galF1ZXJ5Lm1ha2VBcnJheSgkKCcjVEFTS19UWVBFIGRkJykpO1xyXG4gICAgICAgICAgICAgICAgJC5lYWNoKGFyciwgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsLmRhdGFzZXQucGFyYW1jb2RlID09IGNoZWNrVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHZhbCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjVEFTS19UWVBFIGRkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIChjdXJMZWdhbEVudGl0eVRhZykge1xyXG4gICAgICAgICAgICAvLyAgICAgJCgnI1NVUEVSVklTRV9UQUcgZGQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIC8vICAgICB2YXIgYXJyID0galF1ZXJ5Lm1ha2VBcnJheSgkKCcjU1VQRVJWSVNFX1RBRyBkZCcpKTtcclxuICAgICAgICAgICAgLy8gICAgICQuZWFjaChhcnIsIGZ1bmN0aW9uIChpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKHZhbC5kYXRhc2V0LnBhcmFtY29kZSA9PSBsZWdhbEVudGl0eVRhZykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAkKHZhbCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgICAkKCcjU1VQRVJWSVNFX1RBRyBkZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcuY3VzdG9tLW1hc2snKS5vbigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2KSB7XHJcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5jdXN0b20tY29udGFpbmVyJykub24oJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGV2KSB7XHJcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAkKCcuaXB0U2VhcmNoJykub24oJ2tleWRvd24nLGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAvLyBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmKGUua2V5Q29kZSA9PSAxMyl7XHJcbiAgICAgICAgICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ2tleXdvcmQnLCB2YWw6IGUudGFyZ2V0LnZhbHVlIHx8ICcnfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLmJ0bl9oYW5kbGVyX2JveCBsaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gJChldi50YXJnZXQpLmRhdGEoJ2ZpbHRlcicpO1xyXG4gICAgICAgICAgICB2YXIgdGl0bGUgPSAkKGV2LnRhcmdldCkuZGF0YSgndGl0bGUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KFwibGlcIikuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXIgPT0gXCJcIiB8fCBmaWx0ZXIgPT0gXCIxXCIgfHwgZmlsdGVyID09IFwiMlwiIHx8IGZpbHRlciA9PSBcIjNcIikge1xyXG4gICAgICAgICAgICAgICAgJCgnLmNoZWNrX3RpdGxlJykudGV4dCh0aXRsZSkuZmFkZUluKCk7XHJcbiAgICAgICAgICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ2NoZWNrU3RhdGUnLCB2YWw6IGZpbHRlcn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZpbHRlciA9PSBcInJlc2V0XCIpIHtcclxuICAgICAgICAgICAgICAgICQoJy5jaGVja190aXRsZScpLmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnMuY2xlYXJMYXllcnMoKTtcclxuICAgICAgICAgICAgICAgIG1hcC5zZXRWaWV3KFtOdW1iZXIoaW5pdExhdGxuZy5sYXQpLCBOdW1iZXIoaW5pdExhdGxuZy5sb24pXSwgaW5pdFpvb20pO1xyXG4gICAgICAgICAgICAgICAgY2lyY2xlID0gTC5jaXJjbGUoW21hcC5nZXRDZW50ZXIoKS5sYXQsIG1hcC5nZXRDZW50ZXIoKS5sbmddLCB7cmFkaXVzOiAzMH0pO1xyXG4gICAgICAgICAgICAgICAgbWFwLmFkZExheWVyKGNpcmNsZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIuY2FsbF90ZWxcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwaG9uZU51bSA9ICQoXCIuY2FsbF90ZWxcIikuZGF0YShcInRlbFwiKTtcclxuICAgICAgICAgICAgZGQucG9zdE1lc3NhZ2Uoe3R5cGU6ICdjYWxsUGhvbmUnLCB2YWw6IHBob25lTnVtfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIubWVudV9pY29uXzNcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRkLnBvc3RNZXNzYWdlKHt0eXBlOiAnb3Blbk1hcCcsIHZhbDogbWFwUGFyYW1zfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuZGV0YWlsXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ2RldGFpbCcsIHZhbDogaWR4fSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuZ29jaGVja1wiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZGQucG9zdE1lc3NhZ2Uoe3R5cGU6ICdnb2NoZWNrJywgdmFsOiBpZHh9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi51bmZpbmRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRkLnBvc3RNZXNzYWdlKHt0eXBlOiAndW5maW5kJywgdmFsOiBpZHh9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5yZXNldF9idG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGFyZWFDb2RlID0gW107IGRpc3ROYW1lID0gW107IGRpc3RDb2RlID0gW107XHJcbiAgICAgICAgICAgIGNpdHlOYW1lID0gW107IGNpdHlDb2RlID0gW107XHJcbiAgICAgICAgICAgICQoJyNwaWNrZXItYnRuJykudGV4dCgn5biCfOWMunzljr8nKTtcclxuICAgICAgICAgICAgJCgnI2Rpc3RyaWN0LWJ0bicpLnRleHQoJ+WVhuWciC/niYfljLonKTtcclxuICAgICAgICAgICAgJCgnI3RhZy1idG4nKS50ZXh0KCfpgInmi6nnm5HnrqHnsbvlnosnKTtcclxuICAgICAgICAgICAgJCgnI3RhZy1idG4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGlmICh1c2VyTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgICQoJyNwaWNrZXItYnRuJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2Rpc3RyaWN0LWJ0bicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI2Rpc3RyaWN0LWJ0bicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKFwiLmZpbHRlcl90eXBlIGRkXCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCgnLmN1c3RvbS1tYXNrJykucmVtb3ZlQ2xhc3MoJ2N1c3RvbS1tYXNrLS12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICQoXCIuZmxvYXRpbmdfYm94XCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCgnLmZpbHRlcl9saXN0X2JveCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgY3VyVGFza1N0YXR1cyA9ICcnXHJcbiAgICAgICAgICAgIGN1ckxlZ2FsRW50aXR5Q2F0YSA9ICcnXHJcbiAgICAgICAgICAgIGN1ckNoZWNrVHlwZSA9ICcnXHJcbiAgICAgICAgICAgIC8vIGN1ckxlZ2FsRW50aXR5VGFnID0gJydcclxuICAgICAgICAgICAgLy8gY3VyTGVnYWxFbnRpdHlUYWcxID0gJydcclxuICAgICAgICAgICAgLy8gY3VyTGVnYWxFbnRpdHlUYWcyID0gJydcclxuICAgICAgICAgICAgY3VycmVudEFyZWFDb2RlID0gJydcclxuICAgICAgICAgICAgY3VyTWluVGFnQ29kZSA9ICcnXHJcbiAgICAgICAgICAgIGN1ck1heFRhZ0NvZGUgPSAnJ1xyXG4gICAgICAgICAgICB2YXIgcHJlRmlsdGVyRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHRhc2tTdGF0dXM6ICcnLFxyXG4gICAgICAgICAgICAgICAgYnVzaW5lc3NEaXN0cmljdDogJycsIC8v54mH5Yy6XHJcbiAgICAgICAgICAgICAgICBsZWdhbEVudGl0eUNhdGE6ICcnLFxyXG4gICAgICAgICAgICAgICAgY2hlY2tUeXBlOiAnJyxcclxuICAgICAgICAgICAgICAgIC8vIGxlZ2FsRW50aXR5VGFnOiAnJyxcclxuICAgICAgICAgICAgICAgIC8vIGxlZ2FsRW50aXR5VGFnMTogJycsXHJcbiAgICAgICAgICAgICAgICAvLyBsZWdhbEVudGl0eVRhZzI6ICcnLFxyXG4gICAgICAgICAgICAgICAgbG9jYWxBZG06ICcnLFxyXG4gICAgICAgICAgICAgICAgY3VyTWluVGFnQ29kZTogJycsXHJcbiAgICAgICAgICAgICAgICBjdXJNYXhUYWdDb2RlOiAnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRkLnBvc3RNZXNzYWdlKHt0eXBlOiAnYnVzaW5lc3NEaXN0cmljdCcsIHZhbDogcHJlRmlsdGVyRGF0YX0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLmNvbmZpcm1fYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBhcmVhQ29kZSA9IGNpdHlDb2RlLmNvbmNhdChkaXN0Q29kZSk7XHJcbiAgICAgICAgICAgIC8vIGlmIChhcmVhQ29kZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgY3VycmVudEFyZWFDb2RlID0gYXJlYUNvZGUuam9pbignLCcpO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2UgeyAgICBcclxuICAgICAgICAgICAgLy8gICAgIGN1cnJlbnRBcmVhQ29kZSA9ICcnO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIGN1clRhc2tTdGF0dXMgPSB0YXNrU3RhdHVzIHx8ICcnXHJcbiAgICAgICAgICAgIGN1ckxlZ2FsRW50aXR5Q2F0YSA9IGxlZ2FsRW50aXR5Q2F0YSB8fCAnJ1xyXG4gICAgICAgICAgICBjdXJDaGVja1R5cGUgPSBjaGVja1R5cGUgfHwgJydcclxuICAgICAgICAgICAgY3VyTWluVGFnQ29kZSA9IG1pblRhZ0NvZGUgfHwgJydcclxuICAgICAgICAgICAgY3VyTWF4VGFnQ29kZSA9IG1heFRhZ0NvZGUgfHwgJydcclxuICAgICAgICAgICAgLy8gY3VyTGVnYWxFbnRpdHlUYWcgPSBsZWdhbEVudGl0eVRhZyB8fCAnJ1xyXG4gICAgICAgICAgICAvLyBjdXJMZWdhbEVudGl0eVRhZzEgPSBsZWdhbEVudGl0eVRhZzEgfHwgJydcclxuICAgICAgICAgICAgLy8gY3VyTGVnYWxFbnRpdHlUYWcyID0gbGVnYWxFbnRpdHlUYWcyIHx8ICcnXHJcbiAgICAgICAgICAgIHZhciBwcmVGaWx0ZXJEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhc2tTdGF0dXM6IGN1clRhc2tTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnVzaW5lc3NEaXN0cmljdDogY3VycmVudEFyZWFDb2RlLCAvL+eJh+WMulxyXG4gICAgICAgICAgICAgICAgICAgIGxlZ2FsRW50aXR5Q2F0YTogY3VyTGVnYWxFbnRpdHlDYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrVHlwZTogY3VyQ2hlY2tUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1ck1pblRhZ0NvZGU6IGN1ck1pblRhZ0NvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyTWF4VGFnQ29kZTogY3VyTWF4VGFnQ29kZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlZ2FsRW50aXR5VGFnOiBjdXJMZWdhbEVudGl0eVRhZyxcclxuICAgICAgICAgICAgICAgICAgICAvLyBsZWdhbEVudGl0eVRhZzE6IGN1ckxlZ2FsRW50aXR5VGFnMSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBsZWdhbEVudGl0eVRhZzI6IGN1ckxlZ2FsRW50aXR5VGFnMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaXR5Q29kZS5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcHJlRmlsdGVyRGF0YVsnbG9jYWxBZG0nXSA9IGNpdHlDb2RlWzBdO1xyXG4gICAgICAgICAgICAgICAgcHJlRmlsdGVyRGF0YVsnYnVzaW5lc3NEaXN0cmljdCddID0gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdENvZGUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVGaWx0ZXJEYXRhWydsb2NhbEFkbSddID0gY2l0eUNvZGVbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlRmlsdGVyRGF0YVsnYnVzaW5lc3NEaXN0cmljdCddID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZUZpbHRlckRhdGFbJ2xvY2FsQWRtJ10gPSBkaXN0Q29kZVswXTtcclxuICAgICAgICAgICAgICAgICAgICBwcmVGaWx0ZXJEYXRhWydidXNpbmVzc0Rpc3RyaWN0J10gPSBkaXN0Q29kZVsxXSB8fCAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKCcuY3VzdG9tLW1hc2snKS5yZW1vdmVDbGFzcygnY3VzdG9tLW1hc2stLXZpc2libGUnKTtcclxuICAgICAgICAgICAgJChcIi5mbG9hdGluZ19ib3hcIikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKCcuZmlsdGVyX2xpc3RfYm94JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ2J1c2luZXNzRGlzdHJpY3QnLCB2YWw6IHByZUZpbHRlckRhdGF9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYnRuLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAvLyBkYXRhID0ge1wi5bCP5piO5a62XCI6W10sIFwi5bCP57qi5a62XCI6W1wi5bCP57qi54i454i4XCIsIFwi5bCP57qi5aaI5aaIXCJdfVxyXG4gICAgICAgICAgICB2YXIgcGlja2VyVmlldyA9IG5ldyBQaWNrZXJWaWV3KHtcclxuICAgICAgICAgICAgICAgIGJpbmRFbGVtOiBidG4sXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBwaWNrZXJPcHQsXHJcbiAgICAgICAgICAgICAgICAvLyBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfluIJ85Yy6fOWOvycsXHJcbiAgICAgICAgICAgICAgICBsZWZ0VGV4dDogJ+WPlua2iCcsXHJcbiAgICAgICAgICAgICAgICByaWdodFRleHQ6ICfnoa7lrponLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRGbjogZnVuY3Rpb24oIHNlbGVjdEFyciApe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBpbmRleEFycnkgPSBidG4uZ2V0QXR0cmlidXRlKFwic2VsZWN0Y2FjaGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2l0eU5hbWUgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjaXR5Q29kZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxBbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YlNsaWNlbm9MRE5hbWVKc29uO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdElkeCA9IGZpbHRlckRhdGFzLlNsaWNlbm9MRE5hbWVKc29uLmZpbmRJbmRleChmdW5jdGlvbihvYmope3JldHVybiBvYmoubmFtZSA9PSBzZWxlY3RBcnJbMF19KTtcclxuICAgICAgICAgICAgICAgICAgICBjaXR5Q29kZS5wdXNoKGZpbHRlckRhdGFzLlNsaWNlbm9MRE5hbWVKc29uW2ZpcnN0SWR4XS5jb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoc2VsZWN0QXJyWzFdICE9ICflhajpg6gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNpdHlOYW1lID0gc2VsZWN0QXJyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzZWxBbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgc3ViU2xpY2Vub0xETmFtZUpzb24gPSBmaWx0ZXJEYXRhcy5TbGljZW5vTEROYW1lSnNvbltmaXJzdElkeF0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBzdWJJZHggPSBzdWJTbGljZW5vTEROYW1lSnNvbi5maW5kSW5kZXgoZnVuY3Rpb24odmFsKXtyZXR1cm4gdmFsLm5hbWUgPT0gc2VsZWN0QXJyWzFdfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNpdHlDb2RlLnB1c2goc3ViU2xpY2Vub0xETmFtZUpzb25bc3ViSWR4XS5jb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzZWxBbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjaXR5TmFtZS5wdXNoKHNlbGVjdEFyclswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgIGNpdHlOYW1lID0gc2VsZWN0QXJyO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbEFsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YlNsaWNlbm9MRE5hbWVKc29uID0gZmlsdGVyRGF0YXMuU2xpY2Vub0xETmFtZUpzb25bZmlyc3RJZHhdLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJJZHggPSBzdWJTbGljZW5vTEROYW1lSnNvbi5maW5kSW5kZXgoZnVuY3Rpb24odmFsKXtyZXR1cm4gdmFsLm5hbWUgPT0gc2VsZWN0QXJyWzFdfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2l0eUNvZGUucHVzaChzdWJTbGljZW5vTEROYW1lSnNvbltzdWJJZHhdLmNvZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidG4uaW5uZXJUZXh0ID0gY2l0eU5hbWUuam9pbignLScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCAnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdEJ0bi5pbm5lclRleHQgPSAn5ZWG5ZyIL+eJh+WMuic7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3RCdG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3ROYW1lID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdENvZGUgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ3Nob3dEaXN0cmljdCcsIHZhbDoge2xvY2FsQWRtOiBjaXR5Q29kZVtjaXR5Q29kZS5sZW5ndGggLSAxXSwgc2VsQWxsOiBzZWxBbGx9fSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGlzdEJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHBpY2tlclZpZXcgPSBuZXcgUGlja2VyVmlldyh7XHJcbiAgICAgICAgICAgICAgICBiaW5kRWxlbTogZGlzdEJ0bixcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRpc3RQaWNrZXJPcHQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+WVhuWciC/niYfljLonLFxyXG4gICAgICAgICAgICAgICAgbGVmdFRleHQ6ICflj5bmtognLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRUZXh0OiAn56Gu5a6aJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0Rm46IGZ1bmN0aW9uKCBzZWxlY3RBcnIgKXtcclxuICAgICAgICAgICAgICAgICAgICBkaXN0TmFtZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3RDb2RlID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YlNsaWNlbm9MRE5hbWVKc29uO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdElkeCA9IGZpbHRlckRhdGFzLkRpc3RyaWN0SnNvbi5maW5kSW5kZXgoZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqLm5hbWUgPT0gc2VsZWN0QXJyWzBdfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdENvZGUucHVzaChmaWx0ZXJEYXRhcy5EaXN0cmljdEpzb25bZmlyc3RJZHhdLmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RBcnJbMV0gIT0gJ+WFqOmDqCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdE5hbWUgPSBzZWxlY3RBcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlNsaWNlbm9MRE5hbWVKc29uID0gZmlsdGVyRGF0YXMuRGlzdHJpY3RKc29uW2ZpcnN0SWR4XS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YklkeCA9IHN1YlNsaWNlbm9MRE5hbWVKc29uLmZpbmRJbmRleChmdW5jdGlvbih2YWwpe3JldHVybiB2YWwubmFtZSA9PSBzZWxlY3RBcnJbMV19KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdENvZGUucHVzaChzdWJTbGljZW5vTEROYW1lSnNvbltzdWJJZHhdLmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3ROYW1lLnB1c2goc2VsZWN0QXJyWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzdE5hbWUgPSBzZWxlY3RBcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3ViU2xpY2Vub0xETmFtZUpzb24gPSBmaWx0ZXJEYXRhcy5EaXN0cmljdEpzb25bZmlyc3RJZHhdLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBzdWJJZHggPSBzdWJTbGljZW5vTEROYW1lSnNvbi5maW5kSW5kZXgoZnVuY3Rpb24odmFsKXtyZXR1cm4gdmFsLm5hbWUgPT0gc2VsZWN0QXJyWzFdfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzdENvZGUucHVzaChzdWJTbGljZW5vTEROYW1lSnNvbltzdWJJZHhdLmNvZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkaXN0QnRuLmlubmVyVGV4dCA9IGRpc3ROYW1lLmpvaW4oJy0nKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXN0QnRuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsICdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0YWdCdG4ub25jbGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIC8vIGRhdGEgPSB7XCLlsI/mmI7lrrZcIjpbXSwgXCLlsI/nuqLlrrZcIjpbXCLlsI/nuqLniLjniLhcIiwgXCLlsI/nuqLlpojlpohcIl19XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZpbHRlckRhdGFzLnN1cGVydmlzZVRhZyk7XHJcbiAgICAgICAgICAgIHZhciBwaWNrZXJWaWV3ID0gbmV3IFBpY2tlclZpZXcoe1xyXG4gICAgICAgICAgICAgICAgYmluZEVsZW06IHRhZ0J0bixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHRhZ1BpY2tlck9wdCxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAn55uR566h57G75Z6LJyxcclxuICAgICAgICAgICAgICAgIGxlZnRUZXh0OiAn5Y+W5raIJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0VGV4dDogJ+ehruWumicsXHJcbiAgICAgICAgICAgICAgICBnZXRBamF4RGF0YTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGFqYXhGbjogZnVuY3Rpb24oc2VsZWN0QXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZpbHRlckRhdGFzLnN1cGVydmlzZVRhZywgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbC5wYXJhbU5hbWUgPT0gc2VsZWN0QXJyWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdQaWNrZXJPcHRbdmFsLnBhcmFtTmFtZV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhNaW5UYWdPcHQodmFsLnBhcmFtTmFtZSwgdmFsLnBhcmFtQ29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0Rm46IGZ1bmN0aW9uKHNlbGVjdEFycil7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZpbHRlckRhdGFzLnN1cGVydmlzZVRhZywgZnVuY3Rpb24gKGlkeCwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwucGFyYW1OYW1lID09IHNlbGVjdEFyclswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4VGFnQ29kZSA9IHZhbC5wYXJhbUNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJNYXhUYWdOYW1lID0gdmFsLnBhcmFtTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChwcmVUYWdNaW5PcHQsIGZ1bmN0aW9uIChpZHgsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50YWdOYW1lID09IHNlbGVjdEFyclsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluVGFnQ29kZSA9IHZhbHVlLnRhZ0NvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJNaW5UYWdOYW1lID0gdmFsdWUudGFnTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ck1pblRhZ05hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhZy1idG4nKS50ZXh0KGN1ck1pblRhZ05hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFnLWJ0bicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFnLWJ0bicpLnRleHQoY3VyTWF4VGFnTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWctYnRuJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkcmF3TWFyZWtlcnMoKSB7XHJcbiAgICAgICAgICAgIG1hcmtEYXRhcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJlU3RhdGUgPSB2YWwuY2hlY2tTdGF0ZSwgbWFya2VyO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKHByZVN0YXRlKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXIgPSBMLm1hcmtlcihbdmFsLmxhdCwgdmFsLmxvbl0sIHtkcmFnZ2FibGU6IGZhbHNlLCBvcGFjaXR5OiAxLCBpY29uOiBMLmRpdkljb24oe2NsYXNzTmFtZTogJ2dyZWVuLW1hcmtlcicsIGh0bWw6ICc8cD4nICsgKGluZGV4ICsgMSkgKyAnPC9wPid9KX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMlwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXIgPSBMLm1hcmtlcihbdmFsLmxhdCwgdmFsLmxvbl0sIHtkcmFnZ2FibGU6IGZhbHNlLCBvcGFjaXR5OiAxLCBpY29uOiBMLmRpdkljb24oe2NsYXNzTmFtZTogJ2JsdWUtbWFya2VyJywgaHRtbDogJzxwPicgKyAoaW5kZXggKyAxKSArICc8L3A+J30pfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlciA9IEwubWFya2VyKFt2YWwubGF0LCB2YWwubG9uXSwge2RyYWdnYWJsZTogZmFsc2UsIG9wYWNpdHk6IDEsIGljb246IEwuZGl2SWNvbih7Y2xhc3NOYW1lOiAncmVkLW1hcmtlcicsIGh0bWw6ICc8cD4nICsgKGluZGV4ICsgMSkgKyAnPC9wPid9KX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkTGF5ZXIobWFya2VyKTtcclxuICAgICAgICAgICAgICAgIG1hcmtlci5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCQoXCIuZGV0YWlsX2luZm9cIikuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmRldGFpbF9pbmZvXCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gcGFyc2VJbnQoZS5vcmlnaW5hbEV2ZW50LnRhcmdldC50ZXh0Q29udGVudCkgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGdldEFkcmVzc0luZm8obWFya0RhdGFzW2lkeF0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVkdWN0aW9uTWFwKCkge1xyXG4gICAgICAgICAgICBtYXJrZXJzLmNsZWFyTGF5ZXJzKCk7XHJcbiAgICAgICAgICAgIG1hcC5zZXRWaWV3KFtOdW1iZXIoaW5pdExhdGxuZy5sYXQpLCBOdW1iZXIoaW5pdExhdGxuZy5sb24pXSwgaW5pdFpvb20pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QWRyZXNzSW5mbyAoZSkge1xyXG4gICAgICAgICAgICB2YXIgcmV2ZXJzZVJlc29sdXRpb25VcmwgPSBlbmNvZGVVUkkoXCJodHRwczovL2RoLmRpdHUuemouY246OTQ0My9pbnZlcnNlL2dldEludmVyc2VHZW9jb2RpbmcuanNvbnA/JmRldGFpbD0xJnpvb209MTEmbGF0bG9uPVwiICsgZS5sb24gKyBcIixcIiArIGUubGF0ICsgXCImbGF0PSZsb249JmN1c3RvbWVyPTJcIik7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHJldmVyc2VSZXNvbHV0aW9uVXJsLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvbnBcIixcclxuICAgICAgICAgICAgICAgIC8vIGpzb25wOiBcImNhbGxiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSByZXMuY2l0eS52YWx1ZSArIHJlcy5kaXN0LnZhbHVlICsgcmVzLnRvd24udmFsdWUgKyByZXMucG9pO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIubGVnYWxFbnRpdHlfbmFtZVwiKS50ZXh0KGUubGVnYWxFbnRpdHlOYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIubGVnYWxSZXBfbmFtZVwiKS50ZXh0KGUubGVnYWxSZXApXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5sZWdhbFJlcF90ZWxcIikudGV4dChlLnRlbClcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmFkZHJlc3NfaW5mb1wiKS50ZXh0KGxvY2F0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuZGlzdGFuY2VfaW5mb1wiKS50ZXh0KChwYXJzZUludChlLmRpc3RhbmNlKSAvIDEwMDApLnRvRml4ZWQoMikpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuY2FsbF90ZWxcIikuZGF0YShcInRlbFwiLCBlLnRlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwUGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGUubG9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogZS5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcy5wb2ksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHJlcy5wb2ksXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmRldGFpbF9pbmZvXCIpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRkLmFsZXJ0KHsgY29udGVudDogXCLlnLDlnYDop6PmnpDlh7rplJlcIiB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSJdLCJzb3VyY2VSb290IjoiIn0=