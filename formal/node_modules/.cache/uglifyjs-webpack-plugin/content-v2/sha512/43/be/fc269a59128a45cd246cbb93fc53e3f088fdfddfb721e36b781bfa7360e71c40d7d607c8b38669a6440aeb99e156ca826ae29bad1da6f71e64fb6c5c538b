{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"E:\\\\tianditu\\\\formal\\\\js\\\\checkmap.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"userId\",\"token\",\"baseUrl\",\"tagAction\",\"navigator\",\"userAgent\",\"toLowerCase\",\"indexOf\",\"document\",\"writeln\",\"initLatlng\",\"map\",\"circle\",\"markers\",\"mapParams\",\"idx\",\"filterDatas\",\"userLevel\",\"showDistrict\",\"pickerOpt\",\"distPickerOpt\",\"taskStatus\",\"curTaskStatus\",\"legalEntityCata\",\"curLegalEntityCata\",\"checkType\",\"curCheckType\",\"tagPickerOpt\",\"preTagMinOpt\",\"minTagCode\",\"curMinTagCode\",\"curMinTagName\",\"curMaxTagCode\",\"maxTagCode\",\"curMaxTagName\",\"initZoom\",\"markDatas\",\"cityName\",\"cityCode\",\"distName\",\"distCode\",\"btn\",\"getElementById\",\"distBtn\",\"tagBtn\",\"getDistPickerOpt\",\"$\",\"each\",\"DistrictJson\",\"index\",\"val\",\"idxKey\",\"children\",\"push\",\"ajaxMinTagOpt\",\"code\",\"ajax\",\"async\",\"type\",\"url\",\"encodeURI\",\"data\",\"JSON\",\"stringify\",\"encParamsStr\",\"encrypt\",\"tagLargeCategory\",\"contentType\",\"success\",\"res\",\"parse\",\"tagName\",\"error\",\"err\",\"dd\",\"alert\",\"content\",\"msg\",\"drawMarekers\",\"forEach\",\"marker\",\"checkState\",\"L\",\"lat\",\"lon\",\"draggable\",\"opacity\",\"icon\",\"divIcon\",\"className\",\"html\",\"addLayer\",\"on\",\"e\",\"hasClass\",\"removeClass\",\"parseInt\",\"originalEvent\",\"target\",\"textContent\",\"reverseResolutionUrl\",\"dataType\",\"location\",\"city\",\"dist\",\"town\",\"poi\",\"text\",\"legalEntityName\",\"legalRep\",\"tel\",\"distance\",\"toFixed\",\"longitude\",\"latitude\",\"address\",\"addClass\",\"getAdressInfo\",\"postMessage\",\"onMessage\",\"init\",\"style\",\"display\",\"crs\",\"CRS\",\"CustomEPSG4326\",\"center\",\"minZoom\",\"zoom\",\"inertiaDeceleration\",\"zoomControl\",\"layer\",\"GXYZ\",\"tileSize\",\"labelLayer\",\"hitDetection\",\"keepBuffer\",\"updateWhenZooming\",\"customIcon\",\"iconUrl\",\"iconSize\",\"iconAnchor\",\"curMarker\",\"getCenter\",\"lng\",\"markerClusterGroup\",\"fadeIn\",\"marketHtml\",\"typeHtml\",\"statusHtml\",\"marketType\",\"paramCode\",\"paramCodeType\",\"paramName\",\"ev\",\"this\",\"siblings\",\"dataset\",\"paramcodetype\",\"paramcode\",\"initFilterHtml\",\"SlicenoLDNameJson\",\"superviseTag\",\"clearLayers\",\"setView\",\"Number\",\"drawMap\",\"metter\",\"arr\",\"jQuery\",\"makeArray\",\"length\",\"join\",\"css\",\"preventDefault\",\"keyCode\",\"filter\",\"title\",\"closest\",\"fadeOut\",\"radius\",\"phoneNum\",\"businessDistrict\",\"localAdm\",\"preFilterData\",\"onclick\",\"PickerView\",\"bindElem\",\"leftText\",\"rightText\",\"rightFn\",\"selectArr\",\"subSlicenoLDNameJson\",\"firstIdx\",\"findIndex\",\"obj\",\"subIdx\",\"innerText\",\"setAttribute\",\"selAll\",\"getAjaxData\",\"ajaxFn\",\"tagCode\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"./\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 0);\\n\",\"\\r\\n        if (navigator.userAgent.toLowerCase().indexOf('dingtalk') > -1) {\\r\\n            document.writeln('<script src=\\\"https://appx/web-view.min.js\\\"' + '>' + '<' + '/' + 'script>');\\r\\n        }\\r\\n        var userId, token, baseUrl, tagAction;\\r\\n        var initLatlng, initZoom = 10, cityName, newCenterData,  markDatas = [],\\r\\n        map, curMarker, circle, markers, mapParams, idx, filterDatas, userLevel, showDistrict, pickerOpt, distPickerOpt;\\r\\n        var taskStatus, curTaskStatus, legalEntityCata, curLegalEntityCata, checkType, curCheckType, \\r\\n        legalEntityTag, legalEntityTag1, legalEntityTag2, curLegalEntityTag, curLegalEntityTag1, curLegalEntityTag2,\\r\\n        cityName = [], cityCode = [], distName = [], distCode = [], areaName = [], areaCode = [], currentAreaCode; \\r\\n        var tagPickerOpt, preTagMinOpt, minTagCode, curMinTagCode, curMinTagName, curMaxTagCode, maxTagCode, curMaxTagName;  // 监管标签-picker.data\\r\\n        var btn = document.getElementById(\\\"picker-btn\\\");\\r\\n        var distBtn = document.getElementById(\\\"district-btn\\\");\\r\\n        var tagBtn = document.getElementById(\\\"tag-btn\\\");\\r\\n        dd.postMessage({type: 'init'});\\r\\n        dd.onMessage = function(e) {\\r\\n            userId = e.userId;\\r\\n            token = e.token;\\r\\n            baseUrl = e.baseUrl;\\r\\n            tagAction = e.tagAction,\\r\\n            initLatlng = {lon: e.lon, lat: e.lat} || {lon: 120.14989, lat: 30.27751};  // 默认经纬度为蓝天商务中心\\r\\n            cityName = e.cityName || \\\"杭州市\\\";\\r\\n            markDatas = e.markDatas;\\r\\n            filterDatas = e.filterDatas;\\r\\n            userLevel = e.userLevel;\\r\\n            showDistrict = e.showDistrict;\\r\\n            if (!e.init) {\\r\\n                if (userLevel && showDistrict) {\\r\\n                    distBtn.style.display =  'inline-block';\\r\\n                    getDistPickerOpt()\\r\\n                }\\r\\n            }\\r\\n            drawMap(e.init);\\r\\n        }\\r\\n        function drawMap(e) {\\r\\n            if (e) {\\r\\n                init();\\r\\n                return; \\r\\n            }\\r\\n            reductionMap()\\r\\n            drawMarekers()\\r\\n        }\\r\\n\\r\\n        function init() {\\r\\n            map = L.map('map',{crs:L.CRS.CustomEPSG4326,center: initLatlng, minZoom: 5, zoom: initZoom, inertiaDeceleration:15000, zoomControl: false});\\r\\n            var tileAddress = 'https://ditu.zjzwfw.gov.cn/mapserver/vmap/zjvmap/getMAP?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017';\\r\\n\\r\\n            var layer = new L.GXYZ(tileAddress, {tileSize:512, minZoom: 5});\\r\\n            map.addLayer(layer);\\r\\n\\r\\n            // 添加注记图层\\r\\n            // var labelLayer = new L.GWVTAnno({tileSize:512});\\r\\n            // var dataSource = new Custom.URLDataSource();\\r\\n            // dataSource.url = 'https://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getDatas?x=${x}&y=${y}&l=${z}&styleId=tdt_biaozhunyangshi_2017';\\r\\n            // labelLayer.addDataSource(dataSource);\\r\\n            // map.addLayer(labelLayer);\\r\\n            var labelLayer = new L.GXYZ('https://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getImg?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017',{tileSize:512,hitDetection:true,keepBuffer:0,updateWhenZooming:false});\\r\\n            map.addLayer(labelLayer);\\r\\n            var customIcon = L.icon({ \\r\\n                iconUrl: '../img/indoor_pub_poi_pressed.png',\\r\\n                iconSize: [21, 30],\\r\\n                iconAnchor:   [10, 20],\\r\\n            }); \\r\\n            var curMarker = L.marker( \\r\\n                [map.getCenter().lat, map.getCenter().lng], \\r\\n                { \\r\\n                    draggable: false,\\r\\n                    opacity: 1,\\r\\n                    icon: customIcon\\r\\n                }\\r\\n            );\\r\\n            map.addLayer(curMarker);\\r\\n\\r\\n            markers = L.markerClusterGroup();\\r\\n            drawMarekers();\\r\\n            map.addLayer(markers);\\r\\n\\r\\n            $('.whiteBtn').addClass('active');\\r\\n            $('.check_title').text($('.whiteBtn').data('title')).fadeIn();\\r\\n            initFilterHtml();\\r\\n            \\r\\n            if (userLevel) {\\r\\n                btn.style.display = 'inline-block';\\r\\n                getPickerOpt();\\r\\n            } else {\\r\\n                distBtn.style.display = 'inline-block';\\r\\n                getDistPickerOpt();\\r\\n            }\\r\\n\\r\\n            getTagPickerOpt();\\r\\n\\r\\n            map.on('click', function (e) {\\r\\n                if($(\\\".detail_info\\\").hasClass('active')) { \\r\\n                    $(\\\".detail_info\\\").removeClass('active');\\r\\n                }\\r\\n            });\\r\\n            \\r\\n\\r\\n        }\\r\\n\\r\\n        function getPickerOpt() {\\r\\n            pickerOpt = {};\\r\\n            $.each(filterDatas.SlicenoLDNameJson, function (index, val) {\\r\\n                var idxKey = val.name;\\r\\n                // pickerOpt[idxKey] = ['全部'];\\r\\n                pickerOpt[idxKey] = [];\\r\\n                if (val.children) {\\r\\n                    $.each(val.children, function (idx, value) {\\r\\n                        pickerOpt[idxKey].push(value.name);\\r\\n                    })\\r\\n                }\\r\\n            })\\r\\n        }\\r\\n\\r\\n        function getDistPickerOpt() {\\r\\n            distPickerOpt = {};\\r\\n            $.each(filterDatas.DistrictJson, function (index, val) {\\r\\n                var idxKey = val.name;\\r\\n                distPickerOpt[idxKey] = ['全部'];\\r\\n                // distPickerOpt[idxKey] = [];\\r\\n                if (val.children) {\\r\\n                    $.each(val.children, function (idx, value) {\\r\\n                        distPickerOpt[idxKey].push(value.name);\\r\\n                    })\\r\\n                }\\r\\n            })\\r\\n        }\\r\\n\\r\\n        function getTagPickerOpt() {\\r\\n            tagPickerOpt = {};\\r\\n            $.each(filterDatas.superviseTag, function (index, val) {\\r\\n                var idxKey = val.paramName;\\r\\n                tagPickerOpt[idxKey] = [];\\r\\n                if (index == 0) {\\r\\n                    ajaxMinTagOpt(idxKey, val.paramCode);\\r\\n                }\\r\\n            })\\r\\n        }\\r\\n\\r\\n        function ajaxMinTagOpt(name, code) {\\r\\n            // preTagMinOpt = [{tagName: '垃圾填埋场', tagCode: 'A01900000010000014'},\\r\\n            // {tagName: '环保部门20181126', tagCode: 'A01900000010000003'},\\r\\n            // {tagName: '垃圾填埋场20181126', tagCode: 'A01900000010000003'},\\r\\n            // {tagName: '环保部门', tagCode: 'A01900000010000003'}];\\r\\n            // $.each(preTagMinOpt, function (idx, value) {\\r\\n            //     tagPickerOpt[name].push(value.tagName);\\r\\n            //\\r\\n            // })\\r\\n            $.ajax({\\r\\n                async: false,\\r\\n                type: \\\"POST\\\",\\r\\n                url: encodeURI(baseUrl + tagAction),\\r\\n                data: JSON.stringify({ 'encParamsStr': encrypt(JSON.stringify({ token: token, userId: userId, tagLargeCategory: code }))}),\\r\\n                contentType: 'application/json',\\r\\n                // dataType: \\\"jsonp\\\",\\r\\n                success: function(res) {\\r\\n                    if (typeof res == 'string') {\\r\\n                        preTagMinOpt = JSON.parse(res).data;\\r\\n                    } else {\\r\\n                        preTagMinOpt = res.data;\\r\\n                    }\\r\\n                    $.each(preTagMinOpt, function (idx, value) {\\r\\n                        tagPickerOpt[name].push(value.tagName);\\r\\n                    })\\r\\n                },\\r\\n                error: function (err) {\\r\\n                    dd.alert({ content: err.msg });\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n\\r\\n        function initFilterHtml () {\\r\\n            var marketHtml = '', typeHtml = '', statusHtml = '', tagHtml = '';\\r\\n            $.each(filterDatas.marketType, function (index, val) {\\r\\n                marketHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCodeType=\\\"' + val.paramCodeType + '\\\">' + val.paramName + '</dd>';\\r\\n            });\\r\\n            $.each(filterDatas.checkType, function (index, val) {\\r\\n                typeHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCodeType=\\\"' + val.paramCodeType + '\\\">' + val.paramName + '</dd>';\\r\\n            });\\r\\n            $.each(filterDatas.taskStatus, function (index, val) {\\r\\n                statusHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCodeType=\\\"' + val.paramCodeType + '\\\">' + val.paramName + '</dd>';\\r\\n            });\\r\\n            // $.each(filterDatas.superviseTag, function (index, val) {\\r\\n            //     tagHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCode1=\\\"' + val.paramCode1 \\r\\n            //     + '\\\" data-paramCode2=\\\"' + val.paramCode2 + '\\\" data-paramCodeType=\\\"' + val.paramCodeType + '\\\">' + val.paramName + '</dd>';\\r\\n            // });\\r\\n            $('#MARKET_TYPE').html(marketHtml);\\r\\n            $('#TASK_TYPE').html(typeHtml);\\r\\n            $('#TASK_STATUS').html(statusHtml);\\r\\n            // $('#SUPERVISE_TAG').html(tagHtml);\\r\\n            \\r\\n            $(\\\".filter_list dd\\\").on('click', function (ev) {\\r\\n                $(this).siblings().removeClass('active')\\r\\n                $(this).addClass('active');\\r\\n                var type = $(ev.target)[0].dataset.paramcodetype;\\r\\n                switch(type){\\r\\n                    case \\\"MARKET_TYPE\\\":\\r\\n                        legalEntityCata = $(ev.target)[0].dataset.paramcode;\\r\\n                        break;\\r\\n                    case \\\"TASK_TYPE\\\":\\r\\n                        checkType = $(ev.target)[0].dataset.paramcode;\\r\\n                        break;\\r\\n                    case \\\"TASK_STATUS\\\":\\r\\n                        taskStatus = $(ev.target)[0].dataset.paramcode;\\r\\n                        break;\\r\\n                    // case \\\"SUPERVISE_TAG_LARGECLASS\\\":\\r\\n                    //     legalEntityTag = $(ev.target)[0].dataset.paramcode;\\r\\n                    //     legalEntityTag1 = $(ev.target)[0].dataset.paramcode1;\\r\\n                    //     legalEntityTag2 = $(ev.target)[0].dataset.paramcode2;\\r\\n                    //     break;\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n\\r\\n        $('.filterBtn').on('click', function () {\\r\\n            $('.custom-mask').addClass('custom-mask--visible');\\r\\n            $('.custom-container').addClass('custom-container--visible');\\r\\n            $('.custom-container li').addClass('active');\\r\\n        });\\r\\n\\r\\n        $('.custom-mask').on('click', function () {\\r\\n            $('.custom-mask').removeClass('custom-mask--visible');\\r\\n            if ($(\\\".floating_box\\\").hasClass('active')) {\\r\\n                $(\\\".floating_box\\\").removeClass('active');\\r\\n                $('.filter_list_box').removeClass('active');\\r\\n            } else {\\r\\n                $('.custom-container').removeClass('custom-container--visible');\\r\\n                $('.custom-container li').removeClass('active');\\r\\n            }\\r\\n        });\\r\\n\\r\\n        $('.custom-container').on('click', function (ev) {\\r\\n            $('.custom-mask').removeClass('custom-mask--visible');\\r\\n            $('.custom-container').removeClass('custom-container--visible');\\r\\n            $('.custom-container li').removeClass('active');\\r\\n            var metter = $(ev.target).data('metter');\\r\\n            if (metter == \\\"\\\") {\\r\\n                $('.filterBtn span').html('不限' + '<i class=\\\"icon-arrow\\\"></i>')\\r\\n            } else {\\r\\n                $('.filterBtn span').html(metter + '<i class=\\\"icon-arrow\\\"></i>')\\r\\n            }\\r\\n            dd.postMessage({type: 'distance', val: metter});\\r\\n        });\\r\\n\\r\\n        $(\\\".floating_box\\\").on(\\\"click\\\", function (e) {\\r\\n            $(this).addClass('active');\\r\\n            $('.custom-mask').addClass('custom-mask--visible');\\r\\n            $('.filter_list_box').addClass('active');\\r\\n            if (curTaskStatus) {\\r\\n                $('#TASK_STATUS dd').removeClass('active');\\r\\n                var arr = jQuery.makeArray($('#TASK_STATUS dd'));\\r\\n                $.each(arr, function (index, val) {\\r\\n                    if (val.dataset.paramcode == taskStatus) {\\r\\n                        $(val).addClass('active');\\r\\n                        return true\\r\\n                    }\\r\\n                })\\r\\n            } else {\\r\\n                $('#TASK_STATUS dd').removeClass('active');\\r\\n            }\\r\\n            if (cityCode.length > 0 || distCode.length > 0) {\\r\\n                if (userLevel) {\\r\\n                    $('#picker-btn').text(cityName.join('-'));\\r\\n                    $('#picker-btn').addClass('active');\\r\\n                    if (distName) {\\r\\n                        $('#district-btn').text(distName.join('-'));\\r\\n                        $('#district-btn').addClass('active');\\r\\n                    }\\r\\n                } else {\\r\\n                    $('#district-btn').text(distName.join('-'));\\r\\n                    $('#district-btn').addClass('active');\\r\\n                }\\r\\n            } else {\\r\\n                if (userLevel) {\\r\\n                    $('#picker-btn').text('市|区|县');\\r\\n                    $('#picker-btn').removeClass('active');\\r\\n                    $('#district-btn').text('商圈/片区');\\r\\n                    $('#district-btn').removeClass('active');\\r\\n                    $('#district-btn').css('display', 'none');\\r\\n                } else {\\r\\n                    $('#district-btn').text('商圈/片区');\\r\\n                    $('#district-btn').removeClass('active');\\r\\n                }\\r\\n            }\\r\\n            if (curMinTagCode) {\\r\\n                $('#tag-btn').text(curMinTagName);\\r\\n                $('#tag-btn').addClass('active');\\r\\n            } else if (curMaxTagCode) {\\r\\n                $('#tag-btn').text(curMaxTagName);\\r\\n                $('#tag-btn').addClass('active');\\r\\n            } else {\\r\\n                $('#tag-btn').text('选择监管类型');\\r\\n                $('#tag-btn').removeClass('active');\\r\\n            }\\r\\n            if (curLegalEntityCata) {\\r\\n                $('#MARKET_TYPE dd').removeClass('active');\\r\\n                var arr = jQuery.makeArray($('#MARKET_TYPE dd'));\\r\\n                $.each(arr, function (index, val) {\\r\\n                    if (val.dataset.paramcode == legalEntityCata) {\\r\\n                        $(val).addClass('active');\\r\\n                        return true\\r\\n                    }\\r\\n                })\\r\\n            } else {\\r\\n                $('#MARKET_TYPE dd').removeClass('active');\\r\\n            }\\r\\n            if (curCheckType) {\\r\\n                $('#TASK_TYPE dd').removeClass('active');\\r\\n                var arr = jQuery.makeArray($('#TASK_TYPE dd'));\\r\\n                $.each(arr, function (index, val) {\\r\\n                    if (val.dataset.paramcode == checkType) {\\r\\n                        $(val).addClass('active');\\r\\n                        return true\\r\\n                    }\\r\\n                })\\r\\n            } else {\\r\\n                $('#TASK_TYPE dd').removeClass('active');\\r\\n            }\\r\\n            // if (curLegalEntityTag) {\\r\\n            //     $('#SUPERVISE_TAG dd').removeClass('active');\\r\\n            //     var arr = jQuery.makeArray($('#SUPERVISE_TAG dd'));\\r\\n            //     $.each(arr, function (index, val) {\\r\\n            //         if (val.dataset.paramcode == legalEntityTag) {\\r\\n            //             $(val).addClass('active');\\r\\n            //             return true\\r\\n            //         }\\r\\n            //     })\\r\\n            // } else {\\r\\n            //     $('#SUPERVISE_TAG dd').removeClass('active');\\r\\n            // }\\r\\n        });\\r\\n\\r\\n        $('.custom-mask').on('touchmove', function (ev) {\\r\\n            ev.preventDefault();\\r\\n        });\\r\\n\\r\\n        $('.custom-container').on('touchmove', function(ev) {\\r\\n            ev.preventDefault();\\r\\n        });\\r\\n\\r\\n\\r\\n        $('.iptSearch').on('keydown',function(e){\\r\\n            // e.preventDefault();\\r\\n            if(e.keyCode == 13){\\r\\n                dd.postMessage({type: 'keyword', val: e.target.value || ''});\\r\\n            }\\r\\n        });\\r\\n\\r\\n        $('.btn_handler_box li').on('click', function (ev) {\\r\\n            var filter = $(ev.target).data('filter');\\r\\n            var title = $(ev.target).data('title');\\r\\n            $(this).closest(\\\"li\\\").addClass('active').siblings().removeClass('active')\\r\\n            if (filter == \\\"\\\" || filter == \\\"1\\\" || filter == \\\"2\\\" || filter == \\\"3\\\") {\\r\\n                $('.check_title').text(title).fadeIn();\\r\\n                dd.postMessage({type: 'checkState', val: filter});\\r\\n                return\\r\\n            }\\r\\n            if (filter == \\\"reset\\\") {\\r\\n                $('.check_title').fadeOut();\\r\\n                markers.clearLayers();\\r\\n                map.setView([Number(initLatlng.lat), Number(initLatlng.lon)], initZoom);\\r\\n                circle = L.circle([map.getCenter().lat, map.getCenter().lng], {radius: 30});\\r\\n                map.addLayer(circle);\\r\\n                return\\r\\n            }\\r\\n        });\\r\\n        $(\\\".call_tel\\\").on(\\\"click\\\", function () {\\r\\n            var phoneNum = $(\\\".call_tel\\\").data(\\\"tel\\\");\\r\\n            dd.postMessage({type: 'callPhone', val: phoneNum});\\r\\n        });\\r\\n\\r\\n        $(\\\".menu_icon_3\\\").on(\\\"click\\\", function () {\\r\\n            dd.postMessage({type: 'openMap', val: mapParams});\\r\\n        });\\r\\n\\r\\n        $(\\\".detail\\\").on(\\\"click\\\", function () {\\r\\n            dd.postMessage({type: 'detail', val: idx});\\r\\n        });\\r\\n\\r\\n        $(\\\".gocheck\\\").on(\\\"click\\\", function () {\\r\\n            dd.postMessage({type: 'gocheck', val: idx});\\r\\n        });\\r\\n\\r\\n        $(\\\".unfind\\\").on(\\\"click\\\", function () {\\r\\n            dd.postMessage({type: 'unfind', val: idx});\\r\\n        });\\r\\n\\r\\n        $(\\\".reset_btn\\\").on(\\\"click\\\", function () {\\r\\n            areaCode = []; distName = []; distCode = [];\\r\\n            cityName = []; cityCode = [];\\r\\n            $('#picker-btn').text('市|区|县');\\r\\n            $('#district-btn').text('商圈/片区');\\r\\n            $('#tag-btn').text('选择监管类型');\\r\\n            $('#tag-btn').removeClass('active');\\r\\n            if (userLevel) {\\r\\n                $('#picker-btn').removeClass('active');\\r\\n                $('#district-btn').removeClass('active');\\r\\n                $('#district-btn').css('display', 'none');\\r\\n            } else {\\r\\n                $('#district-btn').removeClass('active');\\r\\n            }\\r\\n            $(\\\".filter_type dd\\\").removeClass('active');\\r\\n            $('.custom-mask').removeClass('custom-mask--visible');\\r\\n            $(\\\".floating_box\\\").removeClass('active');\\r\\n            $('.filter_list_box').removeClass('active');\\r\\n            curTaskStatus = ''\\r\\n            curLegalEntityCata = ''\\r\\n            curCheckType = ''\\r\\n            // curLegalEntityTag = ''\\r\\n            // curLegalEntityTag1 = ''\\r\\n            // curLegalEntityTag2 = ''\\r\\n            currentAreaCode = ''\\r\\n            minTagCode = ''\\r\\n            maxTagCode = ''\\r\\n            curMinTagName = ''\\r\\n            curMaxTagName = ''\\r\\n            curMinTagCode = ''\\r\\n            curMaxTagCode = ''\\r\\n            var preFilterData = {\\r\\n                taskStatus: '',\\r\\n                businessDistrict: '', //片区\\r\\n                legalEntityCata: '',\\r\\n                checkType: '',\\r\\n                // legalEntityTag: '',\\r\\n                // legalEntityTag1: '',\\r\\n                // legalEntityTag2: '',\\r\\n                localAdm: '',\\r\\n                curMinTagCode: '',\\r\\n                curMaxTagCode: ''\\r\\n            }\\r\\n            dd.postMessage({type: 'businessDistrict', val: preFilterData});\\r\\n        });\\r\\n\\r\\n        $(\\\".confirm_btn\\\").on(\\\"click\\\", function () {\\r\\n            // areaCode = cityCode.concat(distCode);\\r\\n            // if (areaCode) {\\r\\n            //     currentAreaCode = areaCode.join(',');\\r\\n            // } else {    \\r\\n            //     currentAreaCode = '';\\r\\n            // }\\r\\n            curTaskStatus = taskStatus || ''\\r\\n            curLegalEntityCata = legalEntityCata || ''\\r\\n            curCheckType = checkType || ''\\r\\n            curMinTagCode = minTagCode || ''\\r\\n            curMaxTagCode = maxTagCode || ''\\r\\n            // curLegalEntityTag = legalEntityTag || ''\\r\\n            // curLegalEntityTag1 = legalEntityTag1 || ''\\r\\n            // curLegalEntityTag2 = legalEntityTag2 || ''\\r\\n            var preFilterData = {\\r\\n                    taskStatus: curTaskStatus,\\r\\n                    // businessDistrict: currentAreaCode, //片区\\r\\n                    legalEntityCata: curLegalEntityCata,\\r\\n                    checkType: curCheckType,\\r\\n                    curMinTagCode: curMinTagCode,\\r\\n                    curMaxTagCode: curMaxTagCode\\r\\n                    // legalEntityTag: curLegalEntityTag,\\r\\n                    // legalEntityTag1: curLegalEntityTag1,\\r\\n                    // legalEntityTag2: curLegalEntityTag2\\r\\n            }\\r\\n            if (cityCode.length == 1) {\\r\\n                preFilterData['localAdm'] = cityCode[0];\\r\\n                preFilterData['businessDistrict'] = '';\\r\\n            } else {\\r\\n                if (distCode.length == 0) {\\r\\n                    preFilterData['localAdm'] = cityCode[0];\\r\\n                    preFilterData['businessDistrict'] = '';\\r\\n                } else {\\r\\n                    preFilterData['localAdm'] = distCode[0];\\r\\n                    preFilterData['businessDistrict'] = distCode[1] || '';\\r\\n                }\\r\\n            }\\r\\n            $('.custom-mask').removeClass('custom-mask--visible');\\r\\n            $(\\\".floating_box\\\").removeClass('active');\\r\\n            $('.filter_list_box').removeClass('active');\\r\\n            dd.postMessage({type: 'businessDistrict', val: preFilterData});\\r\\n        });\\r\\n\\r\\n        btn.onclick = function(){\\r\\n            // data = {\\\"小明家\\\":[], \\\"小红家\\\":[\\\"小红爸爸\\\", \\\"小红妈妈\\\"]}\\r\\n            var pickerView = new PickerView({\\r\\n                bindElem: btn,\\r\\n                data: pickerOpt,\\r\\n                // data: data,\\r\\n                title: '市|区|县',\\r\\n                leftText: '取消',\\r\\n                rightText: '确定',\\r\\n                rightFn: function( selectArr ){\\r\\n                    // var indexArry = btn.getAttribute(\\\"selectcache\\\");\\r\\n                    cityName = [];\\r\\n                    cityCode = [];\\r\\n                    var selAll;\\r\\n                    var subSlicenoLDNameJson;\\r\\n                    var firstIdx = filterDatas.SlicenoLDNameJson.findIndex(function(obj){return obj.name == selectArr[0]});\\r\\n                    cityCode.push(filterDatas.SlicenoLDNameJson[firstIdx].code);\\r\\n                    // if (selectArr[1] != '全部') {\\r\\n                    //     cityName = selectArr;\\r\\n                    //     selAll = false;\\r\\n                    //     subSlicenoLDNameJson = filterDatas.SlicenoLDNameJson[firstIdx].children;\\r\\n                    //     var subIdx = subSlicenoLDNameJson.findIndex(function(val){return val.name == selectArr[1]});\\r\\n                    //     cityCode.push(subSlicenoLDNameJson[subIdx].code);\\r\\n                    // } else {\\r\\n                    //     selAll = true;\\r\\n                    //     cityName.push(selectArr[0]);\\r\\n                    // }\\r\\n                    cityName = selectArr;\\r\\n                    selAll = false;\\r\\n                    subSlicenoLDNameJson = filterDatas.SlicenoLDNameJson[firstIdx].children;\\r\\n                    var subIdx = subSlicenoLDNameJson.findIndex(function(val){return val.name == selectArr[1]});\\r\\n                    cityCode.push(subSlicenoLDNameJson[subIdx].code);\\r\\n\\r\\n                    btn.innerText = cityName.join('-');\\r\\n                    btn.setAttribute(\\\"class\\\", 'active');\\r\\n                    distBtn.innerText = '商圈/片区';\\r\\n                    distBtn.style.display = 'none';\\r\\n                    distBtn.setAttribute(\\\"class\\\", '');\\r\\n                    distName = [];\\r\\n                    distCode = [];\\r\\n                    dd.postMessage({type: 'showDistrict', val: {localAdm: cityCode[cityCode.length - 1], selAll: selAll}});\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n\\r\\n        distBtn.onclick = function(){\\r\\n            var pickerView = new PickerView({\\r\\n                bindElem: distBtn,\\r\\n                data: distPickerOpt,\\r\\n                title: '商圈/片区',\\r\\n                leftText: '取消',\\r\\n                rightText: '确定',\\r\\n                rightFn: function( selectArr ){\\r\\n                    distName = [];\\r\\n                    distCode = [];\\r\\n                    var subSlicenoLDNameJson;\\r\\n                    var firstIdx = filterDatas.DistrictJson.findIndex(function(obj){return obj.name == selectArr[0]});\\r\\n                    distCode.push(filterDatas.DistrictJson[firstIdx].code);\\r\\n                    if (selectArr[1] != '全部') {\\r\\n                        distName = selectArr;\\r\\n                        subSlicenoLDNameJson = filterDatas.DistrictJson[firstIdx].children;\\r\\n                        var subIdx = subSlicenoLDNameJson.findIndex(function(val){return val.name == selectArr[1]});\\r\\n                        distCode.push(subSlicenoLDNameJson[subIdx].code);\\r\\n                    } else {\\r\\n                        distName.push(selectArr[0]);\\r\\n                    }\\r\\n                    // distName = selectArr;\\r\\n                    // subSlicenoLDNameJson = filterDatas.DistrictJson[firstIdx].children;\\r\\n                    // var subIdx = subSlicenoLDNameJson.findIndex(function(val){return val.name == selectArr[1]});\\r\\n                    // distCode.push(subSlicenoLDNameJson[subIdx].code);\\r\\n\\r\\n                    distBtn.innerText = distName.join('-');\\r\\n                    distBtn.setAttribute(\\\"class\\\", 'active');\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n\\r\\n        tagBtn.onclick = function(){\\r\\n            // data = {\\\"小明家\\\":[], \\\"小红家\\\":[\\\"小红爸爸\\\", \\\"小红妈妈\\\"]}\\r\\n            // console.log(filterDatas.superviseTag);\\r\\n            var pickerView = new PickerView({\\r\\n                bindElem: tagBtn,\\r\\n                data: tagPickerOpt,\\r\\n                title: '监管类型',\\r\\n                leftText: '取消',\\r\\n                rightText: '确定',\\r\\n                getAjaxData: true,\\r\\n                ajaxFn: function(selectArr) {\\r\\n                    $.each(filterDatas.superviseTag, function (index, val) {\\r\\n                        if (val.paramName == selectArr[0]) {\\r\\n                            tagPickerOpt[val.paramName] = [];\\r\\n                            ajaxMinTagOpt(val.paramName, val.paramCode);\\r\\n                            return false;\\r\\n                        }\\r\\n                    })\\r\\n                },\\r\\n                rightFn: function(selectArr){\\r\\n                    curMinTagName = '';\\r\\n                    curMaxTagName = '';\\r\\n                    maxTagCode = '';\\r\\n                    minTagCode = '';\\r\\n                    $.each(filterDatas.superviseTag, function (idx, val) {\\r\\n                        if (val.paramName == selectArr[0]) {\\r\\n                            maxTagCode = val.paramCode;\\r\\n                            curMaxTagName = val.paramName;\\r\\n                            return false;\\r\\n                        }\\r\\n                    });\\r\\n                    $.each(preTagMinOpt, function (idx, value) {\\r\\n                        if (value.tagName == selectArr[1]) {\\r\\n                            minTagCode = value.tagCode;\\r\\n                            curMinTagName = value.tagName;\\r\\n                            return false;\\r\\n                        }\\r\\n                    })\\r\\n                    if (selectArr[1]) {\\r\\n                        $('#tag-btn').text(curMinTagName);\\r\\n                        $('#tag-btn').addClass('active');\\r\\n                    } else {\\r\\n                        $('#tag-btn').text(curMaxTagName);\\r\\n                        $('#tag-btn').addClass('active');\\r\\n                    }\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n        \\r\\n\\r\\n        function drawMarekers() {\\r\\n            markDatas.forEach(function (val, index) {\\r\\n                var preState = val.checkState, marker;\\r\\n                switch(preState){\\r\\n                    case \\\"1\\\":\\r\\n                        marker = L.marker([val.lat, val.lon], {draggable: false, opacity: 1, icon: L.divIcon({className: 'green-marker', html: '<p>' + (index + 1) + '</p>'})});\\r\\n                        break;\\r\\n                    case \\\"2\\\":\\r\\n                        marker = L.marker([val.lat, val.lon], {draggable: false, opacity: 1, icon: L.divIcon({className: 'blue-marker', html: '<p>' + (index + 1) + '</p>'})});\\r\\n                        break;\\r\\n                    case \\\"3\\\":\\r\\n                        marker = L.marker([val.lat, val.lon], {draggable: false, opacity: 1, icon: L.divIcon({className: 'red-marker', html: '<p>' + (index + 1) + '</p>'})});\\r\\n                        break;\\r\\n                }\\r\\n                markers.addLayer(marker);\\r\\n                marker.on('click', function (e) {\\r\\n                    if($(\\\".detail_info\\\").hasClass('active')) { \\r\\n                        $(\\\".detail_info\\\").removeClass('active');\\r\\n                    }\\r\\n                    idx = parseInt(e.originalEvent.target.textContent) - 1;\\r\\n                    getAdressInfo(markDatas[idx]);\\r\\n                });\\r\\n            });\\r\\n        }\\r\\n\\r\\n        function reductionMap() {\\r\\n            markers.clearLayers();\\r\\n            map.setView([Number(initLatlng.lat), Number(initLatlng.lon)], initZoom);\\r\\n        }\\r\\n\\r\\n        function getAdressInfo (e) {\\r\\n            var reverseResolutionUrl = encodeURI(\\\"https://dh.ditu.zj.cn:9443/inverse/getInverseGeocoding.jsonp?&detail=1&zoom=11&latlon=\\\" + e.lon + \\\",\\\" + e.lat + \\\"&lat=&lon=&customer=2\\\");\\r\\n            $.ajax({\\r\\n                url: reverseResolutionUrl,\\r\\n                dataType: \\\"jsonp\\\",\\r\\n                // jsonp: \\\"callback\\\",\\r\\n                success: function(res) {\\r\\n                    var location = res.city.value + res.dist.value + res.town.value + res.poi;\\r\\n                    $(\\\".legalEntity_name\\\").text(e.legalEntityName)\\r\\n                    $(\\\".legalRep_name\\\").text(e.legalRep)\\r\\n                    $(\\\".legalRep_tel\\\").text(e.tel)\\r\\n                    $(\\\".address_info\\\").text(location)\\r\\n                    $(\\\".distance_info\\\").text((parseInt(e.distance) / 1000).toFixed(2));\\r\\n                    $(\\\".call_tel\\\").data(\\\"tel\\\", e.tel);\\r\\n                    mapParams = {\\r\\n                        longitude: e.lon,\\r\\n                        latitude: e.lat,\\r\\n                        name: res.poi,\\r\\n                        address: res.poi,\\r\\n                    };\\r\\n                    $(\\\".detail_info\\\").addClass('active');\\r\\n                },\\r\\n                error: function (err) {\\r\\n                    dd.alert({ content: \\\"地址解析出错\\\" });\\r\\n                }\\r\\n            });\\r\\n        }\"]}","code":"!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"./\",a(a.s=0)}([function(e,t){var a,n,i,s;navigator.userAgent.toLowerCase().indexOf(\"dingtalk\")>-1&&document.writeln('<script src=\"https://appx/web-view.min.js\"><\\/script>');var o,c,r,l,d,m,u,v,p,f,g,b,y,h,C,k,T,_,x,S,A,w,j,E,M,N=10,D=[],P=[],I=[],z=[],K=[],O=document.getElementById(\"picker-btn\"),Y=document.getElementById(\"district-btn\"),J=document.getElementById(\"tag-btn\");function R(){g={},$.each(u.DistrictJson,function(e,t){var a=t.name;g[a]=[\"全部\"],t.children&&$.each(t.children,function(e,t){g[a].push(t.name)})})}function B(e,t){$.ajax({async:!1,type:\"POST\",url:encodeURI(i+s),data:JSON.stringify({encParamsStr:encrypt(JSON.stringify({token:n,userId:a,tagLargeCategory:t}))}),contentType:\"application/json\",success:function(t){x=\"string\"==typeof t?JSON.parse(t).data:t.data,$.each(x,function(t,a){_[e].push(a.tagName)})},error:function(e){dd.alert({content:e.msg})}})}function U(){D.forEach(function(e,t){var a;switch(e.checkState){case\"1\":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:\"green-marker\",html:\"<p>\"+(t+1)+\"</p>\"})});break;case\"2\":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:\"blue-marker\",html:\"<p>\"+(t+1)+\"</p>\"})});break;case\"3\":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:\"red-marker\",html:\"<p>\"+(t+1)+\"</p>\"})})}l.addLayer(a),a.on(\"click\",function(e){$(\".detail_info\").hasClass(\"active\")&&$(\".detail_info\").removeClass(\"active\"),m=parseInt(e.originalEvent.target.textContent)-1,function(e){var t=encodeURI(\"https://dh.ditu.zj.cn:9443/inverse/getInverseGeocoding.jsonp?&detail=1&zoom=11&latlon=\"+e.lon+\",\"+e.lat+\"&lat=&lon=&customer=2\");$.ajax({url:t,dataType:\"jsonp\",success:function(t){var a=t.city.value+t.dist.value+t.town.value+t.poi;$(\".legalEntity_name\").text(e.legalEntityName),$(\".legalRep_name\").text(e.legalRep),$(\".legalRep_tel\").text(e.tel),$(\".address_info\").text(a),$(\".distance_info\").text((parseInt(e.distance)/1e3).toFixed(2)),$(\".call_tel\").data(\"tel\",e.tel),d={longitude:e.lon,latitude:e.lat,name:t.poi,address:t.poi},$(\".detail_info\").addClass(\"active\")},error:function(e){dd.alert({content:\"地址解析出错\"})}})}(D[m])})})}dd.postMessage({type:\"init\"}),dd.onMessage=function(e){a=e.userId,n=e.token,i=e.baseUrl,s=e.tagAction,o={lon:e.lon,lat:e.lat}||{lon:120.14989,lat:30.27751},P=e.cityName||\"杭州市\",D=e.markDatas,u=e.filterDatas,v=e.userLevel,p=e.showDistrict,e.init||v&&p&&(Y.style.display=\"inline-block\",R()),function(e){if(e)return void function(){c=L.map(\"map\",{crs:L.CRS.CustomEPSG4326,center:o,minZoom:5,zoom:N,inertiaDeceleration:15e3,zoomControl:!1});var e=new L.GXYZ(\"https://ditu.zjzwfw.gov.cn/mapserver/vmap/zjvmap/getMAP?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017\",{tileSize:512,minZoom:5});c.addLayer(e);var t=new L.GXYZ(\"https://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getImg?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017\",{tileSize:512,hitDetection:!0,keepBuffer:0,updateWhenZooming:!1});c.addLayer(t);var a=L.icon({iconUrl:\"../img/indoor_pub_poi_pressed.png\",iconSize:[21,30],iconAnchor:[10,20]}),n=L.marker([c.getCenter().lat,c.getCenter().lng],{draggable:!1,opacity:1,icon:a});c.addLayer(n),l=L.markerClusterGroup(),U(),c.addLayer(l),$(\".whiteBtn\").addClass(\"active\"),$(\".check_title\").text($(\".whiteBtn\").data(\"title\")).fadeIn(),function(){var e=\"\",t=\"\",a=\"\";$.each(u.marketType,function(t,a){e+='<dd data-paramCode=\"'+a.paramCode+'\" data-paramCodeType=\"'+a.paramCodeType+'\">'+a.paramName+\"</dd>\"}),$.each(u.checkType,function(e,a){t+='<dd data-paramCode=\"'+a.paramCode+'\" data-paramCodeType=\"'+a.paramCodeType+'\">'+a.paramName+\"</dd>\"}),$.each(u.taskStatus,function(e,t){a+='<dd data-paramCode=\"'+t.paramCode+'\" data-paramCodeType=\"'+t.paramCodeType+'\">'+t.paramName+\"</dd>\"}),$(\"#MARKET_TYPE\").html(e),$(\"#TASK_TYPE\").html(t),$(\"#TASK_STATUS\").html(a),$(\".filter_list dd\").on(\"click\",function(e){$(this).siblings().removeClass(\"active\"),$(this).addClass(\"active\");var t=$(e.target)[0].dataset.paramcodetype;switch(t){case\"MARKET_TYPE\":h=$(e.target)[0].dataset.paramcode;break;case\"TASK_TYPE\":k=$(e.target)[0].dataset.paramcode;break;case\"TASK_STATUS\":b=$(e.target)[0].dataset.paramcode}})}(),v?(O.style.display=\"inline-block\",f={},$.each(u.SlicenoLDNameJson,function(e,t){var a=t.name;f[a]=[],t.children&&$.each(t.children,function(e,t){f[a].push(t.name)})})):(Y.style.display=\"inline-block\",R());_={},$.each(u.superviseTag,function(e,t){var a=t.paramName;_[a]=[],0==e&&B(a,t.paramCode)}),c.on(\"click\",function(e){$(\".detail_info\").hasClass(\"active\")&&$(\".detail_info\").removeClass(\"active\")})}();l.clearLayers(),c.setView([Number(o.lat),Number(o.lon)],N),U()}(e.init)},$(\".filterBtn\").on(\"click\",function(){$(\".custom-mask\").addClass(\"custom-mask--visible\"),$(\".custom-container\").addClass(\"custom-container--visible\"),$(\".custom-container li\").addClass(\"active\")}),$(\".custom-mask\").on(\"click\",function(){$(\".custom-mask\").removeClass(\"custom-mask--visible\"),$(\".floating_box\").hasClass(\"active\")?($(\".floating_box\").removeClass(\"active\"),$(\".filter_list_box\").removeClass(\"active\")):($(\".custom-container\").removeClass(\"custom-container--visible\"),$(\".custom-container li\").removeClass(\"active\"))}),$(\".custom-container\").on(\"click\",function(e){$(\".custom-mask\").removeClass(\"custom-mask--visible\"),$(\".custom-container\").removeClass(\"custom-container--visible\"),$(\".custom-container li\").removeClass(\"active\");var t=$(e.target).data(\"metter\");\"\"==t?$(\".filterBtn span\").html('不限<i class=\"icon-arrow\"></i>'):$(\".filterBtn span\").html(t+'<i class=\"icon-arrow\"></i>'),dd.postMessage({type:\"distance\",val:t})}),$(\".floating_box\").on(\"click\",function(e){if($(this).addClass(\"active\"),$(\".custom-mask\").addClass(\"custom-mask--visible\"),$(\".filter_list_box\").addClass(\"active\"),y){$(\"#TASK_STATUS dd\").removeClass(\"active\");var t=jQuery.makeArray($(\"#TASK_STATUS dd\"));$.each(t,function(e,t){if(t.dataset.paramcode==b)return $(t).addClass(\"active\"),!0})}else $(\"#TASK_STATUS dd\").removeClass(\"active\");if(I.length>0||K.length>0?v?($(\"#picker-btn\").text(P.join(\"-\")),$(\"#picker-btn\").addClass(\"active\"),z&&($(\"#district-btn\").text(z.join(\"-\")),$(\"#district-btn\").addClass(\"active\"))):($(\"#district-btn\").text(z.join(\"-\")),$(\"#district-btn\").addClass(\"active\")):v?($(\"#picker-btn\").text(\"市|区|县\"),$(\"#picker-btn\").removeClass(\"active\"),$(\"#district-btn\").text(\"商圈/片区\"),$(\"#district-btn\").removeClass(\"active\"),$(\"#district-btn\").css(\"display\",\"none\")):($(\"#district-btn\").text(\"商圈/片区\"),$(\"#district-btn\").removeClass(\"active\")),A?($(\"#tag-btn\").text(w),$(\"#tag-btn\").addClass(\"active\")):j?($(\"#tag-btn\").text(M),$(\"#tag-btn\").addClass(\"active\")):($(\"#tag-btn\").text(\"选择监管类型\"),$(\"#tag-btn\").removeClass(\"active\")),C){$(\"#MARKET_TYPE dd\").removeClass(\"active\");t=jQuery.makeArray($(\"#MARKET_TYPE dd\"));$.each(t,function(e,t){if(t.dataset.paramcode==h)return $(t).addClass(\"active\"),!0})}else $(\"#MARKET_TYPE dd\").removeClass(\"active\");if(T){$(\"#TASK_TYPE dd\").removeClass(\"active\");t=jQuery.makeArray($(\"#TASK_TYPE dd\"));$.each(t,function(e,t){if(t.dataset.paramcode==k)return $(t).addClass(\"active\"),!0})}else $(\"#TASK_TYPE dd\").removeClass(\"active\")}),$(\".custom-mask\").on(\"touchmove\",function(e){e.preventDefault()}),$(\".custom-container\").on(\"touchmove\",function(e){e.preventDefault()}),$(\".iptSearch\").on(\"keydown\",function(e){13==e.keyCode&&dd.postMessage({type:\"keyword\",val:e.target.value||\"\"})}),$(\".btn_handler_box li\").on(\"click\",function(e){var t=$(e.target).data(\"filter\"),a=$(e.target).data(\"title\");return $(this).closest(\"li\").addClass(\"active\").siblings().removeClass(\"active\"),\"\"==t||\"1\"==t||\"2\"==t||\"3\"==t?($(\".check_title\").text(a).fadeIn(),void dd.postMessage({type:\"checkState\",val:t})):\"reset\"==t?($(\".check_title\").fadeOut(),l.clearLayers(),c.setView([Number(o.lat),Number(o.lon)],N),r=L.circle([c.getCenter().lat,c.getCenter().lng],{radius:30}),void c.addLayer(r)):void 0}),$(\".call_tel\").on(\"click\",function(){var e=$(\".call_tel\").data(\"tel\");dd.postMessage({type:\"callPhone\",val:e})}),$(\".menu_icon_3\").on(\"click\",function(){dd.postMessage({type:\"openMap\",val:d})}),$(\".detail\").on(\"click\",function(){dd.postMessage({type:\"detail\",val:m})}),$(\".gocheck\").on(\"click\",function(){dd.postMessage({type:\"gocheck\",val:m})}),$(\".unfind\").on(\"click\",function(){dd.postMessage({type:\"unfind\",val:m})}),$(\".reset_btn\").on(\"click\",function(){[],z=[],K=[],P=[],I=[],$(\"#picker-btn\").text(\"市|区|县\"),$(\"#district-btn\").text(\"商圈/片区\"),$(\"#tag-btn\").text(\"选择监管类型\"),$(\"#tag-btn\").removeClass(\"active\"),v?($(\"#picker-btn\").removeClass(\"active\"),$(\"#district-btn\").removeClass(\"active\"),$(\"#district-btn\").css(\"display\",\"none\")):$(\"#district-btn\").removeClass(\"active\"),$(\".filter_type dd\").removeClass(\"active\"),$(\".custom-mask\").removeClass(\"custom-mask--visible\"),$(\".floating_box\").removeClass(\"active\"),$(\".filter_list_box\").removeClass(\"active\"),y=\"\",C=\"\",T=\"\",\"\",S=\"\",E=\"\",w=\"\",M=\"\",A=\"\",j=\"\";dd.postMessage({type:\"businessDistrict\",val:{taskStatus:\"\",businessDistrict:\"\",legalEntityCata:\"\",checkType:\"\",localAdm:\"\",curMinTagCode:\"\",curMaxTagCode:\"\"}})}),$(\".confirm_btn\").on(\"click\",function(){var e={taskStatus:y=b||\"\",legalEntityCata:C=h||\"\",checkType:T=k||\"\",curMinTagCode:A=S||\"\",curMaxTagCode:j=E||\"\"};1==I.length?(e.localAdm=I[0],e.businessDistrict=\"\"):0==K.length?(e.localAdm=I[0],e.businessDistrict=\"\"):(e.localAdm=K[0],e.businessDistrict=K[1]||\"\"),$(\".custom-mask\").removeClass(\"custom-mask--visible\"),$(\".floating_box\").removeClass(\"active\"),$(\".filter_list_box\").removeClass(\"active\"),dd.postMessage({type:\"businessDistrict\",val:e})}),O.onclick=function(){new PickerView({bindElem:O,data:f,title:\"市|区|县\",leftText:\"取消\",rightText:\"确定\",rightFn:function(e){var t;P=[],I=[];var a=u.SlicenoLDNameJson.findIndex(function(t){return t.name==e[0]});I.push(u.SlicenoLDNameJson[a].code),P=e;var n=(t=u.SlicenoLDNameJson[a].children).findIndex(function(t){return t.name==e[1]});I.push(t[n].code),O.innerText=P.join(\"-\"),O.setAttribute(\"class\",\"active\"),Y.innerText=\"商圈/片区\",Y.style.display=\"none\",Y.setAttribute(\"class\",\"\"),z=[],K=[],dd.postMessage({type:\"showDistrict\",val:{localAdm:I[I.length-1],selAll:!1}})}})},Y.onclick=function(){new PickerView({bindElem:Y,data:g,title:\"商圈/片区\",leftText:\"取消\",rightText:\"确定\",rightFn:function(e){var t;z=[],K=[];var a=u.DistrictJson.findIndex(function(t){return t.name==e[0]});if(K.push(u.DistrictJson[a].code),\"全部\"!=e[1]){z=e;var n=(t=u.DistrictJson[a].children).findIndex(function(t){return t.name==e[1]});K.push(t[n].code)}else z.push(e[0]);Y.innerText=z.join(\"-\"),Y.setAttribute(\"class\",\"active\")}})},J.onclick=function(){new PickerView({bindElem:J,data:_,title:\"监管类型\",leftText:\"取消\",rightText:\"确定\",getAjaxData:!0,ajaxFn:function(e){$.each(u.superviseTag,function(t,a){if(a.paramName==e[0])return _[a.paramName]=[],B(a.paramName,a.paramCode),!1})},rightFn:function(e){w=\"\",M=\"\",E=\"\",S=\"\",$.each(u.superviseTag,function(t,a){if(a.paramName==e[0])return E=a.paramCode,M=a.paramName,!1}),$.each(x,function(t,a){if(a.tagName==e[1])return S=a.tagCode,w=a.tagName,!1}),e[1]?($(\"#tag-btn\").text(w),$(\"#tag-btn\").addClass(\"active\")):($(\"#tag-btn\").text(M),$(\"#tag-btn\").addClass(\"active\"))}})}}]);","extractedComments":[]}