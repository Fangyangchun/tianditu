{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"E:\\\\tianditu\\\\formal\\\\js\\\\checkmap.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"navigator\",\"userAgent\",\"toLowerCase\",\"indexOf\",\"document\",\"writeln\",\"tagLineData\",\"dutyDeptCode\",\"curDutyDeptCode\",\"initLatlng\",\"map\",\"circle\",\"markers\",\"mapParams\",\"idx\",\"filterDatas\",\"userLevel\",\"pickerOpt\",\"distPickerOpt\",\"taskStatus\",\"curTaskStatus\",\"legalEntityCata\",\"curLegalEntityCata\",\"checkType\",\"curCheckType\",\"minTagCode\",\"curMinTagCode\",\"minTagName\",\"curMinTagName\",\"curMaxTagCode\",\"maxTagCode\",\"curMaxTagName\",\"maxTagName\",\"largeTagData\",\"smallTagData\",\"curLargeTagData\",\"curSmallTagData\",\"initZoom\",\"markDatas\",\"cityName\",\"cityCode\",\"distName\",\"distCode\",\"btn\",\"getElementById\",\"distBtn\",\"renderLargeTag\",\"flag\",\"largeTagHtml\",\"largeData\",\"$\",\"each\",\"index\",\"val\",\"paramName\",\"length\",\"paramCode\",\"paramCode1\",\"paramCode2\",\"substring\",\"html\",\"css\",\"on\",\"this\",\"siblings\",\"removeClass\",\"hasClass\",\"addClass\",\"data\",\"text\",\"dd\",\"postMessage\",\"type\",\"renderSmallTag\",\"smallData\",\"smallTagHtml\",\"tagName\",\"tagCode\",\"getDistPickerOpt\",\"DistrictJson\",\"idxKey\",\"children\",\"push\",\"drawMarekers\",\"forEach\",\"marker\",\"checkState\",\"L\",\"lat\",\"lon\",\"draggable\",\"opacity\",\"icon\",\"divIcon\",\"className\",\"addLayer\",\"e\",\"parseInt\",\"originalEvent\",\"target\",\"textContent\",\"reverseResolutionUrl\",\"encodeURI\",\"ajax\",\"url\",\"dataType\",\"success\",\"res\",\"location\",\"city\",\"dist\",\"town\",\"poi\",\"legalEntityName\",\"legalRep\",\"tel\",\"distance\",\"toFixed\",\"longitude\",\"latitude\",\"address\",\"error\",\"err\",\"alert\",\"content\",\"getAdressInfo\",\"onMessage\",\"userId\",\"token\",\"baseUrl\",\"tagAction\",\"showDistrict\",\"crs\",\"CRS\",\"CustomEPSG4326\",\"center\",\"minZoom\",\"zoom\",\"inertiaDeceleration\",\"zoomControl\",\"layer\",\"GXYZ\",\"tileSize\",\"labelLayer\",\"hitDetection\",\"keepBuffer\",\"updateWhenZooming\",\"customIcon\",\"iconUrl\",\"iconSize\",\"iconAnchor\",\"curMarker\",\"getCenter\",\"lng\",\"markerClusterGroup\",\"fadeIn\",\"marketHtml\",\"typeHtml\",\"statusHtml\",\"tagHtml\",\"marketType\",\"paramCodeType\",\"dutyDeptName\",\"ev\",\"dataset\",\"paramcodetype\",\"paramcode\",\"dutyDeptCodeName\",\"initFilterHtml\",\"style\",\"display\",\"SlicenoLDNameJson\",\"init\",\"clearLayers\",\"setView\",\"Number\",\"metter\",\"arr\",\"jQuery\",\"makeArray\",\"join\",\"dutydeptcode\",\"preventDefault\",\"keyCode\",\"filter\",\"title\",\"closest\",\"fadeOut\",\"radius\",\"phoneNum\",\"businessDistrict\",\"localAdm\",\"preFilterData\",\"onclick\",\"PickerView\",\"bindElem\",\"leftText\",\"rightText\",\"rightFn\",\"selectArr\",\"subSlicenoLDNameJson\",\"firstIdx\",\"findIndex\",\"obj\",\"code\",\"subIdx\",\"innerText\",\"setAttribute\",\"selAll\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"./\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 0);\\n\",\"\\r\\n        if (navigator.userAgent.toLowerCase().indexOf('dingtalk') > -1) {\\r\\n            document.writeln('<script src=\\\"https://appx/web-view.min.js\\\"' + '>' + '<' + '/' + 'script>');\\r\\n        }\\r\\n        var userId, token, baseUrl, tagAction, dataType, tagLineData, largeTagData = [], smallTagData = [], curLargeTagData = [], curSmallTagData = [],\\r\\n        dutyDeptCode, curDutyDeptCode;\\r\\n        var initLatlng, initZoom = 10, cityNames, newCenterData,  markDatas = [],\\r\\n        map, curMarker, circle, markers, mapParams, idx, filterDatas, userLevel, showDistrict, pickerOpt, distPickerOpt;\\r\\n        var taskStatus, curTaskStatus, legalEntityCata, curLegalEntityCata, checkType, curCheckType, \\r\\n        legalEntityTag, legalEntityTag1, legalEntityTag2, curLegalEntityTag, curLegalEntityTag1, curLegalEntityTag2,\\r\\n        cityName = [], cityCode = [], distName = [], distCode = [], areaName = [], areaCode = [], currentAreaCode; \\r\\n        var tagPickerOpt, preTagMinOpt, minTagCode, curMinTagCode, minTagName, curMinTagName, curMaxTagCode, maxTagCode, curMaxTagName, maxTagName;  // 监管标签-picker.data\\r\\n        var btn = document.getElementById(\\\"picker-btn\\\");\\r\\n        var distBtn = document.getElementById(\\\"district-btn\\\");\\r\\n        // var tagBtn = document.getElementById(\\\"tag-btn\\\");\\r\\n        dd.postMessage({type: 'init'});\\r\\n        dd.onMessage = function(e) {\\r\\n            switch(e.dataType){\\r\\n                case \\\"init\\\":\\r\\n                    userId = e.userId;\\r\\n                    token = e.token;\\r\\n                    baseUrl = e.baseUrl;\\r\\n                    tagAction = e.tagAction;\\r\\n                    if (e.lon && e.lat) {\\r\\n                        initLatlng = {lon: e.lon, lat: e.lat}\\r\\n                    } else {\\r\\n                        initLatlng = {lon: 120.14989, lat: 30.27751};  // 默认经纬度为蓝天商务中心\\r\\n                    }\\r\\n                    cityNames = e.cityName || \\\"杭州市\\\";\\r\\n                    markDatas = e.markDatas;\\r\\n                    filterDatas = e.filterDatas;\\r\\n                    userLevel = e.userLevel;\\r\\n                    showDistrict = e.showDistrict;\\r\\n                    tagLineData = e.tagLineData;\\r\\n                    init();\\r\\n                    break;\\r\\n                case \\\"updateMarks\\\":\\r\\n                    markDatas = e.markDatas;\\r\\n                    reductionMap();\\r\\n                    drawMarekers();\\r\\n                    break;\\r\\n                case \\\"showDistrict\\\":\\r\\n                    showDistrict = e.showDistrict;\\r\\n                    if (showDistrict) {\\r\\n                        filterDatas = e.filterDatas;\\r\\n                        distBtn.style.display =  'inline-block';\\r\\n                        getDistPickerOpt()\\r\\n                    }\\r\\n                    break;\\r\\n                case \\\"queryLargeTag\\\":\\r\\n                    largeTagData = e.largeTagData;\\r\\n                    renderLargeTag(true);\\r\\n                    break;\\r\\n                case \\\"querySmallTag\\\":\\r\\n                    smallTagData = e.smallTagData;\\r\\n                    renderSmallTag(true);\\r\\n                    break;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        function init() {\\r\\n            map = L.map('map',{crs:L.CRS.CustomEPSG4326,center: initLatlng, minZoom: 5, zoom: initZoom, inertiaDeceleration:15000, zoomControl: false});\\r\\n            var tileAddress = 'https://ditu.zjzwfw.gov.cn/mapserver/vmap/zjvmap/getMAP?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017';\\r\\n\\r\\n            var layer = new L.GXYZ(tileAddress, {tileSize:512, minZoom: 5});\\r\\n            map.addLayer(layer);\\r\\n\\r\\n            // 添加注记图层\\r\\n            // var labelLayer = new L.GWVTAnno({tileSize:512});\\r\\n            // var dataSource = new Custom.URLDataSource();\\r\\n            // dataSource.url = 'https://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getDatas?x=${x}&y=${y}&l=${z}&styleId=tdt_biaozhunyangshi_2017';\\r\\n            // labelLayer.addDataSource(dataSource);\\r\\n            // map.addLayer(labelLayer);\\r\\n            var labelLayer = new L.GXYZ('https://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getImg?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017',{tileSize:512,hitDetection:true,keepBuffer:0,updateWhenZooming:false});\\r\\n            map.addLayer(labelLayer);\\r\\n            var customIcon = L.icon({ \\r\\n                iconUrl: '../img/indoor_pub_poi_pressed.png',\\r\\n                iconSize: [21, 30],\\r\\n                iconAnchor:   [10, 20],\\r\\n            }); \\r\\n            var curMarker = L.marker( \\r\\n                [map.getCenter().lat, map.getCenter().lng], \\r\\n                { \\r\\n                    draggable: false,\\r\\n                    opacity: 1,\\r\\n                    icon: customIcon\\r\\n                }\\r\\n            );\\r\\n            map.addLayer(curMarker);\\r\\n\\r\\n            markers = L.markerClusterGroup();\\r\\n            drawMarekers();\\r\\n            map.addLayer(markers);\\r\\n\\r\\n            $('.whiteBtn').addClass('active');\\r\\n            $('.check_title').text($('.whiteBtn').data('title')).fadeIn();\\r\\n            initFilterHtml();\\r\\n            \\r\\n            if (userLevel) {\\r\\n                btn.style.display = 'inline-block';\\r\\n                getPickerOpt();\\r\\n            } else {\\r\\n                distBtn.style.display = 'inline-block';\\r\\n                getDistPickerOpt();\\r\\n            }\\r\\n\\r\\n            // getTagPickerOpt();\\r\\n\\r\\n            map.on('click', function (e) {\\r\\n                if($(\\\".detail_info\\\").hasClass('active')) { \\r\\n                    $(\\\".detail_info\\\").removeClass('active');\\r\\n                }\\r\\n            });\\r\\n            \\r\\n\\r\\n        }\\r\\n\\r\\n        function renderLargeTag(flag) {\\r\\n            var largeTagHtml = '';\\r\\n            var largeData = [];\\r\\n            if (flag) {\\r\\n                largeData = largeTagData;\\r\\n            } else {\\r\\n                largeData = curLargeTagData;\\r\\n            }\\r\\n            $.each(largeData, function (index, val) {\\r\\n                if (val.paramName.length > 6) {\\r\\n                    if (val.paramCode == curMaxTagCode && !flag) {\\r\\n                        largeTagHtml += '<dd class=\\\"active\\\" data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCode1=\\\"' + val.paramCode1\\r\\n                        + '\\\" data-paramCode2=\\\"' + val.paramCode2 + '\\\" data-paramName=\\\"' + val.paramName + '\\\">' + val.paramName.substring(0, 5) + '…' + '</dd>';\\r\\n                    } else {\\r\\n                        largeTagHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCode1=\\\"' + val.paramCode1\\r\\n                        + '\\\" data-paramCode2=\\\"' + val.paramCode2 + '\\\" data-paramName=\\\"' + val.paramName + '\\\">' + val.paramName.substring(0, 5) + '…' + '</dd>';\\r\\n                    }\\r\\n                } else {\\r\\n                    if (val.paramCode == curMaxTagCode && !flag) {\\r\\n                        largeTagHtml += '<dd class=\\\"active\\\" data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCode1=\\\"' + val.paramCode1\\r\\n                        + '\\\" data-paramCode2=\\\"' + val.paramCode2 + '\\\" data-paramName=\\\"' + val.paramName + '\\\">' + val.paramName + '</dd>';\\r\\n                    } else {\\r\\n                        largeTagHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCode1=\\\"' + val.paramCode1\\r\\n                    + '\\\" data-paramCode2=\\\"' + val.paramCode2 + '\\\" data-paramName=\\\"' + val.paramName + '\\\">' + val.paramName + '</dd>';\\r\\n                    }\\r\\n                }\\r\\n            });\\r\\n            $('#Large_TAG').html(largeTagHtml);\\r\\n            $('.large_tag_box').css('display', 'block');\\r\\n\\r\\n            $(\\\"#Large_TAG dd\\\").on('click', function () {\\r\\n                $(this).siblings().removeClass('active');\\r\\n                if (!$(this).hasClass('active')) {\\r\\n                    $(this).addClass('active');\\r\\n                }\\r\\n                var data = $(this).data('paramcode');\\r\\n                maxTagCode = data;\\r\\n                maxTagName = $(this).data('paramname');\\r\\n                minTagName = '';\\r\\n                minTagCode = '';\\r\\n                $('.tagInfo').text(maxTagName);\\r\\n                dd.postMessage({type: 'smallTag', val: data});\\r\\n            });\\r\\n        }\\r\\n\\r\\n        function renderSmallTag(flag) {\\r\\n            var smallData = [];\\r\\n            if (flag) {\\r\\n                smallData = smallTagData;\\r\\n            } else {\\r\\n                smallData = curSmallTagData\\r\\n            }\\r\\n            if (smallData.length > 0) {\\r\\n                var smallTagHtml = '';\\r\\n                $.each(smallData, function (index, val) {\\r\\n                    if (val.tagName.length > 6) {\\r\\n                        if (val.tagCode == curMinTagCode && !flag) {\\r\\n                            smallTagHtml += '<dd class=\\\"active\\\" data-tagCode=\\\"' + val.tagCode + '\\\" data-tagName=\\\"' + val.tagName + '\\\">' + val.tagName.substring(0, 5) + '…' + '</dd>';\\r\\n                        } else {\\r\\n                            smallTagHtml += '<dd data-tagCode=\\\"' + val.tagCode + '\\\" data-tagName=\\\"' + val.tagName + '\\\">' + val.tagName.substring(0, 5) + '…' + '</dd>';\\r\\n                        }\\r\\n                    } else {\\r\\n                        if (val.tagCode == curMinTagCode && !flag) {\\r\\n                            smallTagHtml += '<dd class=\\\"active\\\" data-tagCode=\\\"' + val.tagCode + '\\\" data-tagName=\\\"' + val.tagName + '\\\">' + val.tagName + '</dd>';\\r\\n                        } else {\\r\\n                            smallTagHtml += '<dd data-tagCode=\\\"' + val.tagCode + '\\\" data-tagName=\\\"' + val.tagName + '\\\">' + val.tagName + '</dd>';\\r\\n                        }\\r\\n                    }\\r\\n                });\\r\\n                $('#SMALL_TAG').html(smallTagHtml);\\r\\n                $('.small_tag_box').css('display', 'block');\\r\\n    \\r\\n                $(\\\"#SMALL_TAG dd\\\").on('click', function () {\\r\\n                    $(this).siblings().removeClass('active');\\r\\n                    if (!$(this).hasClass('active')) {\\r\\n                        $(this).addClass('active');\\r\\n                    }\\r\\n                    var data = $(this).data('tagcode');\\r\\n                    minTagCode = data;\\r\\n                    minTagName = $(this).data('tagname');\\r\\n                    $('.tagInfo').text(maxTagName + ' - ' + minTagName);\\r\\n                });\\r\\n            } else {\\r\\n                $('#SMALL_TAG').html('');\\r\\n                $('.small_tag_box').css('display', 'none');\\r\\n            }\\r\\n        }\\r\\n\\r\\n        function getPickerOpt() {\\r\\n            pickerOpt = {};\\r\\n            $.each(filterDatas.SlicenoLDNameJson, function (index, val) {\\r\\n                var idxKey = val.name;\\r\\n                // pickerOpt[idxKey] = ['全部'];\\r\\n                pickerOpt[idxKey] = [];\\r\\n                if (val.children) {\\r\\n                    $.each(val.children, function (idx, value) {\\r\\n                        pickerOpt[idxKey].push(value.name);\\r\\n                    })\\r\\n                }\\r\\n            })\\r\\n        }\\r\\n\\r\\n        function getDistPickerOpt() {\\r\\n            distPickerOpt = {};\\r\\n            $.each(filterDatas.DistrictJson, function (index, val) {\\r\\n                var idxKey = val.name;\\r\\n                distPickerOpt[idxKey] = ['全部'];\\r\\n                // distPickerOpt[idxKey] = [];\\r\\n                if (val.children) {\\r\\n                    $.each(val.children, function (idx, value) {\\r\\n                        distPickerOpt[idxKey].push(value.name);\\r\\n                    })\\r\\n                }\\r\\n            })\\r\\n        }\\r\\n\\r\\n        // function getTagPickerOpt() {\\r\\n        //     tagPickerOpt = {};\\r\\n        //     $.each(filterDatas.superviseTag, function (index, val) {\\r\\n        //         var idxKey = val.paramName;\\r\\n        //         tagPickerOpt[idxKey] = [];\\r\\n        //         if (index == 0) {\\r\\n        //             ajaxMinTagOpt(idxKey, val.paramCode);\\r\\n        //         }\\r\\n        //     })\\r\\n        // }\\r\\n\\r\\n        // function ajaxMinTagOpt(name, code) {\\r\\n        //     // preTagMinOpt = [{tagName: '垃圾填埋场', tagCode: 'A01900000010000014'},\\r\\n        //     // {tagName: '环保部门20181126', tagCode: 'A01900000010000003'},\\r\\n        //     // {tagName: '垃圾填埋场20181126', tagCode: 'A01900000010000003'},\\r\\n        //     // {tagName: '环保部门', tagCode: 'A01900000010000003'}];\\r\\n        //     // $.each(preTagMinOpt, function (idx, value) {\\r\\n        //     //     tagPickerOpt[name].push(value.tagName);\\r\\n        //     //\\r\\n        //     // })\\r\\n        //     $.ajax({\\r\\n        //         async: false,\\r\\n        //         type: \\\"POST\\\",\\r\\n        //         url: encodeURI(baseUrl + tagAction),\\r\\n        //         data: JSON.stringify({ 'encParamsStr': encrypt(JSON.stringify({ token: token, userId: userId, tagLargeCategory: code }))}),\\r\\n        //         contentType: 'application/json',\\r\\n        //         // dataType: \\\"jsonp\\\",\\r\\n        //         success: function(res) {\\r\\n        //             if (typeof res == 'string') {\\r\\n        //                 preTagMinOpt = JSON.parse(res).data;\\r\\n        //             } else {\\r\\n        //                 preTagMinOpt = res.data;\\r\\n        //             }\\r\\n        //             $.each(preTagMinOpt, function (idx, value) {\\r\\n        //                 tagPickerOpt[name].push(value.tagName);\\r\\n        //             })\\r\\n        //         },\\r\\n        //         error: function (err) {\\r\\n        //             dd.alert({ content: err.msg });\\r\\n        //         }\\r\\n        //     });\\r\\n        // }\\r\\n\\r\\n        function initFilterHtml () {\\r\\n            var marketHtml = '', typeHtml = '', statusHtml = '', tagHtml = '';\\r\\n            $.each(filterDatas.marketType, function (index, val) {\\r\\n                marketHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCodeType=\\\"' + val.paramCodeType + '\\\">' + val.paramName + '</dd>';\\r\\n            });\\r\\n            $.each(filterDatas.checkType, function (index, val) {\\r\\n                typeHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCodeType=\\\"' + val.paramCodeType + '\\\">' + val.paramName + '</dd>';\\r\\n            });\\r\\n            $.each(filterDatas.taskStatus, function (index, val) {\\r\\n                statusHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCodeType=\\\"' + val.paramCodeType + '\\\">' + val.paramName + '</dd>';\\r\\n            });\\r\\n            // $.each(filterDatas.superviseTag, function (index, val) {\\r\\n            //     tagHtml += '<dd data-paramCode=\\\"' + val.paramCode + '\\\" data-paramCode1=\\\"' + val.paramCode1\\r\\n            //     + '\\\" data-paramCode2=\\\"' + val.paramCode2 + '\\\" data-paramCodeType=\\\"' + val.paramCodeType + '\\\">' + val.paramName + '</dd>';\\r\\n            // });\\r\\n            $.each(tagLineData, function (index, val) {\\r\\n                tagHtml += '<dd data-dutyDeptCode=\\\"' + val.dutyDeptCode + '\\\">' + val.dutyDeptName + '</dd>';\\r\\n            });\\r\\n            $('#MARKET_TYPE').html(marketHtml);\\r\\n            $('#TASK_TYPE').html(typeHtml);\\r\\n            $('#TASK_STATUS').html(statusHtml);\\r\\n            // $('#SUPERVISE_TAG').html(tagHtml);\\r\\n            $('#SUP_TAG_LINE').html(tagHtml);\\r\\n            \\r\\n            $(\\\".filter_list dd\\\").on('click', function (ev) {\\r\\n                $(this).siblings().removeClass('active')\\r\\n                if (!$(this).hasClass('active')) {\\r\\n                    $(this).addClass('active');\\r\\n                }\\r\\n                var type = $(ev.target)[0].dataset.paramcodetype;\\r\\n                switch(type){\\r\\n                    case \\\"MARKET_TYPE\\\":\\r\\n                        legalEntityCata = $(ev.target)[0].dataset.paramcode;\\r\\n                        break;\\r\\n                    case \\\"TASK_TYPE\\\":\\r\\n                        checkType = $(ev.target)[0].dataset.paramcode;\\r\\n                        break;\\r\\n                    case \\\"TASK_STATUS\\\":\\r\\n                        taskStatus = $(ev.target)[0].dataset.paramcode;\\r\\n                        break;\\r\\n                    // case \\\"SUPERVISE_TAG_LARGECLASS\\\":\\r\\n                    //     legalEntityTag = $(ev.target)[0].dataset.paramcode;\\r\\n                    //     legalEntityTag1 = $(ev.target)[0].dataset.paramcode1;\\r\\n                    //     legalEntityTag2 = $(ev.target)[0].dataset.paramcode2;\\r\\n                    //     break;\\r\\n                }\\r\\n            });\\r\\n\\r\\n            $(\\\"#SUP_TAG_LINE dd\\\").on('click', function () {\\r\\n                dutyDeptCode = $(this).data('dutydeptcode');\\r\\n                dutyDeptCodeName = $(this).text();\\r\\n                $(this).siblings().removeClass('active');\\r\\n                if (!$(this).hasClass('active')) {\\r\\n                    $(this).addClass('active');\\r\\n                }\\r\\n                minTagCode = '';\\r\\n                minTagName = '';\\r\\n                maxTagCode = '';\\r\\n                maxTagName = '';\\r\\n                $('.large_tag_box').css('display', 'none');\\r\\n                $('.small_tag_box').css('display', 'none');\\r\\n                $('.tagInfo').text(dutyDeptCodeName);\\r\\n                $('.tagInfo-box').css('display', 'block');\\r\\n                dd.postMessage({type: 'superTag', val: dutyDeptCode});\\r\\n            });\\r\\n\\r\\n        }\\r\\n\\r\\n        $('.filterBtn').on('click', function () {\\r\\n            $('.custom-mask').addClass('custom-mask--visible');\\r\\n            $('.custom-container').addClass('custom-container--visible');\\r\\n            $('.custom-container li').addClass('active');\\r\\n        });\\r\\n\\r\\n        $('.custom-mask').on('click', function () {\\r\\n            $('.custom-mask').removeClass('custom-mask--visible');\\r\\n            if ($(\\\".floating_box\\\").hasClass('active')) {\\r\\n                $(\\\".floating_box\\\").removeClass('active');\\r\\n                $('.filter_list_box').removeClass('active');\\r\\n            } else {\\r\\n                $('.custom-container').removeClass('custom-container--visible');\\r\\n                $('.custom-container li').removeClass('active');\\r\\n            }\\r\\n        });\\r\\n\\r\\n        $('.custom-container').on('click', function (ev) {\\r\\n            $('.custom-mask').removeClass('custom-mask--visible');\\r\\n            $('.custom-container').removeClass('custom-container--visible');\\r\\n            $('.custom-container li').removeClass('active');\\r\\n            var metter = $(ev.target).data('metter');\\r\\n            if (metter == \\\"\\\") {\\r\\n                $('.filterBtn span').html('不限' + '<i class=\\\"icon-arrow\\\"></i>')\\r\\n            } else {\\r\\n                $('.filterBtn span').html(metter + '<i class=\\\"icon-arrow\\\"></i>')\\r\\n            }\\r\\n            dd.postMessage({type: 'distance', val: metter});\\r\\n        });\\r\\n\\r\\n        $(\\\".floating_box\\\").on(\\\"click\\\", function (e) {\\r\\n            $(this).addClass('active');\\r\\n            $('.custom-mask').addClass('custom-mask--visible');\\r\\n            $('.filter_list_box').addClass('active');\\r\\n            if (curTaskStatus) {\\r\\n                $('#TASK_STATUS dd').removeClass('active');\\r\\n                var arr = jQuery.makeArray($('#TASK_STATUS dd'));\\r\\n                $.each(arr, function (index, val) {\\r\\n                    if (val.dataset.paramcode == taskStatus) {\\r\\n                        $(val).addClass('active');\\r\\n                        return true\\r\\n                    }\\r\\n                })\\r\\n            } else {\\r\\n                $('#TASK_STATUS dd').removeClass('active');\\r\\n            }\\r\\n            if (cityCode.length > 0 || distCode.length > 0) {\\r\\n                if (userLevel) {\\r\\n                    $('#picker-btn').text(cityName.join('-'));\\r\\n                    $('#picker-btn').addClass('active');\\r\\n                    if (distName) {\\r\\n                        $('#district-btn').text(distName.join('-'));\\r\\n                        $('#district-btn').addClass('active');\\r\\n                    }\\r\\n                } else {\\r\\n                    $('#district-btn').text(distName.join('-'));\\r\\n                    $('#district-btn').addClass('active');\\r\\n                }\\r\\n            } else {\\r\\n                if (userLevel) {\\r\\n                    $('#picker-btn').text('市|区|县');\\r\\n                    $('#picker-btn').removeClass('active');\\r\\n                    $('#district-btn').text('商圈/片区');\\r\\n                    $('#district-btn').removeClass('active');\\r\\n                    $('#district-btn').css('display', 'none');\\r\\n                } else {\\r\\n                    $('#district-btn').text('商圈/片区');\\r\\n                    $('#district-btn').removeClass('active');\\r\\n                }\\r\\n            }\\r\\n            // if (curMinTagCode) {\\r\\n            //     $('#tag-btn').text(curMinTagName);\\r\\n            //     $('#tag-btn').addClass('active');\\r\\n            // } else if (curMaxTagCode) {\\r\\n            //     $('#tag-btn').text(curMaxTagName);\\r\\n            //     $('#tag-btn').addClass('active');\\r\\n            // } else {\\r\\n            //     $('#tag-btn').text('选择监管类型');\\r\\n            //     $('#tag-btn').removeClass('active');\\r\\n            // }\\r\\n            $('.tagInfo-box').css('display', 'none');\\r\\n            $('.large_tag_box').css('display', 'none');\\r\\n            $('.small_tag_box').css('display', 'none');\\r\\n            $('#SUP_TAG_LINE dd').removeClass('active');\\r\\n            if (curMaxTagCode) {\\r\\n                var arr = jQuery.makeArray($('#SUP_TAG_LINE dd'));\\r\\n                $.each(arr, function (index, val) {\\r\\n                    if (val.dataset.dutydeptcode == curDutyDeptCode) {\\r\\n                        $(val).addClass('active');\\r\\n                        return true\\r\\n                    }\\r\\n                })\\r\\n                renderLargeTag(false);\\r\\n                renderSmallTag(false);\\r\\n                if (curMinTagCode) {\\r\\n                    $('.tagInfo').text(curMaxTagName + ' - ' + curMinTagName);\\r\\n                } else {\\r\\n                    $('.tagInfo').text(curMaxTagName);\\r\\n                }\\r\\n                $('.tagInfo-box').css('display', 'block');\\r\\n            } else {\\r\\n                $('.tagInfo').text('');\\r\\n                $('#Large_TAG').html('');\\r\\n                $('#SMALL_TAG').html('');\\r\\n            }\\r\\n            if (curLegalEntityCata) {\\r\\n                $('#MARKET_TYPE dd').removeClass('active');\\r\\n                var arr = jQuery.makeArray($('#MARKET_TYPE dd'));\\r\\n                $.each(arr, function (index, val) {\\r\\n                    if (val.dataset.paramcode == legalEntityCata) {\\r\\n                        $(val).addClass('active');\\r\\n                        return true\\r\\n                    }\\r\\n                })\\r\\n            } else {\\r\\n                $('#MARKET_TYPE dd').removeClass('active');\\r\\n            }\\r\\n            if (curCheckType) {\\r\\n                $('#TASK_TYPE dd').removeClass('active');\\r\\n                var arr = jQuery.makeArray($('#TASK_TYPE dd'));\\r\\n                $.each(arr, function (index, val) {\\r\\n                    if (val.dataset.paramcode == checkType) {\\r\\n                        $(val).addClass('active');\\r\\n                        return true\\r\\n                    }\\r\\n                })\\r\\n            } else {\\r\\n                $('#TASK_TYPE dd').removeClass('active');\\r\\n            }\\r\\n            // if (curLegalEntityTag) {\\r\\n            //     $('#SUPERVISE_TAG dd').removeClass('active');\\r\\n            //     var arr = jQuery.makeArray($('#SUPERVISE_TAG dd'));\\r\\n            //     $.each(arr, function (index, val) {\\r\\n            //         if (val.dataset.paramcode == legalEntityTag) {\\r\\n            //             $(val).addClass('active');\\r\\n            //             return true\\r\\n            //         }\\r\\n            //     })\\r\\n            // } else {\\r\\n            //     $('#SUPERVISE_TAG dd').removeClass('active');\\r\\n            // }\\r\\n        });\\r\\n\\r\\n        $('.custom-mask').on('touchmove', function (ev) {\\r\\n            ev.preventDefault();\\r\\n        });\\r\\n\\r\\n        $('.custom-container').on('touchmove', function(ev) {\\r\\n            ev.preventDefault();\\r\\n        });\\r\\n\\r\\n\\r\\n        $('.iptSearch').on('keydown',function(e){\\r\\n            // e.preventDefault();\\r\\n            if(e.keyCode == 13){\\r\\n                dd.postMessage({type: 'keyword', val: e.target.value || ''});\\r\\n            }\\r\\n        });\\r\\n\\r\\n        $('.btn_handler_box li').on('click', function (ev) {\\r\\n            var filter = $(ev.target).data('filter');\\r\\n            var title = $(ev.target).data('title');\\r\\n            $(this).closest(\\\"li\\\").addClass('active').siblings().removeClass('active')\\r\\n            if (filter == \\\"\\\" || filter == \\\"1\\\" || filter == \\\"2\\\" || filter == \\\"3\\\") {\\r\\n                $('.check_title').text(title).fadeIn();\\r\\n                dd.postMessage({type: 'checkState', val: filter});\\r\\n                return\\r\\n            }\\r\\n            if (filter == \\\"reset\\\") {\\r\\n                $('.check_title').fadeOut();\\r\\n                markers.clearLayers();\\r\\n                map.setView([Number(initLatlng.lat), Number(initLatlng.lon)], initZoom);\\r\\n                circle = L.circle([map.getCenter().lat, map.getCenter().lng], {radius: 30});\\r\\n                map.addLayer(circle);\\r\\n                return\\r\\n            }\\r\\n        });\\r\\n        $(\\\".call_tel\\\").on(\\\"click\\\", function () {\\r\\n            var phoneNum = $(\\\".call_tel\\\").data(\\\"tel\\\");\\r\\n            dd.postMessage({type: 'callPhone', val: phoneNum});\\r\\n        });\\r\\n\\r\\n        $(\\\".menu_icon_3\\\").on(\\\"click\\\", function () {\\r\\n            dd.postMessage({type: 'openMap', val: mapParams});\\r\\n        });\\r\\n\\r\\n        $(\\\".detail\\\").on(\\\"click\\\", function () {\\r\\n            dd.postMessage({type: 'detail', val: idx});\\r\\n        });\\r\\n\\r\\n        $(\\\".gocheck\\\").on(\\\"click\\\", function () {\\r\\n            dd.postMessage({type: 'gocheck', val: idx});\\r\\n        });\\r\\n\\r\\n        $(\\\".unfind\\\").on(\\\"click\\\", function () {\\r\\n            dd.postMessage({type: 'unfind', val: idx});\\r\\n        });\\r\\n\\r\\n        $(\\\".reset_btn\\\").on(\\\"click\\\", function () {\\r\\n            areaCode = []; distName = []; distCode = [];\\r\\n            cityName = []; cityCode = [];\\r\\n            $('#picker-btn').text('市|区|县');\\r\\n            $('#district-btn').text('商圈/片区');\\r\\n            // $('#tag-btn').text('选择监管类型');\\r\\n            // $('#tag-btn').removeClass('active');\\r\\n            if (userLevel) {\\r\\n                $('#picker-btn').removeClass('active');\\r\\n                $('#district-btn').removeClass('active');\\r\\n                $('#district-btn').css('display', 'none');\\r\\n            } else {\\r\\n                $('#district-btn').removeClass('active');\\r\\n            }\\r\\n            $(\\\".filter_type dd\\\").removeClass('active');\\r\\n            $('.custom-mask').removeClass('custom-mask--visible');\\r\\n            $(\\\".floating_box\\\").removeClass('active');\\r\\n            $('.filter_list_box').removeClass('active');\\r\\n            curTaskStatus = ''\\r\\n            curLegalEntityCata = ''\\r\\n            curCheckType = ''\\r\\n            // curLegalEntityTag = ''\\r\\n            // curLegalEntityTag1 = ''\\r\\n            // curLegalEntityTag2 = ''\\r\\n            currentAreaCode = ''\\r\\n            minTagCode = ''\\r\\n            maxTagCode = ''\\r\\n            minTagName = ''\\r\\n            maxTagName = ''\\r\\n            dutyDeptCode = ''\\r\\n            curMinTagName = ''\\r\\n            curMaxTagName = ''\\r\\n            curMinTagCode = ''\\r\\n            curMaxTagCode = ''\\r\\n            curLargeTagData = [];\\r\\n            curSmallTagData = [];\\r\\n            curDutyDeptCode = '';\\r\\n            var preFilterData = {\\r\\n                taskStatus: '',\\r\\n                businessDistrict: '', //片区\\r\\n                legalEntityCata: '',\\r\\n                checkType: '',\\r\\n                // legalEntityTag: '',\\r\\n                // legalEntityTag1: '',\\r\\n                // legalEntityTag2: '',\\r\\n                localAdm: '',\\r\\n                curMinTagCode: '',\\r\\n                curMaxTagCode: ''\\r\\n            }\\r\\n            dd.postMessage({type: 'businessDistrict', val: preFilterData});\\r\\n        });\\r\\n\\r\\n        $(\\\".confirm_btn\\\").on(\\\"click\\\", function () {\\r\\n            // areaCode = cityCode.concat(distCode);\\r\\n            // if (areaCode) {\\r\\n            //     currentAreaCode = areaCode.join(',');\\r\\n            // } else {    \\r\\n            //     currentAreaCode = '';\\r\\n            // }\\r\\n            curTaskStatus = taskStatus || ''\\r\\n            curLegalEntityCata = legalEntityCata || ''\\r\\n            curCheckType = checkType || ''\\r\\n            curMinTagCode = minTagCode || ''\\r\\n            curMaxTagCode = maxTagCode || ''\\r\\n            curMinTagName = minTagName || ''\\r\\n            curMaxTagName = maxTagName || ''\\r\\n            curLargeTagData = largeTagData || []\\r\\n            curSmallTagData = smallTagData || [];\\r\\n            if (curMaxTagCode) {\\r\\n                curDutyDeptCode = dutyDeptCode;\\r\\n            } else {\\r\\n                curDutyDeptCode = '';\\r\\n            }\\r\\n            \\r\\n            // curLegalEntityTag = legalEntityTag || ''\\r\\n            // curLegalEntityTag1 = legalEntityTag1 || ''\\r\\n            // curLegalEntityTag2 = legalEntityTag2 || ''\\r\\n            var preFilterData = {\\r\\n                    taskStatus: curTaskStatus,\\r\\n                    // businessDistrict: currentAreaCode, //片区\\r\\n                    legalEntityCata: curLegalEntityCata,\\r\\n                    checkType: curCheckType,\\r\\n                    curMinTagCode: curMinTagCode,\\r\\n                    curMaxTagCode: curMaxTagCode\\r\\n                    // legalEntityTag: curLegalEntityTag,\\r\\n                    // legalEntityTag1: curLegalEntityTag1,\\r\\n                    // legalEntityTag2: curLegalEntityTag2\\r\\n            }\\r\\n            if (cityCode.length == 1) {\\r\\n                preFilterData['localAdm'] = cityCode[0];\\r\\n                preFilterData['businessDistrict'] = '';\\r\\n            } else {\\r\\n                if (distCode.length == 0) {\\r\\n                    preFilterData['localAdm'] = cityCode[0];\\r\\n                    preFilterData['businessDistrict'] = '';\\r\\n                } else {\\r\\n                    preFilterData['localAdm'] = distCode[0];\\r\\n                    preFilterData['businessDistrict'] = distCode[1] || '';\\r\\n                }\\r\\n            }\\r\\n            $('.custom-mask').removeClass('custom-mask--visible');\\r\\n            $(\\\".floating_box\\\").removeClass('active');\\r\\n            $('.filter_list_box').removeClass('active');\\r\\n            dd.postMessage({type: 'businessDistrict', val: preFilterData});\\r\\n        });\\r\\n\\r\\n        btn.onclick = function(){\\r\\n            // data = {\\\"小明家\\\":[], \\\"小红家\\\":[\\\"小红爸爸\\\", \\\"小红妈妈\\\"]}\\r\\n            var pickerView = new PickerView({\\r\\n                bindElem: btn,\\r\\n                data: pickerOpt,\\r\\n                // data: data,\\r\\n                title: '市|区|县',\\r\\n                leftText: '取消',\\r\\n                rightText: '确定',\\r\\n                rightFn: function( selectArr ){\\r\\n                    // var indexArry = btn.getAttribute(\\\"selectcache\\\");\\r\\n                    cityName = [];\\r\\n                    cityCode = [];\\r\\n                    var selAll;\\r\\n                    var subSlicenoLDNameJson;\\r\\n                    var firstIdx = filterDatas.SlicenoLDNameJson.findIndex(function(obj){return obj.name == selectArr[0]});\\r\\n                    cityCode.push(filterDatas.SlicenoLDNameJson[firstIdx].code);\\r\\n                    // if (selectArr[1] != '全部') {\\r\\n                    //     cityName = selectArr;\\r\\n                    //     selAll = false;\\r\\n                    //     subSlicenoLDNameJson = filterDatas.SlicenoLDNameJson[firstIdx].children;\\r\\n                    //     var subIdx = subSlicenoLDNameJson.findIndex(function(val){return val.name == selectArr[1]});\\r\\n                    //     cityCode.push(subSlicenoLDNameJson[subIdx].code);\\r\\n                    // } else {\\r\\n                    //     selAll = true;\\r\\n                    //     cityName.push(selectArr[0]);\\r\\n                    // }\\r\\n                    cityName = selectArr;\\r\\n                    selAll = false;\\r\\n                    subSlicenoLDNameJson = filterDatas.SlicenoLDNameJson[firstIdx].children;\\r\\n                    var subIdx = subSlicenoLDNameJson.findIndex(function(val){return val.name == selectArr[1]});\\r\\n                    cityCode.push(subSlicenoLDNameJson[subIdx].code);\\r\\n\\r\\n                    btn.innerText = cityName.join('-');\\r\\n                    btn.setAttribute(\\\"class\\\", 'active');\\r\\n                    distBtn.innerText = '商圈/片区';\\r\\n                    distBtn.style.display = 'none';\\r\\n                    distBtn.setAttribute(\\\"class\\\", '');\\r\\n                    distName = [];\\r\\n                    distCode = [];\\r\\n                    dd.postMessage({type: 'showDistrict', val: {localAdm: cityCode[cityCode.length - 1], selAll: selAll}});\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n\\r\\n        distBtn.onclick = function(){\\r\\n            var pickerView = new PickerView({\\r\\n                bindElem: distBtn,\\r\\n                data: distPickerOpt,\\r\\n                title: '商圈/片区',\\r\\n                leftText: '取消',\\r\\n                rightText: '确定',\\r\\n                rightFn: function( selectArr ){\\r\\n                    distName = [];\\r\\n                    distCode = [];\\r\\n                    var subSlicenoLDNameJson;\\r\\n                    var firstIdx = filterDatas.DistrictJson.findIndex(function(obj){return obj.name == selectArr[0]});\\r\\n                    distCode.push(filterDatas.DistrictJson[firstIdx].code);\\r\\n                    if (selectArr[1] != '全部') {\\r\\n                        distName = selectArr;\\r\\n                        subSlicenoLDNameJson = filterDatas.DistrictJson[firstIdx].children;\\r\\n                        var subIdx = subSlicenoLDNameJson.findIndex(function(val){return val.name == selectArr[1]});\\r\\n                        distCode.push(subSlicenoLDNameJson[subIdx].code);\\r\\n                    } else {\\r\\n                        distName.push(selectArr[0]);\\r\\n                    }\\r\\n                    // distName = selectArr;\\r\\n                    // subSlicenoLDNameJson = filterDatas.DistrictJson[firstIdx].children;\\r\\n                    // var subIdx = subSlicenoLDNameJson.findIndex(function(val){return val.name == selectArr[1]});\\r\\n                    // distCode.push(subSlicenoLDNameJson[subIdx].code);\\r\\n\\r\\n                    distBtn.innerText = distName.join('-');\\r\\n                    distBtn.setAttribute(\\\"class\\\", 'active');\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n\\r\\n        // tagBtn.onclick = function(){\\r\\n        //     // data = {\\\"小明家\\\":[], \\\"小红家\\\":[\\\"小红爸爸\\\", \\\"小红妈妈\\\"]}\\r\\n        //     // console.log(filterDatas.superviseTag);\\r\\n        //     var pickerView = new PickerView({\\r\\n        //         bindElem: tagBtn,\\r\\n        //         data: tagPickerOpt,\\r\\n        //         title: '监管类型',\\r\\n        //         leftText: '取消',\\r\\n        //         rightText: '确定',\\r\\n        //         getAjaxData: true,\\r\\n        //         ajaxFn: function(selectArr) {\\r\\n        //             $.each(filterDatas.superviseTag, function (index, val) {\\r\\n        //                 if (val.paramName == selectArr[0]) {\\r\\n        //                     tagPickerOpt[val.paramName] = [];\\r\\n        //                     ajaxMinTagOpt(val.paramName, val.paramCode);\\r\\n        //                     return false;\\r\\n        //                 }\\r\\n        //             })\\r\\n        //         },\\r\\n        //         rightFn: function(selectArr){\\r\\n        //             minTagName = '';\\r\\n        //             maxTagName = '';\\r\\n        //             maxTagCode = '';\\r\\n        //             minTagCode = '';\\r\\n        //             $.each(filterDatas.superviseTag, function (idx, val) {\\r\\n        //                 if (val.paramName == selectArr[0]) {\\r\\n        //                     maxTagCode = val.paramCode;\\r\\n        //                     maxTagName = val.paramName;\\r\\n        //                     return false;\\r\\n        //                 }\\r\\n        //             });\\r\\n        //             $.each(preTagMinOpt, function (idx, value) {\\r\\n        //                 if (value.tagName == selectArr[1]) {\\r\\n        //                     minTagCode = value.tagCode;\\r\\n        //                     minTagName = value.tagName;\\r\\n        //                     return false;\\r\\n        //                 }\\r\\n        //             })\\r\\n        //             if (selectArr[1]) {\\r\\n        //                 $('#tag-btn').text(minTagName);\\r\\n        //                 $('#tag-btn').addClass('active');\\r\\n        //             } else {\\r\\n        //                 $('#tag-btn').text(maxTagName);\\r\\n        //                 $('#tag-btn').addClass('active');\\r\\n        //             }\\r\\n        //         }\\r\\n        //     });\\r\\n        // }\\r\\n        \\r\\n\\r\\n        function drawMarekers() {\\r\\n            markDatas.forEach(function (val, index) {\\r\\n                var preState = val.checkState, marker;\\r\\n                switch(preState){\\r\\n                    case \\\"1\\\":\\r\\n                        marker = L.marker([val.lat, val.lon], {draggable: false, opacity: 1, icon: L.divIcon({className: 'green-marker', html: '<p>' + (index + 1) + '</p>'})});\\r\\n                        break;\\r\\n                    case \\\"2\\\":\\r\\n                        marker = L.marker([val.lat, val.lon], {draggable: false, opacity: 1, icon: L.divIcon({className: 'blue-marker', html: '<p>' + (index + 1) + '</p>'})});\\r\\n                        break;\\r\\n                    case \\\"3\\\":\\r\\n                        marker = L.marker([val.lat, val.lon], {draggable: false, opacity: 1, icon: L.divIcon({className: 'red-marker', html: '<p>' + (index + 1) + '</p>'})});\\r\\n                        break;\\r\\n                }\\r\\n                markers.addLayer(marker);\\r\\n                marker.on('click', function (e) {\\r\\n                    if($(\\\".detail_info\\\").hasClass('active')) { \\r\\n                        $(\\\".detail_info\\\").removeClass('active');\\r\\n                    }\\r\\n                    idx = parseInt(e.originalEvent.target.textContent) - 1;\\r\\n                    getAdressInfo(markDatas[idx]);\\r\\n                });\\r\\n            });\\r\\n        }\\r\\n\\r\\n        function reductionMap() {\\r\\n            markers.clearLayers();\\r\\n            map.setView([Number(initLatlng.lat), Number(initLatlng.lon)], initZoom);\\r\\n        }\\r\\n\\r\\n        function getAdressInfo (e) {\\r\\n            var reverseResolutionUrl = encodeURI(\\\"https://dh.ditu.zj.cn:9443/inverse/getInverseGeocoding.jsonp?&detail=1&zoom=11&latlon=\\\" + e.lon + \\\",\\\" + e.lat + \\\"&lat=&lon=&customer=2\\\");\\r\\n            $.ajax({\\r\\n                url: reverseResolutionUrl,\\r\\n                dataType: \\\"jsonp\\\",\\r\\n                // jsonp: \\\"callback\\\",\\r\\n                success: function(res) {\\r\\n                    var location = res.city.value + res.dist.value + res.town.value + res.poi;\\r\\n                    $(\\\".legalEntity_name\\\").text(e.legalEntityName)\\r\\n                    $(\\\".legalRep_name\\\").text(e.legalRep)\\r\\n                    $(\\\".legalRep_tel\\\").text(e.tel)\\r\\n                    $(\\\".address_info\\\").text(location)\\r\\n                    $(\\\".distance_info\\\").text((parseInt(e.distance) / 1000).toFixed(2));\\r\\n                    $(\\\".call_tel\\\").data(\\\"tel\\\", e.tel);\\r\\n                    mapParams = {\\r\\n                        longitude: e.lon,\\r\\n                        latitude: e.lat,\\r\\n                        name: res.poi,\\r\\n                        address: res.poi,\\r\\n                    };\\r\\n                    $(\\\".detail_info\\\").addClass('active');\\r\\n                },\\r\\n                error: function (err) {\\r\\n                    dd.alert({ content: \\\"地址解析出错\\\" });\\r\\n                }\\r\\n            });\\r\\n        }\"]}","code":"!function(a){var e={};function t(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return a[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=a,t.c=e,t.d=function(a,e,s){t.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:s})},t.r=function(a){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(a,\"__esModule\",{value:!0})},t.t=function(a,e){if(1&e&&(a=t(a)),8&e)return a;if(4&e&&\"object\"==typeof a&&a&&a.__esModule)return a;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:a}),2&e&&\"string\"!=typeof a)for(var i in a)t.d(s,i,function(e){return a[e]}.bind(null,i));return s},t.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(e,\"a\",e),e},t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},t.p=\"./\",t(t.s=0)}([function(a,e){navigator.userAgent.toLowerCase().indexOf(\"dingtalk\")>-1&&document.writeln('<script src=\"https://appx/web-view.min.js\"><\\/script>');var t,s,i,n,o,d,c,r,l,m,p,u,v,g,f,C,h,b,y,_,k,T,x,A,N,S,M,D=[],I=[],w=[],E=[],j=10,P=[],z=[],G=[],K=[],U=[],Y=document.getElementById(\"picker-btn\"),R=document.getElementById(\"district-btn\");function O(a){var e=\"\",t=[];t=a?D:w,$.each(t,function(t,s){s.paramName.length>6?s.paramCode!=A||a?e+='<dd data-paramCode=\"'+s.paramCode+'\" data-paramCode1=\"'+s.paramCode1+'\" data-paramCode2=\"'+s.paramCode2+'\" data-paramName=\"'+s.paramName+'\">'+s.paramName.substring(0,5)+\"…</dd>\":e+='<dd class=\"active\" data-paramCode=\"'+s.paramCode+'\" data-paramCode1=\"'+s.paramCode1+'\" data-paramCode2=\"'+s.paramCode2+'\" data-paramName=\"'+s.paramName+'\">'+s.paramName.substring(0,5)+\"…</dd>\":s.paramCode!=A||a?e+='<dd data-paramCode=\"'+s.paramCode+'\" data-paramCode1=\"'+s.paramCode1+'\" data-paramCode2=\"'+s.paramCode2+'\" data-paramName=\"'+s.paramName+'\">'+s.paramName+\"</dd>\":e+='<dd class=\"active\" data-paramCode=\"'+s.paramCode+'\" data-paramCode1=\"'+s.paramCode1+'\" data-paramCode2=\"'+s.paramCode2+'\" data-paramName=\"'+s.paramName+'\">'+s.paramName+\"</dd>\"}),$(\"#Large_TAG\").html(e),$(\".large_tag_box\").css(\"display\",\"block\"),$(\"#Large_TAG dd\").on(\"click\",function(){$(this).siblings().removeClass(\"active\"),$(this).hasClass(\"active\")||$(this).addClass(\"active\");var a=$(this).data(\"paramcode\");N=a,M=$(this).data(\"paramname\"),T=\"\",_=\"\",$(\".tagInfo\").text(M),dd.postMessage({type:\"smallTag\",val:a})})}function B(a){var e=[];if((e=a?I:E).length>0){var t=\"\";$.each(e,function(e,s){s.tagName.length>6?s.tagCode!=k||a?t+='<dd data-tagCode=\"'+s.tagCode+'\" data-tagName=\"'+s.tagName+'\">'+s.tagName.substring(0,5)+\"…</dd>\":t+='<dd class=\"active\" data-tagCode=\"'+s.tagCode+'\" data-tagName=\"'+s.tagName+'\">'+s.tagName.substring(0,5)+\"…</dd>\":s.tagCode!=k||a?t+='<dd data-tagCode=\"'+s.tagCode+'\" data-tagName=\"'+s.tagName+'\">'+s.tagName+\"</dd>\":t+='<dd class=\"active\" data-tagCode=\"'+s.tagCode+'\" data-tagName=\"'+s.tagName+'\">'+s.tagName+\"</dd>\"}),$(\"#SMALL_TAG\").html(t),$(\".small_tag_box\").css(\"display\",\"block\"),$(\"#SMALL_TAG dd\").on(\"click\",function(){$(this).siblings().removeClass(\"active\"),$(this).hasClass(\"active\")||$(this).addClass(\"active\");var a=$(this).data(\"tagcode\");_=a,T=$(this).data(\"tagname\"),$(\".tagInfo\").text(M+\" - \"+T)})}else $(\"#SMALL_TAG\").html(\"\"),$(\".small_tag_box\").css(\"display\",\"none\")}function J(){v={},$.each(m.DistrictJson,function(a,e){var t=e.name;v[t]=[\"全部\"],e.children&&$.each(e.children,function(a,e){v[t].push(e.name)})})}function Z(){P.forEach(function(a,e){var t;switch(a.checkState){case\"1\":t=L.marker([a.lat,a.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:\"green-marker\",html:\"<p>\"+(e+1)+\"</p>\"})});break;case\"2\":t=L.marker([a.lat,a.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:\"blue-marker\",html:\"<p>\"+(e+1)+\"</p>\"})});break;case\"3\":t=L.marker([a.lat,a.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:\"red-marker\",html:\"<p>\"+(e+1)+\"</p>\"})})}c.addLayer(t),t.on(\"click\",function(a){$(\".detail_info\").hasClass(\"active\")&&$(\".detail_info\").removeClass(\"active\"),l=parseInt(a.originalEvent.target.textContent)-1,function(a){var e=encodeURI(\"https://dh.ditu.zj.cn:9443/inverse/getInverseGeocoding.jsonp?&detail=1&zoom=11&latlon=\"+a.lon+\",\"+a.lat+\"&lat=&lon=&customer=2\");$.ajax({url:e,dataType:\"jsonp\",success:function(e){var t=e.city.value+e.dist.value+e.town.value+e.poi;$(\".legalEntity_name\").text(a.legalEntityName),$(\".legalRep_name\").text(a.legalRep),$(\".legalRep_tel\").text(a.tel),$(\".address_info\").text(t),$(\".distance_info\").text((parseInt(a.distance)/1e3).toFixed(2)),$(\".call_tel\").data(\"tel\",a.tel),r={longitude:a.lon,latitude:a.lat,name:e.poi,address:e.poi},$(\".detail_info\").addClass(\"active\")},error:function(a){dd.alert({content:\"地址解析出错\"})}})}(P[l])})})}dd.postMessage({type:\"init\"}),dd.onMessage=function(a){switch(a.dataType){case\"init\":a.userId,a.token,a.baseUrl,a.tagAction,n=a.lon&&a.lat?{lon:a.lon,lat:a.lat}:{lon:120.14989,lat:30.27751},a.cityName||\"杭州市\",P=a.markDatas,m=a.filterDatas,p=a.userLevel,a.showDistrict,t=a.tagLineData,function(){o=L.map(\"map\",{crs:L.CRS.CustomEPSG4326,center:n,minZoom:5,zoom:j,inertiaDeceleration:15e3,zoomControl:!1});var a=new L.GXYZ(\"https://ditu.zjzwfw.gov.cn/mapserver/vmap/zjvmap/getMAP?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017\",{tileSize:512,minZoom:5});o.addLayer(a);var e=new L.GXYZ(\"https://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getImg?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017\",{tileSize:512,hitDetection:!0,keepBuffer:0,updateWhenZooming:!1});o.addLayer(e);var i=L.icon({iconUrl:\"../img/indoor_pub_poi_pressed.png\",iconSize:[21,30],iconAnchor:[10,20]}),d=L.marker([o.getCenter().lat,o.getCenter().lng],{draggable:!1,opacity:1,icon:i});o.addLayer(d),c=L.markerClusterGroup(),Z(),o.addLayer(c),$(\".whiteBtn\").addClass(\"active\"),$(\".check_title\").text($(\".whiteBtn\").data(\"title\")).fadeIn(),function(){var a=\"\",e=\"\",i=\"\",n=\"\";$.each(m.marketType,function(e,t){a+='<dd data-paramCode=\"'+t.paramCode+'\" data-paramCodeType=\"'+t.paramCodeType+'\">'+t.paramName+\"</dd>\"}),$.each(m.checkType,function(a,t){e+='<dd data-paramCode=\"'+t.paramCode+'\" data-paramCodeType=\"'+t.paramCodeType+'\">'+t.paramName+\"</dd>\"}),$.each(m.taskStatus,function(a,e){i+='<dd data-paramCode=\"'+e.paramCode+'\" data-paramCodeType=\"'+e.paramCodeType+'\">'+e.paramName+\"</dd>\"}),$.each(t,function(a,e){n+='<dd data-dutyDeptCode=\"'+e.dutyDeptCode+'\">'+e.dutyDeptName+\"</dd>\"}),$(\"#MARKET_TYPE\").html(a),$(\"#TASK_TYPE\").html(e),$(\"#TASK_STATUS\").html(i),$(\"#SUP_TAG_LINE\").html(n),$(\".filter_list dd\").on(\"click\",function(a){$(this).siblings().removeClass(\"active\"),$(this).hasClass(\"active\")||$(this).addClass(\"active\");var e=$(a.target)[0].dataset.paramcodetype;switch(e){case\"MARKET_TYPE\":C=$(a.target)[0].dataset.paramcode;break;case\"TASK_TYPE\":b=$(a.target)[0].dataset.paramcode;break;case\"TASK_STATUS\":g=$(a.target)[0].dataset.paramcode}}),$(\"#SUP_TAG_LINE dd\").on(\"click\",function(){s=$(this).data(\"dutydeptcode\"),dutyDeptCodeName=$(this).text(),$(this).siblings().removeClass(\"active\"),$(this).hasClass(\"active\")||$(this).addClass(\"active\"),_=\"\",T=\"\",N=\"\",M=\"\",$(\".large_tag_box\").css(\"display\",\"none\"),$(\".small_tag_box\").css(\"display\",\"none\"),$(\".tagInfo\").text(dutyDeptCodeName),$(\".tagInfo-box\").css(\"display\",\"block\"),dd.postMessage({type:\"superTag\",val:s})})}(),p?(Y.style.display=\"inline-block\",u={},$.each(m.SlicenoLDNameJson,function(a,e){var t=e.name;u[t]=[],e.children&&$.each(e.children,function(a,e){u[t].push(e.name)})})):(R.style.display=\"inline-block\",J());o.on(\"click\",function(a){$(\".detail_info\").hasClass(\"active\")&&$(\".detail_info\").removeClass(\"active\")})}();break;case\"updateMarks\":P=a.markDatas,c.clearLayers(),o.setView([Number(n.lat),Number(n.lon)],j),Z();break;case\"showDistrict\":a.showDistrict&&(m=a.filterDatas,R.style.display=\"inline-block\",J());break;case\"queryLargeTag\":D=a.largeTagData,O(!0);break;case\"querySmallTag\":I=a.smallTagData,B(!0)}},$(\".filterBtn\").on(\"click\",function(){$(\".custom-mask\").addClass(\"custom-mask--visible\"),$(\".custom-container\").addClass(\"custom-container--visible\"),$(\".custom-container li\").addClass(\"active\")}),$(\".custom-mask\").on(\"click\",function(){$(\".custom-mask\").removeClass(\"custom-mask--visible\"),$(\".floating_box\").hasClass(\"active\")?($(\".floating_box\").removeClass(\"active\"),$(\".filter_list_box\").removeClass(\"active\")):($(\".custom-container\").removeClass(\"custom-container--visible\"),$(\".custom-container li\").removeClass(\"active\"))}),$(\".custom-container\").on(\"click\",function(a){$(\".custom-mask\").removeClass(\"custom-mask--visible\"),$(\".custom-container\").removeClass(\"custom-container--visible\"),$(\".custom-container li\").removeClass(\"active\");var e=$(a.target).data(\"metter\");\"\"==e?$(\".filterBtn span\").html('不限<i class=\"icon-arrow\"></i>'):$(\".filterBtn span\").html(e+'<i class=\"icon-arrow\"></i>'),dd.postMessage({type:\"distance\",val:e})}),$(\".floating_box\").on(\"click\",function(a){if($(this).addClass(\"active\"),$(\".custom-mask\").addClass(\"custom-mask--visible\"),$(\".filter_list_box\").addClass(\"active\"),f){$(\"#TASK_STATUS dd\").removeClass(\"active\");var e=jQuery.makeArray($(\"#TASK_STATUS dd\"));$.each(e,function(a,e){if(e.dataset.paramcode==g)return $(e).addClass(\"active\"),!0})}else $(\"#TASK_STATUS dd\").removeClass(\"active\");if(G.length>0||U.length>0?p?($(\"#picker-btn\").text(z.join(\"-\")),$(\"#picker-btn\").addClass(\"active\"),K&&($(\"#district-btn\").text(K.join(\"-\")),$(\"#district-btn\").addClass(\"active\"))):($(\"#district-btn\").text(K.join(\"-\")),$(\"#district-btn\").addClass(\"active\")):p?($(\"#picker-btn\").text(\"市|区|县\"),$(\"#picker-btn\").removeClass(\"active\"),$(\"#district-btn\").text(\"商圈/片区\"),$(\"#district-btn\").removeClass(\"active\"),$(\"#district-btn\").css(\"display\",\"none\")):($(\"#district-btn\").text(\"商圈/片区\"),$(\"#district-btn\").removeClass(\"active\")),$(\".tagInfo-box\").css(\"display\",\"none\"),$(\".large_tag_box\").css(\"display\",\"none\"),$(\".small_tag_box\").css(\"display\",\"none\"),$(\"#SUP_TAG_LINE dd\").removeClass(\"active\"),A){e=jQuery.makeArray($(\"#SUP_TAG_LINE dd\"));$.each(e,function(a,e){if(e.dataset.dutydeptcode==i)return $(e).addClass(\"active\"),!0}),O(!1),B(!1),k?$(\".tagInfo\").text(S+\" - \"+x):$(\".tagInfo\").text(S),$(\".tagInfo-box\").css(\"display\",\"block\")}else $(\".tagInfo\").text(\"\"),$(\"#Large_TAG\").html(\"\"),$(\"#SMALL_TAG\").html(\"\");if(h){$(\"#MARKET_TYPE dd\").removeClass(\"active\");e=jQuery.makeArray($(\"#MARKET_TYPE dd\"));$.each(e,function(a,e){if(e.dataset.paramcode==C)return $(e).addClass(\"active\"),!0})}else $(\"#MARKET_TYPE dd\").removeClass(\"active\");if(y){$(\"#TASK_TYPE dd\").removeClass(\"active\");e=jQuery.makeArray($(\"#TASK_TYPE dd\"));$.each(e,function(a,e){if(e.dataset.paramcode==b)return $(e).addClass(\"active\"),!0})}else $(\"#TASK_TYPE dd\").removeClass(\"active\")}),$(\".custom-mask\").on(\"touchmove\",function(a){a.preventDefault()}),$(\".custom-container\").on(\"touchmove\",function(a){a.preventDefault()}),$(\".iptSearch\").on(\"keydown\",function(a){13==a.keyCode&&dd.postMessage({type:\"keyword\",val:a.target.value||\"\"})}),$(\".btn_handler_box li\").on(\"click\",function(a){var e=$(a.target).data(\"filter\"),t=$(a.target).data(\"title\");return $(this).closest(\"li\").addClass(\"active\").siblings().removeClass(\"active\"),\"\"==e||\"1\"==e||\"2\"==e||\"3\"==e?($(\".check_title\").text(t).fadeIn(),void dd.postMessage({type:\"checkState\",val:e})):\"reset\"==e?($(\".check_title\").fadeOut(),c.clearLayers(),o.setView([Number(n.lat),Number(n.lon)],j),d=L.circle([o.getCenter().lat,o.getCenter().lng],{radius:30}),void o.addLayer(d)):void 0}),$(\".call_tel\").on(\"click\",function(){var a=$(\".call_tel\").data(\"tel\");dd.postMessage({type:\"callPhone\",val:a})}),$(\".menu_icon_3\").on(\"click\",function(){dd.postMessage({type:\"openMap\",val:r})}),$(\".detail\").on(\"click\",function(){dd.postMessage({type:\"detail\",val:l})}),$(\".gocheck\").on(\"click\",function(){dd.postMessage({type:\"gocheck\",val:l})}),$(\".unfind\").on(\"click\",function(){dd.postMessage({type:\"unfind\",val:l})}),$(\".reset_btn\").on(\"click\",function(){[],K=[],U=[],z=[],G=[],$(\"#picker-btn\").text(\"市|区|县\"),$(\"#district-btn\").text(\"商圈/片区\"),p?($(\"#picker-btn\").removeClass(\"active\"),$(\"#district-btn\").removeClass(\"active\"),$(\"#district-btn\").css(\"display\",\"none\")):$(\"#district-btn\").removeClass(\"active\"),$(\".filter_type dd\").removeClass(\"active\"),$(\".custom-mask\").removeClass(\"custom-mask--visible\"),$(\".floating_box\").removeClass(\"active\"),$(\".filter_list_box\").removeClass(\"active\"),f=\"\",h=\"\",y=\"\",\"\",_=\"\",N=\"\",T=\"\",M=\"\",s=\"\",x=\"\",S=\"\",k=\"\",A=\"\",w=[],E=[],i=\"\";dd.postMessage({type:\"businessDistrict\",val:{taskStatus:\"\",businessDistrict:\"\",legalEntityCata:\"\",checkType:\"\",localAdm:\"\",curMinTagCode:\"\",curMaxTagCode:\"\"}})}),$(\".confirm_btn\").on(\"click\",function(){f=g||\"\",h=C||\"\",y=b||\"\",k=_||\"\",A=N||\"\",x=T||\"\",S=M||\"\",w=D||[],E=I||[],i=A?s:\"\";var a={taskStatus:f,legalEntityCata:h,checkType:y,curMinTagCode:k,curMaxTagCode:A};1==G.length?(a.localAdm=G[0],a.businessDistrict=\"\"):0==U.length?(a.localAdm=G[0],a.businessDistrict=\"\"):(a.localAdm=U[0],a.businessDistrict=U[1]||\"\"),$(\".custom-mask\").removeClass(\"custom-mask--visible\"),$(\".floating_box\").removeClass(\"active\"),$(\".filter_list_box\").removeClass(\"active\"),dd.postMessage({type:\"businessDistrict\",val:a})}),Y.onclick=function(){new PickerView({bindElem:Y,data:u,title:\"市|区|县\",leftText:\"取消\",rightText:\"确定\",rightFn:function(a){var e;z=[],G=[];var t=m.SlicenoLDNameJson.findIndex(function(e){return e.name==a[0]});G.push(m.SlicenoLDNameJson[t].code),z=a;var s=(e=m.SlicenoLDNameJson[t].children).findIndex(function(e){return e.name==a[1]});G.push(e[s].code),Y.innerText=z.join(\"-\"),Y.setAttribute(\"class\",\"active\"),R.innerText=\"商圈/片区\",R.style.display=\"none\",R.setAttribute(\"class\",\"\"),K=[],U=[],dd.postMessage({type:\"showDistrict\",val:{localAdm:G[G.length-1],selAll:!1}})}})},R.onclick=function(){new PickerView({bindElem:R,data:v,title:\"商圈/片区\",leftText:\"取消\",rightText:\"确定\",rightFn:function(a){var e;K=[],U=[];var t=m.DistrictJson.findIndex(function(e){return e.name==a[0]});if(U.push(m.DistrictJson[t].code),\"全部\"!=a[1]){K=a;var s=(e=m.DistrictJson[t].children).findIndex(function(e){return e.name==a[1]});U.push(e[s].code)}else K.push(a[0]);R.innerText=K.join(\"-\"),R.setAttribute(\"class\",\"active\")}})}}]);","extractedComments":[]}