!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./",a(a.s=0)}([function(e,t){navigator.userAgent.toLowerCase().indexOf("dingtalk")>-1&&document.writeln('<script src="https://appx/web-view.min.js"><\/script>');var a,n,i,s,o,c,r,l,d,m,u,v,p,f,g,b,h,C,y,k,_,T,x=10,A=[],S=[],w=[],E=[],N=[],j=document.getElementById("picker-btn"),M=document.getElementById("district-btn"),D=document.getElementById("tag-btn");function P(){u={},$.each(r.DistrictJson,function(e,t){var a=t.name;u[a]=["全部"],t.children&&$.each(t.children,function(e,t){u[a].push(t.name)})})}function I(e,t){y=[{tagName:"垃圾填埋场",tagCode:"A01900000010000014"},{tagName:"环保部门20181126",tagCode:"A01900000010000003"},{tagName:"垃圾填埋场20181126",tagCode:"A01900000010000003"},{tagName:"环保部门",tagCode:"A01900000010000003"}],$.each(y,function(t,a){C[e].push(a.tagName)})}function z(){A.forEach(function(e,t){var a;switch(e.checkState){case"1":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:"green-marker",html:"<p>"+(t+1)+"</p>"})});break;case"2":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:"blue-marker",html:"<p>"+(t+1)+"</p>"})});break;case"3":a=L.marker([e.lat,e.lon],{draggable:!1,opacity:1,icon:L.divIcon({className:"red-marker",html:"<p>"+(t+1)+"</p>"})})}s.addLayer(a),a.on("click",function(e){$(".detail_info").hasClass("active")&&$(".detail_info").removeClass("active"),c=parseInt(e.originalEvent.target.textContent)-1,function(e){var t=encodeURI("https://dh.ditu.zj.cn:9443/inverse/getInverseGeocoding.jsonp?&detail=1&zoom=11&latlon="+e.lon+","+e.lat+"&lat=&lon=&customer=2");$.ajax({url:t,dataType:"jsonp",success:function(t){var a=t.city.value+t.dist.value+t.town.value+t.poi;$(".legalEntity_name").text(e.legalEntityName),$(".legalRep_name").text(e.legalRep),$(".legalRep_tel").text(e.tel),$(".address_info").text(a),$(".distance_info").text((parseInt(e.distance)/1e3).toFixed(2)),$(".call_tel").data("tel",e.tel),o={longitude:e.lon,latitude:e.lat,name:t.poi,address:t.poi},$(".detail_info").addClass("active")},error:function(e){dd.alert({content:"地址解析出错"})}})}(A[c])})})}dd.postMessage({type:"init"}),dd.onMessage=function(e){e.userId,e.token,e.baseUrl,e.tagAction,a={lon:e.lon,lat:e.lat}||{lon:120.14989,lat:30.27751},S=e.cityName||"杭州市",A=e.markDatas,r=e.filterDatas,l=e.userLevel,d=e.showDistrict,e.init||l&&d&&(M.style.display="inline-block",P()),function(e){if(e)return void function(){n=L.map("map",{crs:L.CRS.CustomEPSG4326,center:a,minZoom:5,zoom:x,inertiaDeceleration:15e3,zoomControl:!1});var e=new L.GXYZ("https://ditu.zjzwfw.gov.cn/mapserver/vmap/zjvmap/getMAP?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017",{tileSize:512,minZoom:5});n.addLayer(e);var t=new L.GXYZ("https://ditu.zjzwfw.gov.cn/mapserver/label/zjvmap/getImg?x={x}&y={y}&l={z}&styleId=tdt_biaozhunyangshi_2017",{tileSize:512,hitDetection:!0,keepBuffer:0,updateWhenZooming:!1});n.addLayer(t);var i=L.icon({iconUrl:"../img/indoor_pub_poi_pressed.png",iconSize:[21,30],iconAnchor:[10,20]}),o=L.marker([n.getCenter().lat,n.getCenter().lng],{draggable:!1,opacity:1,icon:i});n.addLayer(o),s=L.markerClusterGroup(),z(),n.addLayer(s),$(".whiteBtn").addClass("active"),$(".check_title").text($(".whiteBtn").data("title")).fadeIn(),function(){var e="",t="",a="";$.each(r.marketType,function(t,a){e+='<dd data-paramCode="'+a.paramCode+'" data-paramCodeType="'+a.paramCodeType+'">'+a.paramName+"</dd>"}),$.each(r.checkType,function(e,a){t+='<dd data-paramCode="'+a.paramCode+'" data-paramCodeType="'+a.paramCodeType+'">'+a.paramName+"</dd>"}),$.each(r.taskStatus,function(e,t){a+='<dd data-paramCode="'+t.paramCode+'" data-paramCodeType="'+t.paramCodeType+'">'+t.paramName+"</dd>"}),$("#MARKET_TYPE").html(e),$("#TASK_TYPE").html(t),$("#TASK_STATUS").html(a),$(".filter_list dd").on("click",function(e){$(this).siblings().removeClass("active"),$(this).addClass("active");var t=$(e.target)[0].dataset.paramcodetype;switch(t){case"MARKET_TYPE":f=$(e.target)[0].dataset.paramcode;break;case"TASK_TYPE":b=$(e.target)[0].dataset.paramcode;break;case"TASK_STATUS":v=$(e.target)[0].dataset.paramcode}})}(),l?(j.style.display="inline-block",m={},$.each(r.SlicenoLDNameJson,function(e,t){var a=t.name;m[a]=[],t.children&&$.each(t.children,function(e,t){m[a].push(t.name)})})):(M.style.display="inline-block",P());C={},$.each(r.superviseTag,function(e,t){var a=t.paramName;C[a]=[],0==e&&I(a,t.paramCode)}),n.on("click",function(e){$(".detail_info").hasClass("active")&&$(".detail_info").removeClass("active")})}();s.clearLayers(),n.setView([Number(a.lat),Number(a.lon)],x),z()}(e.init)},$(".filterBtn").on("click",function(){$(".custom-mask").addClass("custom-mask--visible"),$(".custom-container").addClass("custom-container--visible"),$(".custom-container li").addClass("active")}),$(".custom-mask").on("click",function(){$(".custom-mask").removeClass("custom-mask--visible"),$(".floating_box").hasClass("active")?($(".floating_box").removeClass("active"),$(".filter_list_box").removeClass("active")):($(".custom-container").removeClass("custom-container--visible"),$(".custom-container li").removeClass("active"))}),$(".custom-container").on("click",function(e){$(".custom-mask").removeClass("custom-mask--visible"),$(".custom-container").removeClass("custom-container--visible"),$(".custom-container li").removeClass("active");var t=$(e.target).data("metter");""==t?$(".filterBtn span").html('不限<i class="icon-arrow"></i>'):$(".filterBtn span").html(t+'<i class="icon-arrow"></i>'),dd.postMessage({type:"distance",val:t})}),$(".floating_box").on("click",function(e){if($(this).addClass("active"),$(".custom-mask").addClass("custom-mask--visible"),$(".filter_list_box").addClass("active"),p){$("#TASK_STATUS dd").removeClass("active");var t=jQuery.makeArray($("#TASK_STATUS dd"));$.each(t,function(e,t){if(t.dataset.paramcode==v)return $(t).addClass("active"),!0})}else $("#TASK_STATUS dd").removeClass("active");if(w.length>0||N.length>0?l?($("#picker-btn").text(S.join("-")),$("#picker-btn").addClass("active"),E&&($("#district-btn").text(E.join("-")),$("#district-btn").addClass("active"))):($("#district-btn").text(E.join("-")),$("#district-btn").addClass("active")):l?($("#picker-btn").text("市|区|县"),$("#picker-btn").removeClass("active"),$("#district-btn").text("商圈/片区"),$("#district-btn").removeClass("active"),$("#district-btn").css("display","none")):($("#district-btn").text("商圈/片区"),$("#district-btn").removeClass("active")),_?($("#tag-btn").text(T),$("#tag-btn").addClass("active")):($("#tag-btn").text("选择监管类型"),$("#tag-btn").removeClass("active")),g){$("#MARKET_TYPE dd").removeClass("active");t=jQuery.makeArray($("#MARKET_TYPE dd"));$.each(t,function(e,t){if(t.dataset.paramcode==f)return $(t).addClass("active"),!0})}else $("#MARKET_TYPE dd").removeClass("active");if(h){$("#TASK_TYPE dd").removeClass("active");t=jQuery.makeArray($("#TASK_TYPE dd"));$.each(t,function(e,t){if(t.dataset.paramcode==b)return $(t).addClass("active"),!0})}else $("#TASK_TYPE dd").removeClass("active")}),$(".custom-mask").on("touchmove",function(e){e.preventDefault()}),$(".custom-container").on("touchmove",function(e){e.preventDefault()}),$(".iptSearch").on("keydown",function(e){13==e.keyCode&&dd.postMessage({type:"keyword",val:e.target.value||""})}),$(".btn_handler_box li").on("click",function(e){var t=$(e.target).data("filter"),o=$(e.target).data("title");return $(this).closest("li").addClass("active").siblings().removeClass("active"),""==t||"1"==t||"2"==t||"3"==t?($(".check_title").text(o).fadeIn(),void dd.postMessage({type:"checkState",val:t})):"reset"==t?($(".check_title").fadeOut(),s.clearLayers(),n.setView([Number(a.lat),Number(a.lon)],x),i=L.circle([n.getCenter().lat,n.getCenter().lng],{radius:30}),void n.addLayer(i)):void 0}),$(".call_tel").on("click",function(){var e=$(".call_tel").data("tel");dd.postMessage({type:"callPhone",val:e})}),$(".menu_icon_3").on("click",function(){dd.postMessage({type:"openMap",val:o})}),$(".detail").on("click",function(){dd.postMessage({type:"detail",val:c})}),$(".gocheck").on("click",function(){dd.postMessage({type:"gocheck",val:c})}),$(".unfind").on("click",function(){dd.postMessage({type:"unfind",val:c})}),$(".reset_btn").on("click",function(){[],E=[],N=[],S=[],w=[],$("#picker-btn").text("市|区|县"),$("#district-btn").text("商圈/片区"),$("#tag-btn").text("选择监管类型"),$("#tag-btn").removeClass("active"),l?($("#picker-btn").removeClass("active"),$("#district-btn").removeClass("active"),$("#district-btn").css("display","none")):$("#district-btn").removeClass("active"),$(".filter_type dd").removeClass("active"),$(".custom-mask").removeClass("custom-mask--visible"),$(".floating_box").removeClass("active"),$(".filter_list_box").removeClass("active"),p="",g="",h="","",_="";dd.postMessage({type:"businessDistrict",val:{taskStatus:"",businessDistrict:"",legalEntityCata:"",checkType:"",localAdm:"",curMinTagCode:""}})}),$(".confirm_btn").on("click",function(){var e={taskStatus:p=v||"",legalEntityCata:g=f||"",checkType:h=b||"",minTagCode:_=k||""};1==w.length?(e.localAdm=w[0],e.businessDistrict=""):0==N.length?(e.localAdm=w[0],e.businessDistrict=""):(e.localAdm=N[0],e.businessDistrict=N[1]||""),$(".custom-mask").removeClass("custom-mask--visible"),$(".floating_box").removeClass("active"),$(".filter_list_box").removeClass("active"),dd.postMessage({type:"businessDistrict",val:e})}),j.onclick=function(){new PickerView({bindElem:j,data:m,title:"市|区|县",leftText:"取消",rightText:"确定",rightFn:function(e){var t;S=[],w=[];var a=r.SlicenoLDNameJson.findIndex(function(t){return t.name==e[0]});w.push(r.SlicenoLDNameJson[a].code),S=e;var n=(t=r.SlicenoLDNameJson[a].children).findIndex(function(t){return t.name==e[1]});w.push(t[n].code),j.innerText=S.join("-"),j.setAttribute("class","active"),M.innerText="商圈/片区",M.style.display="none",M.setAttribute("class",""),E=[],N=[],dd.postMessage({type:"showDistrict",val:{localAdm:w[w.length-1],selAll:!1}})}})},M.onclick=function(){new PickerView({bindElem:M,data:u,title:"商圈/片区",leftText:"取消",rightText:"确定",rightFn:function(e){var t;E=[],N=[];var a=r.DistrictJson.findIndex(function(t){return t.name==e[0]});if(N.push(r.DistrictJson[a].code),"全部"!=e[1]){E=e;var n=(t=r.DistrictJson[a].children).findIndex(function(t){return t.name==e[1]});N.push(t[n].code)}else E.push(e[0]);M.innerText=E.join("-"),M.setAttribute("class","active")}})},D.onclick=function(){new PickerView({bindElem:D,data:C,title:"监管类型",leftText:"取消",rightText:"确定",getAjaxData:!0,ajaxFn:function(e){$.each(r.superviseTag,function(t,a){if(a.paramName==e[0])return console.log(e,a.paramCode),C[a.paramName]=[],I(a.paramName,a.paramCode),!1})},rightFn:function(e){$.each(y,function(t,a){if(a.tagName==e[1])return k=a.tagCode,T=a.tagName,$("#tag-btn").text(T),$("#tag-btn").addClass("active"),!1})}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanMvY2hlY2ttYXAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJkb2N1bWVudCIsIndyaXRlbG4iLCJpbml0TGF0bG5nIiwibWFwIiwiY2lyY2xlIiwibWFya2VycyIsIm1hcFBhcmFtcyIsImlkeCIsImZpbHRlckRhdGFzIiwidXNlckxldmVsIiwic2hvd0Rpc3RyaWN0IiwicGlja2VyT3B0IiwiZGlzdFBpY2tlck9wdCIsInRhc2tTdGF0dXMiLCJjdXJUYXNrU3RhdHVzIiwibGVnYWxFbnRpdHlDYXRhIiwiY3VyTGVnYWxFbnRpdHlDYXRhIiwiY2hlY2tUeXBlIiwiY3VyQ2hlY2tUeXBlIiwidGFnUGlja2VyT3B0IiwicHJlVGFnTWluT3B0IiwibWluVGFnQ29kZSIsImN1ck1pblRhZ0NvZGUiLCJjdXJNaW5UYWdOYW1lIiwiaW5pdFpvb20iLCJtYXJrRGF0YXMiLCJjaXR5TmFtZSIsImNpdHlDb2RlIiwiZGlzdE5hbWUiLCJkaXN0Q29kZSIsImJ0biIsImdldEVsZW1lbnRCeUlkIiwiZGlzdEJ0biIsInRhZ0J0biIsImdldERpc3RQaWNrZXJPcHQiLCIkIiwiZWFjaCIsIkRpc3RyaWN0SnNvbiIsImluZGV4IiwidmFsIiwiaWR4S2V5IiwiY2hpbGRyZW4iLCJwdXNoIiwiYWpheE1pblRhZ09wdCIsImNvZGUiLCJ0YWdOYW1lIiwidGFnQ29kZSIsImRyYXdNYXJla2VycyIsImZvckVhY2giLCJtYXJrZXIiLCJjaGVja1N0YXRlIiwiTCIsImxhdCIsImxvbiIsImRyYWdnYWJsZSIsIm9wYWNpdHkiLCJpY29uIiwiZGl2SWNvbiIsImNsYXNzTmFtZSIsImh0bWwiLCJhZGRMYXllciIsIm9uIiwiZSIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJwYXJzZUludCIsIm9yaWdpbmFsRXZlbnQiLCJ0YXJnZXQiLCJ0ZXh0Q29udGVudCIsInJldmVyc2VSZXNvbHV0aW9uVXJsIiwiZW5jb2RlVVJJIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwic3VjY2VzcyIsInJlcyIsImxvY2F0aW9uIiwiY2l0eSIsImRpc3QiLCJ0b3duIiwicG9pIiwidGV4dCIsImxlZ2FsRW50aXR5TmFtZSIsImxlZ2FsUmVwIiwidGVsIiwiZGlzdGFuY2UiLCJ0b0ZpeGVkIiwiZGF0YSIsImxvbmdpdHVkZSIsImxhdGl0dWRlIiwiYWRkcmVzcyIsImFkZENsYXNzIiwiZXJyb3IiLCJlcnIiLCJkZCIsImFsZXJ0IiwiY29udGVudCIsImdldEFkcmVzc0luZm8iLCJwb3N0TWVzc2FnZSIsInR5cGUiLCJvbk1lc3NhZ2UiLCJ1c2VySWQiLCJ0b2tlbiIsImJhc2VVcmwiLCJ0YWdBY3Rpb24iLCJpbml0Iiwic3R5bGUiLCJkaXNwbGF5IiwiY3JzIiwiQ1JTIiwiQ3VzdG9tRVBTRzQzMjYiLCJjZW50ZXIiLCJtaW5ab29tIiwiem9vbSIsImluZXJ0aWFEZWNlbGVyYXRpb24iLCJ6b29tQ29udHJvbCIsImxheWVyIiwiR1hZWiIsInRpbGVTaXplIiwibGFiZWxMYXllciIsImhpdERldGVjdGlvbiIsImtlZXBCdWZmZXIiLCJ1cGRhdGVXaGVuWm9vbWluZyIsImN1c3RvbUljb24iLCJpY29uVXJsIiwiaWNvblNpemUiLCJpY29uQW5jaG9yIiwiY3VyTWFya2VyIiwiZ2V0Q2VudGVyIiwibG5nIiwibWFya2VyQ2x1c3Rlckdyb3VwIiwiZmFkZUluIiwibWFya2V0SHRtbCIsInR5cGVIdG1sIiwic3RhdHVzSHRtbCIsIm1hcmtldFR5cGUiLCJwYXJhbUNvZGUiLCJwYXJhbUNvZGVUeXBlIiwicGFyYW1OYW1lIiwiZXYiLCJ0aGlzIiwic2libGluZ3MiLCJkYXRhc2V0IiwicGFyYW1jb2RldHlwZSIsInBhcmFtY29kZSIsImluaXRGaWx0ZXJIdG1sIiwiU2xpY2Vub0xETmFtZUpzb24iLCJzdXBlcnZpc2VUYWciLCJjbGVhckxheWVycyIsInNldFZpZXciLCJOdW1iZXIiLCJkcmF3TWFwIiwibWV0dGVyIiwiYXJyIiwialF1ZXJ5IiwibWFrZUFycmF5IiwibGVuZ3RoIiwiam9pbiIsImNzcyIsInByZXZlbnREZWZhdWx0Iiwia2V5Q29kZSIsImZpbHRlciIsInRpdGxlIiwiY2xvc2VzdCIsImZhZGVPdXQiLCJyYWRpdXMiLCJwaG9uZU51bSIsImJ1c2luZXNzRGlzdHJpY3QiLCJsb2NhbEFkbSIsInByZUZpbHRlckRhdGEiLCJvbmNsaWNrIiwiUGlja2VyVmlldyIsImJpbmRFbGVtIiwibGVmdFRleHQiLCJyaWdodFRleHQiLCJyaWdodEZuIiwic2VsZWN0QXJyIiwic3ViU2xpY2Vub0xETmFtZUpzb24iLCJmaXJzdElkeCIsImZpbmRJbmRleCIsIm9iaiIsInN1YklkeCIsImlubmVyVGV4dCIsInNldEF0dHJpYnV0ZSIsInNlbEFsbCIsImdldEFqYXhEYXRhIiwiYWpheEZuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0s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QUE2TSxFQUFBLEtBQ2xGbkosRUFBQWEsS0FBQXVJLEVBQUFJLEdBQUF6SSxXQUVBaEIsRUFBQWMsS0FBQXNJLEVBQUEsSUFPQWhKLEVBQUFzSixVQUFBMUosRUFBQWlJLEtBQUEsS0FDQTdILEVBQUF1SixhQUFBLHNCQUtBdEosRUFBQXlJLFFBQUEsV0FHQSxJQUFBQyxZQUNBQyxTQUFBM0ksRUFDQXNELEtBQUFwRSxFQUNBK0ksTUFBQSxPQUNBVyxTQUFBLEtBQ0FDLFVBQUEsS0FDQVcsYUFBQSxFQUNBQyxPQUFBLFNBQUFWLEdBQ0E3SSxFQUFBQyxLQUFBNUIsRUFBQTJJLGFBQUEsU0FBQTdHLEVBQUFDLEdBQ0EsR0FBQUEsRUFBQW1HLFdBQUFzQyxFQUFBLEdBSUEsT0FIQVcsUUFBQUMsSUFBQVosRUFBQXpJLEVBQUFpRyxXQUNBckgsRUFBQW9CLEVBQUFtRyxjQUNBL0YsRUFBQUosRUFBQW1HLFVBQUFuRyxFQUFBaUcsWUFDQSxLQUlBdUMsUUFBQSxTQUFBQyxHQUNBN0ksRUFBQUMsS0FBQWhCLEVBQUEsU0FBQWIsRUFBQTFCLEdBQ0EsR0FBQUEsRUFBQWdFLFNBQUFtSSxFQUFBLEdBS0EsT0FKQTNKLEVBQUF4QyxFQUFBaUUsUUFDQXZCLEVBQUExQyxFQUFBZ0UsUUFDQVYsRUFBQSxZQUFBOEMsS0FBQTFELEdBQ0FZLEVBQUEsWUFBQXdELFNBQUEsV0FDQSIsImZpbGUiOiJqcy9jaGVja21hcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiXHJcbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdkaW5ndGFsaycpID4gLTEpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQud3JpdGVsbignPHNjcmlwdCBzcmM9XCJodHRwczovL2FwcHgvd2ViLXZpZXcubWluLmpzXCInICsgJz4nICsgJzwnICsgJy8nICsgJ3NjcmlwdD4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVzZXJJZCwgdG9rZW4sIGJhc2VVcmwsIHRhZ0FjdGlvbjtcclxuICAgICAgICB2YXIgaW5pdExhdGxuZywgaW5pdFpvb20gPSAxMCwgY2l0eU5hbWUsIG5ld0NlbnRlckRhdGEsICBtYXJrRGF0YXMgPSBbXSxcclxuICAgICAgICBtYXAsIGN1ck1hcmtlciwgY2lyY2xlLCBtYXJrZXJzLCBtYXBQYXJhbXMsIGlkeCwgZmlsdGVyRGF0YXMsIHVzZXJMZXZlbCwgc2hvd0Rpc3RyaWN0LCBwaWNrZXJPcHQsIGRpc3RQaWNrZXJPcHQ7XHJcbiAgICAgICAgdmFyIHRhc2tTdGF0dXMsIGN1clRhc2tTdGF0dXMsIGxlZ2FsRW50aXR5Q2F0YSwgY3VyTGVnYWxFbnRpdHlDYXRhLCBjaGVja1R5cGUsIGN1ckNoZWNrVHlwZSwgXHJcbiAgICAgICAgbGVnYWxFbnRpdHlUYWcsIGxlZ2FsRW50aXR5VGFnMSwgbGVnYWxFbnRpdHlUYWcyLCBjdXJMZWdhbEVudGl0eVRhZywgY3VyTGVnYWxFbnRpdHlUYWcxLCBjdXJMZWdhbEVudGl0eVRhZzIsXHJcbiAgICAgICAgY2l0eU5hbWUgPSBbXSwgY2l0eUNvZGUgPSBbXSwgZGlzdE5hbWUgPSBbXSwgZGlzdENvZGUgPSBbXSwgYXJlYU5hbWUgPSBbXSwgYXJlYUNvZGUgPSBbXSwgY3VycmVudEFyZWFDb2RlOyBcclxuICAgICAgICB2YXIgdGFnUGlja2VyT3B0LCBwcmVUYWdNaW5PcHQsIG1pblRhZ0NvZGUsIGN1ck1pblRhZ0NvZGUsIGN1ck1pblRhZ05hbWU7ICAvLyDnm5HnrqHmoIfnrb4tcGlja2VyLmRhdGFcclxuICAgICAgICB2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaWNrZXItYnRuXCIpO1xyXG4gICAgICAgIHZhciBkaXN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaXN0cmljdC1idG5cIik7XHJcbiAgICAgICAgdmFyIHRhZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFnLWJ0blwiKTtcclxuICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ2luaXQnfSk7XHJcbiAgICAgICAgZGQub25NZXNzYWdlID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB1c2VySWQgPSBlLnVzZXJJZDtcclxuICAgICAgICAgICAgdG9rZW4gPSBlLnRva2VuO1xyXG4gICAgICAgICAgICBiYXNlVXJsID0gZS5iYXNlVXJsO1xyXG4gICAgICAgICAgICB0YWdBY3Rpb24gPSBlLnRhZ0FjdGlvbixcclxuICAgICAgICAgICAgaW5pdExhdGxuZyA9IHtsb246IGUubG9uLCBsYXQ6IGUubGF0fSB8fCB7bG9uOiAxMjAuMTQ5ODksIGxhdDogMzAuMjc3NTF9OyAgLy8g6buY6K6k57uP57qs5bqm5Li66JOd5aSp5ZWG5Yqh5Lit5b+DXHJcbiAgICAgICAgICAgIGNpdHlOYW1lID0gZS5jaXR5TmFtZSB8fCBcIuadreW3nuW4glwiO1xyXG4gICAgICAgICAgICBtYXJrRGF0YXMgPSBlLm1hcmtEYXRhcztcclxuICAgICAgICAgICAgZmlsdGVyRGF0YXMgPSBlLmZpbHRlckRhdGFzO1xyXG4gICAgICAgICAgICB1c2VyTGV2ZWwgPSBlLnVzZXJMZXZlbDtcclxuICAgICAgICAgICAgc2hvd0Rpc3RyaWN0ID0gZS5zaG93RGlzdHJpY3Q7XHJcbiAgICAgICAgICAgIGlmICghZS5pbml0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlckxldmVsICYmIHNob3dEaXN0cmljdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3RCdG4uc3R5bGUuZGlzcGxheSA9ICAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICAgICAgICAgICAgICBnZXREaXN0UGlja2VyT3B0KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkcmF3TWFwKGUuaW5pdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGRyYXdNYXAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaW5pdCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZWR1Y3Rpb25NYXAoKVxyXG4gICAgICAgICAgICBkcmF3TWFyZWtlcnMoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICAgICAgbWFwID0gTC5tYXAoJ21hcCcse2NyczpMLkNSUy5DdXN0b21FUFNHNDMyNixjZW50ZXI6IGluaXRMYXRsbmcsIG1pblpvb206IDUsIHpvb206IGluaXRab29tLCBpbmVydGlhRGVjZWxlcmF0aW9uOjE1MDAwLCB6b29tQ29udHJvbDogZmFsc2V9KTtcclxuICAgICAgICAgICAgdmFyIHRpbGVBZGRyZXNzID0gJ2h0dHBzOi8vZGl0dS56anp3ZncuZ292LmNuL21hcHNlcnZlci92bWFwL3pqdm1hcC9nZXRNQVA/eD17eH0meT17eX0mbD17en0mc3R5bGVJZD10ZHRfYmlhb3podW55YW5nc2hpXzIwMTcnO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxheWVyID0gbmV3IEwuR1hZWih0aWxlQWRkcmVzcywge3RpbGVTaXplOjUxMiwgbWluWm9vbTogNX0pO1xyXG4gICAgICAgICAgICBtYXAuYWRkTGF5ZXIobGF5ZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8g5re75Yqg5rOo6K6w5Zu+5bGCXHJcbiAgICAgICAgICAgIC8vIHZhciBsYWJlbExheWVyID0gbmV3IEwuR1dWVEFubm8oe3RpbGVTaXplOjUxMn0pO1xyXG4gICAgICAgICAgICAvLyB2YXIgZGF0YVNvdXJjZSA9IG5ldyBDdXN0b20uVVJMRGF0YVNvdXJjZSgpO1xyXG4gICAgICAgICAgICAvLyBkYXRhU291cmNlLnVybCA9ICdodHRwczovL2RpdHUuemp6d2Z3Lmdvdi5jbi9tYXBzZXJ2ZXIvbGFiZWwvemp2bWFwL2dldERhdGFzP3g9JHt4fSZ5PSR7eX0mbD0ke3p9JnN0eWxlSWQ9dGR0X2JpYW96aHVueWFuZ3NoaV8yMDE3JztcclxuICAgICAgICAgICAgLy8gbGFiZWxMYXllci5hZGREYXRhU291cmNlKGRhdGFTb3VyY2UpO1xyXG4gICAgICAgICAgICAvLyBtYXAuYWRkTGF5ZXIobGFiZWxMYXllcik7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbExheWVyID0gbmV3IEwuR1hZWignaHR0cHM6Ly9kaXR1Lnpqendmdy5nb3YuY24vbWFwc2VydmVyL2xhYmVsL3pqdm1hcC9nZXRJbWc/eD17eH0meT17eX0mbD17en0mc3R5bGVJZD10ZHRfYmlhb3podW55YW5nc2hpXzIwMTcnLHt0aWxlU2l6ZTo1MTIsaGl0RGV0ZWN0aW9uOnRydWUsa2VlcEJ1ZmZlcjowLHVwZGF0ZVdoZW5ab29taW5nOmZhbHNlfSk7XHJcbiAgICAgICAgICAgIG1hcC5hZGRMYXllcihsYWJlbExheWVyKTtcclxuICAgICAgICAgICAgdmFyIGN1c3RvbUljb24gPSBMLmljb24oeyBcclxuICAgICAgICAgICAgICAgIGljb25Vcmw6ICcuLi9pbWcvaW5kb29yX3B1Yl9wb2lfcHJlc3NlZC5wbmcnLFxyXG4gICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMSwgMzBdLFxyXG4gICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogICBbMTAsIDIwXSxcclxuICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICB2YXIgY3VyTWFya2VyID0gTC5tYXJrZXIoIFxyXG4gICAgICAgICAgICAgICAgW21hcC5nZXRDZW50ZXIoKS5sYXQsIG1hcC5nZXRDZW50ZXIoKS5sbmddLCBcclxuICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246IGN1c3RvbUljb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgbWFwLmFkZExheWVyKGN1ck1hcmtlcik7XHJcblxyXG4gICAgICAgICAgICBtYXJrZXJzID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoKTtcclxuICAgICAgICAgICAgZHJhd01hcmVrZXJzKCk7XHJcbiAgICAgICAgICAgIG1hcC5hZGRMYXllcihtYXJrZXJzKTtcclxuXHJcbiAgICAgICAgICAgICQoJy53aGl0ZUJ0bicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCgnLmNoZWNrX3RpdGxlJykudGV4dCgkKCcud2hpdGVCdG4nKS5kYXRhKCd0aXRsZScpKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgaW5pdEZpbHRlckh0bWwoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh1c2VyTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICAgICAgICAgICAgICBnZXRQaWNrZXJPcHQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpc3RCdG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgZ2V0RGlzdFBpY2tlck9wdCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBnZXRUYWdQaWNrZXJPcHQoKTtcclxuXHJcbiAgICAgICAgICAgIG1hcC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYoJChcIi5kZXRhaWxfaW5mb1wiKS5oYXNDbGFzcygnYWN0aXZlJykpIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5kZXRhaWxfaW5mb1wiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRQaWNrZXJPcHQoKSB7XHJcbiAgICAgICAgICAgIHBpY2tlck9wdCA9IHt9O1xyXG4gICAgICAgICAgICAkLmVhY2goZmlsdGVyRGF0YXMuU2xpY2Vub0xETmFtZUpzb24sIGZ1bmN0aW9uIChpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWR4S2V5ID0gdmFsLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAvLyBwaWNrZXJPcHRbaWR4S2V5XSA9IFsn5YWo6YOoJ107XHJcbiAgICAgICAgICAgICAgICBwaWNrZXJPcHRbaWR4S2V5XSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbC5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCh2YWwuY2hpbGRyZW4sIGZ1bmN0aW9uIChpZHgsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlck9wdFtpZHhLZXldLnB1c2godmFsdWUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldERpc3RQaWNrZXJPcHQoKSB7XHJcbiAgICAgICAgICAgIGRpc3RQaWNrZXJPcHQgPSB7fTtcclxuICAgICAgICAgICAgJC5lYWNoKGZpbHRlckRhdGFzLkRpc3RyaWN0SnNvbiwgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHhLZXkgPSB2YWwubmFtZTtcclxuICAgICAgICAgICAgICAgIGRpc3RQaWNrZXJPcHRbaWR4S2V5XSA9IFsn5YWo6YOoJ107XHJcbiAgICAgICAgICAgICAgICAvLyBkaXN0UGlja2VyT3B0W2lkeEtleV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2godmFsLmNoaWxkcmVuLCBmdW5jdGlvbiAoaWR4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0UGlja2VyT3B0W2lkeEtleV0ucHVzaCh2YWx1ZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VGFnUGlja2VyT3B0KCkge1xyXG4gICAgICAgICAgICB0YWdQaWNrZXJPcHQgPSB7fTtcclxuICAgICAgICAgICAgJC5lYWNoKGZpbHRlckRhdGFzLnN1cGVydmlzZVRhZywgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHhLZXkgPSB2YWwucGFyYW1OYW1lO1xyXG4gICAgICAgICAgICAgICAgdGFnUGlja2VyT3B0W2lkeEtleV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWpheE1pblRhZ09wdChpZHhLZXksIHZhbC5wYXJhbUNvZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWpheE1pblRhZ09wdChuYW1lLCBjb2RlKSB7XHJcbiAgICAgICAgICAgIHByZVRhZ01pbk9wdCA9IFt7dGFnTmFtZTogJ+Weg+WcvuWhq+Wfi+WcuicsIHRhZ0NvZGU6ICdBMDE5MDAwMDAwMTAwMDAwMTQnfSxcclxuICAgICAgICAgICAge3RhZ05hbWU6ICfnjq/kv53pg6jpl6gyMDE4MTEyNicsIHRhZ0NvZGU6ICdBMDE5MDAwMDAwMTAwMDAwMDMnfSxcclxuICAgICAgICAgICAge3RhZ05hbWU6ICflnoPlnL7loavln4vlnLoyMDE4MTEyNicsIHRhZ0NvZGU6ICdBMDE5MDAwMDAwMTAwMDAwMDMnfSxcclxuICAgICAgICAgICAge3RhZ05hbWU6ICfnjq/kv53pg6jpl6gnLCB0YWdDb2RlOiAnQTAxOTAwMDAwMDEwMDAwMDAzJ31dO1xyXG4gICAgICAgICAgICAkLmVhY2gocHJlVGFnTWluT3B0LCBmdW5jdGlvbiAoaWR4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGFnUGlja2VyT3B0W25hbWVdLnB1c2godmFsdWUudGFnTmFtZSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gJC5hamF4KHtcclxuICAgICAgICAgICAgLy8gICAgIGFzeW5jOiBmYWxzZSxcclxuICAgICAgICAgICAgLy8gICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAvLyAgICAgdXJsOiBlbmNvZGVVUkkoYmFzZVVybCArIHRhZ0FjdGlvbiksXHJcbiAgICAgICAgICAgIC8vICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdG9rZW46IHRva2VuLFxyXG4gICAgICAgICAgICAvLyAgICAgICAgIHVzZXJJZDogdXNlcklkLFxyXG4gICAgICAgICAgICAvLyAgICAgICAgIHRhZ0xhcmdlQ2F0ZWdvcnk6IGNvZGUsXHJcbiAgICAgICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgICAgICAvLyAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgLy8gICAgIGRhdGFUeXBlOiBcImpzb25wXCIsXHJcbiAgICAgICAgICAgIC8vICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBwcmVUYWdNaW5PcHQgPSByZXMuZGF0YTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAkLmVhY2gocHJlVGFnTWluT3B0LCBmdW5jdGlvbiAoaWR4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB0YWdQaWNrZXJPcHRbbmFtZV0ucHVzaCh2YWx1ZS50YWdOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgICAgIC8vICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGRkLmFsZXJ0KHsgY29udGVudDogZXJyLm1zZyB9KTtcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0RmlsdGVySHRtbCAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXJrZXRIdG1sID0gJycsIHR5cGVIdG1sID0gJycsIHN0YXR1c0h0bWwgPSAnJywgdGFnSHRtbCA9ICcnO1xyXG4gICAgICAgICAgICAkLmVhY2goZmlsdGVyRGF0YXMubWFya2V0VHlwZSwgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtldEh0bWwgKz0gJzxkZCBkYXRhLXBhcmFtQ29kZT1cIicgKyB2YWwucGFyYW1Db2RlICsgJ1wiIGRhdGEtcGFyYW1Db2RlVHlwZT1cIicgKyB2YWwucGFyYW1Db2RlVHlwZSArICdcIj4nICsgdmFsLnBhcmFtTmFtZSArICc8L2RkPic7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkLmVhY2goZmlsdGVyRGF0YXMuY2hlY2tUeXBlLCBmdW5jdGlvbiAoaW5kZXgsIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgdHlwZUh0bWwgKz0gJzxkZCBkYXRhLXBhcmFtQ29kZT1cIicgKyB2YWwucGFyYW1Db2RlICsgJ1wiIGRhdGEtcGFyYW1Db2RlVHlwZT1cIicgKyB2YWwucGFyYW1Db2RlVHlwZSArICdcIj4nICsgdmFsLnBhcmFtTmFtZSArICc8L2RkPic7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkLmVhY2goZmlsdGVyRGF0YXMudGFza1N0YXR1cywgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1c0h0bWwgKz0gJzxkZCBkYXRhLXBhcmFtQ29kZT1cIicgKyB2YWwucGFyYW1Db2RlICsgJ1wiIGRhdGEtcGFyYW1Db2RlVHlwZT1cIicgKyB2YWwucGFyYW1Db2RlVHlwZSArICdcIj4nICsgdmFsLnBhcmFtTmFtZSArICc8L2RkPic7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyAkLmVhY2goZmlsdGVyRGF0YXMuc3VwZXJ2aXNlVGFnLCBmdW5jdGlvbiAoaW5kZXgsIHZhbCkge1xyXG4gICAgICAgICAgICAvLyAgICAgdGFnSHRtbCArPSAnPGRkIGRhdGEtcGFyYW1Db2RlPVwiJyArIHZhbC5wYXJhbUNvZGUgKyAnXCIgZGF0YS1wYXJhbUNvZGUxPVwiJyArIHZhbC5wYXJhbUNvZGUxIFxyXG4gICAgICAgICAgICAvLyAgICAgKyAnXCIgZGF0YS1wYXJhbUNvZGUyPVwiJyArIHZhbC5wYXJhbUNvZGUyICsgJ1wiIGRhdGEtcGFyYW1Db2RlVHlwZT1cIicgKyB2YWwucGFyYW1Db2RlVHlwZSArICdcIj4nICsgdmFsLnBhcmFtTmFtZSArICc8L2RkPic7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAkKCcjTUFSS0VUX1RZUEUnKS5odG1sKG1hcmtldEh0bWwpO1xyXG4gICAgICAgICAgICAkKCcjVEFTS19UWVBFJykuaHRtbCh0eXBlSHRtbCk7XHJcbiAgICAgICAgICAgICQoJyNUQVNLX1NUQVRVUycpLmh0bWwoc3RhdHVzSHRtbCk7XHJcbiAgICAgICAgICAgIC8vICQoJyNTVVBFUlZJU0VfVEFHJykuaHRtbCh0YWdIdG1sKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICQoXCIuZmlsdGVyX2xpc3QgZGRcIikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2KSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gJChldi50YXJnZXQpWzBdLmRhdGFzZXQucGFyYW1jb2RldHlwZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCh0eXBlKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTUFSS0VUX1RZUEVcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVnYWxFbnRpdHlDYXRhID0gJChldi50YXJnZXQpWzBdLmRhdGFzZXQucGFyYW1jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVEFTS19UWVBFXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrVHlwZSA9ICQoZXYudGFyZ2V0KVswXS5kYXRhc2V0LnBhcmFtY29kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlRBU0tfU1RBVFVTXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tTdGF0dXMgPSAkKGV2LnRhcmdldClbMF0uZGF0YXNldC5wYXJhbWNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhc2UgXCJTVVBFUlZJU0VfVEFHX0xBUkdFQ0xBU1NcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGVnYWxFbnRpdHlUYWcgPSAkKGV2LnRhcmdldClbMF0uZGF0YXNldC5wYXJhbWNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxlZ2FsRW50aXR5VGFnMSA9ICQoZXYudGFyZ2V0KVswXS5kYXRhc2V0LnBhcmFtY29kZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxlZ2FsRW50aXR5VGFnMiA9ICQoZXYudGFyZ2V0KVswXS5kYXRhc2V0LnBhcmFtY29kZTI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJy5maWx0ZXJCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJy5jdXN0b20tbWFzaycpLmFkZENsYXNzKCdjdXN0b20tbWFzay0tdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAkKCcuY3VzdG9tLWNvbnRhaW5lcicpLmFkZENsYXNzKCdjdXN0b20tY29udGFpbmVyLS12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICQoJy5jdXN0b20tY29udGFpbmVyIGxpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcuY3VzdG9tLW1hc2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJy5jdXN0b20tbWFzaycpLnJlbW92ZUNsYXNzKCdjdXN0b20tbWFzay0tdmlzaWJsZScpO1xyXG4gICAgICAgICAgICBpZiAoJChcIi5mbG9hdGluZ19ib3hcIikuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmZsb2F0aW5nX2JveFwiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZmlsdGVyX2xpc3RfYm94JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLmN1c3RvbS1jb250YWluZXInKS5yZW1vdmVDbGFzcygnY3VzdG9tLWNvbnRhaW5lci0tdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmN1c3RvbS1jb250YWluZXIgbGknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLmN1c3RvbS1jb250YWluZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgICAgICAgJCgnLmN1c3RvbS1tYXNrJykucmVtb3ZlQ2xhc3MoJ2N1c3RvbS1tYXNrLS12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICQoJy5jdXN0b20tY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2N1c3RvbS1jb250YWluZXItLXZpc2libGUnKTtcclxuICAgICAgICAgICAgJCgnLmN1c3RvbS1jb250YWluZXIgbGknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHZhciBtZXR0ZXIgPSAkKGV2LnRhcmdldCkuZGF0YSgnbWV0dGVyJyk7XHJcbiAgICAgICAgICAgIGlmIChtZXR0ZXIgPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJCgnLmZpbHRlckJ0biBzcGFuJykuaHRtbCgn5LiN6ZmQJyArICc8aSBjbGFzcz1cImljb24tYXJyb3dcIj48L2k+JylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy5maWx0ZXJCdG4gc3BhbicpLmh0bWwobWV0dGVyICsgJzxpIGNsYXNzPVwiaWNvbi1hcnJvd1wiPjwvaT4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRkLnBvc3RNZXNzYWdlKHt0eXBlOiAnZGlzdGFuY2UnLCB2YWw6IG1ldHRlcn0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLmZsb2F0aW5nX2JveFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKCcuY3VzdG9tLW1hc2snKS5hZGRDbGFzcygnY3VzdG9tLW1hc2stLXZpc2libGUnKTtcclxuICAgICAgICAgICAgJCgnLmZpbHRlcl9saXN0X2JveCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgaWYgKGN1clRhc2tTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICQoJyNUQVNLX1NUQVRVUyBkZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBqUXVlcnkubWFrZUFycmF5KCQoJyNUQVNLX1NUQVRVUyBkZCcpKTtcclxuICAgICAgICAgICAgICAgICQuZWFjaChhcnIsIGZ1bmN0aW9uIChpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbC5kYXRhc2V0LnBhcmFtY29kZSA9PSB0YXNrU3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodmFsKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNUQVNLX1NUQVRVUyBkZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2l0eUNvZGUubGVuZ3RoID4gMCB8fCBkaXN0Q29kZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlckxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3BpY2tlci1idG4nKS50ZXh0KGNpdHlOYW1lLmpvaW4oJy0nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3BpY2tlci1idG4nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3ROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS50ZXh0KGRpc3ROYW1lLmpvaW4oJy0nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjZGlzdHJpY3QtYnRuJykudGV4dChkaXN0TmFtZS5qb2luKCctJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlckxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3BpY2tlci1idG4nKS50ZXh0KCfluIJ85Yy6fOWOvycpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNwaWNrZXItYnRuJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS50ZXh0KCfllYblnIgv54mH5Yy6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rpc3RyaWN0LWJ0bicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjZGlzdHJpY3QtYnRuJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rpc3RyaWN0LWJ0bicpLnRleHQoJ+WVhuWciC/niYfljLonKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjZGlzdHJpY3QtYnRuJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJNaW5UYWdDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjdGFnLWJ0bicpLnRleHQoY3VyTWluVGFnTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAkKCcjdGFnLWJ0bicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyN0YWctYnRuJykudGV4dCgn6YCJ5oup55uR566h57G75Z6LJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjdGFnLWJ0bicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3VyTGVnYWxFbnRpdHlDYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjTUFSS0VUX1RZUEUgZGQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0galF1ZXJ5Lm1ha2VBcnJheSgkKCcjTUFSS0VUX1RZUEUgZGQnKSk7XHJcbiAgICAgICAgICAgICAgICAkLmVhY2goYXJyLCBmdW5jdGlvbiAoaW5kZXgsIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwuZGF0YXNldC5wYXJhbWNvZGUgPT0gbGVnYWxFbnRpdHlDYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodmFsKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNNQVJLRVRfVFlQRSBkZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3VyQ2hlY2tUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjVEFTS19UWVBFIGRkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IGpRdWVyeS5tYWtlQXJyYXkoJCgnI1RBU0tfVFlQRSBkZCcpKTtcclxuICAgICAgICAgICAgICAgICQuZWFjaChhcnIsIGZ1bmN0aW9uIChpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbC5kYXRhc2V0LnBhcmFtY29kZSA9PSBjaGVja1R5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh2YWwpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI1RBU0tfVFlQRSBkZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZiAoY3VyTGVnYWxFbnRpdHlUYWcpIHtcclxuICAgICAgICAgICAgLy8gICAgICQoJyNTVVBFUlZJU0VfVEFHIGRkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAvLyAgICAgdmFyIGFyciA9IGpRdWVyeS5tYWtlQXJyYXkoJCgnI1NVUEVSVklTRV9UQUcgZGQnKSk7XHJcbiAgICAgICAgICAgIC8vICAgICAkLmVhY2goYXJyLCBmdW5jdGlvbiAoaW5kZXgsIHZhbCkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGlmICh2YWwuZGF0YXNldC5wYXJhbWNvZGUgPT0gbGVnYWxFbnRpdHlUYWcpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgJCh2YWwpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgICAgJCgnI1NVUEVSVklTRV9UQUcgZGQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLmN1c3RvbS1tYXNrJykub24oJ3RvdWNobW92ZScsIGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcuY3VzdG9tLWNvbnRhaW5lcicpLm9uKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihldikge1xyXG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgJCgnLmlwdFNlYXJjaCcpLm9uKCdrZXlkb3duJyxmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZihlLmtleUNvZGUgPT0gMTMpe1xyXG4gICAgICAgICAgICAgICAgZGQucG9zdE1lc3NhZ2Uoe3R5cGU6ICdrZXl3b3JkJywgdmFsOiBlLnRhcmdldC52YWx1ZSB8fCAnJ30pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5idG5faGFuZGxlcl9ib3ggbGknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgICAgICAgdmFyIGZpbHRlciA9ICQoZXYudGFyZ2V0KS5kYXRhKCdmaWx0ZXInKTtcclxuICAgICAgICAgICAgdmFyIHRpdGxlID0gJChldi50YXJnZXQpLmRhdGEoJ3RpdGxlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuY2xvc2VzdChcImxpXCIpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICBpZiAoZmlsdGVyID09IFwiXCIgfHwgZmlsdGVyID09IFwiMVwiIHx8IGZpbHRlciA9PSBcIjJcIiB8fCBmaWx0ZXIgPT0gXCIzXCIpIHtcclxuICAgICAgICAgICAgICAgICQoJy5jaGVja190aXRsZScpLnRleHQodGl0bGUpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICAgICAgZGQucG9zdE1lc3NhZ2Uoe3R5cGU6ICdjaGVja1N0YXRlJywgdmFsOiBmaWx0ZXJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXIgPT0gXCJyZXNldFwiKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcuY2hlY2tfdGl0bGUnKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzLmNsZWFyTGF5ZXJzKCk7XHJcbiAgICAgICAgICAgICAgICBtYXAuc2V0VmlldyhbTnVtYmVyKGluaXRMYXRsbmcubGF0KSwgTnVtYmVyKGluaXRMYXRsbmcubG9uKV0sIGluaXRab29tKTtcclxuICAgICAgICAgICAgICAgIGNpcmNsZSA9IEwuY2lyY2xlKFttYXAuZ2V0Q2VudGVyKCkubGF0LCBtYXAuZ2V0Q2VudGVyKCkubG5nXSwge3JhZGl1czogMzB9KTtcclxuICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihjaXJjbGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKFwiLmNhbGxfdGVsXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGhvbmVOdW0gPSAkKFwiLmNhbGxfdGVsXCIpLmRhdGEoXCJ0ZWxcIik7XHJcbiAgICAgICAgICAgIGRkLnBvc3RNZXNzYWdlKHt0eXBlOiAnY2FsbFBob25lJywgdmFsOiBwaG9uZU51bX0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLm1lbnVfaWNvbl8zXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ29wZW5NYXAnLCB2YWw6IG1hcFBhcmFtc30pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLmRldGFpbFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZGQucG9zdE1lc3NhZ2Uoe3R5cGU6ICdkZXRhaWwnLCB2YWw6IGlkeH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLmdvY2hlY2tcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRkLnBvc3RNZXNzYWdlKHt0eXBlOiAnZ29jaGVjaycsIHZhbDogaWR4fSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIudW5maW5kXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ3VuZmluZCcsIHZhbDogaWR4fSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIucmVzZXRfYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhcmVhQ29kZSA9IFtdOyBkaXN0TmFtZSA9IFtdOyBkaXN0Q29kZSA9IFtdO1xyXG4gICAgICAgICAgICBjaXR5TmFtZSA9IFtdOyBjaXR5Q29kZSA9IFtdO1xyXG4gICAgICAgICAgICAkKCcjcGlja2VyLWJ0bicpLnRleHQoJ+W4gnzljLp85Y6/Jyk7XHJcbiAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS50ZXh0KCfllYblnIgv54mH5Yy6Jyk7XHJcbiAgICAgICAgICAgICQoJyN0YWctYnRuJykudGV4dCgn6YCJ5oup55uR566h57G75Z6LJyk7XHJcbiAgICAgICAgICAgICQoJyN0YWctYnRuJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBpZiAodXNlckxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjcGlja2VyLWJ0bicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZGlzdHJpY3QtYnRuJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNkaXN0cmljdC1idG4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJChcIi5maWx0ZXJfdHlwZSBkZFwiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQoJy5jdXN0b20tbWFzaycpLnJlbW92ZUNsYXNzKCdjdXN0b20tbWFzay0tdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAkKFwiLmZsb2F0aW5nX2JveFwiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQoJy5maWx0ZXJfbGlzdF9ib3gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGN1clRhc2tTdGF0dXMgPSAnJ1xyXG4gICAgICAgICAgICBjdXJMZWdhbEVudGl0eUNhdGEgPSAnJ1xyXG4gICAgICAgICAgICBjdXJDaGVja1R5cGUgPSAnJ1xyXG4gICAgICAgICAgICAvLyBjdXJMZWdhbEVudGl0eVRhZyA9ICcnXHJcbiAgICAgICAgICAgIC8vIGN1ckxlZ2FsRW50aXR5VGFnMSA9ICcnXHJcbiAgICAgICAgICAgIC8vIGN1ckxlZ2FsRW50aXR5VGFnMiA9ICcnXHJcbiAgICAgICAgICAgIGN1cnJlbnRBcmVhQ29kZSA9ICcnXHJcbiAgICAgICAgICAgIGN1ck1pblRhZ0NvZGUgPSAnJ1xyXG4gICAgICAgICAgICB2YXIgcHJlRmlsdGVyRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHRhc2tTdGF0dXM6ICcnLFxyXG4gICAgICAgICAgICAgICAgYnVzaW5lc3NEaXN0cmljdDogJycsIC8v54mH5Yy6XHJcbiAgICAgICAgICAgICAgICBsZWdhbEVudGl0eUNhdGE6ICcnLFxyXG4gICAgICAgICAgICAgICAgY2hlY2tUeXBlOiAnJyxcclxuICAgICAgICAgICAgICAgIC8vIGxlZ2FsRW50aXR5VGFnOiAnJyxcclxuICAgICAgICAgICAgICAgIC8vIGxlZ2FsRW50aXR5VGFnMTogJycsXHJcbiAgICAgICAgICAgICAgICAvLyBsZWdhbEVudGl0eVRhZzI6ICcnLFxyXG4gICAgICAgICAgICAgICAgbG9jYWxBZG06ICcnLFxyXG4gICAgICAgICAgICAgICAgY3VyTWluVGFnQ29kZTogJydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZC5wb3N0TWVzc2FnZSh7dHlwZTogJ2J1c2luZXNzRGlzdHJpY3QnLCB2YWw6IHByZUZpbHRlckRhdGF9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5jb25maXJtX2J0blwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gYXJlYUNvZGUgPSBjaXR5Q29kZS5jb25jYXQoZGlzdENvZGUpO1xyXG4gICAgICAgICAgICAvLyBpZiAoYXJlYUNvZGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIGN1cnJlbnRBcmVhQ29kZSA9IGFyZWFDb2RlLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgLy8gfSBlbHNlIHsgICAgXHJcbiAgICAgICAgICAgIC8vICAgICBjdXJyZW50QXJlYUNvZGUgPSAnJztcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBjdXJUYXNrU3RhdHVzID0gdGFza1N0YXR1cyB8fCAnJ1xyXG4gICAgICAgICAgICBjdXJMZWdhbEVudGl0eUNhdGEgPSBsZWdhbEVudGl0eUNhdGEgfHwgJydcclxuICAgICAgICAgICAgY3VyQ2hlY2tUeXBlID0gY2hlY2tUeXBlIHx8ICcnXHJcbiAgICAgICAgICAgIGN1ck1pblRhZ0NvZGUgPSBtaW5UYWdDb2RlIHx8ICcnXHJcbiAgICAgICAgICAgIC8vIGN1ckxlZ2FsRW50aXR5VGFnID0gbGVnYWxFbnRpdHlUYWcgfHwgJydcclxuICAgICAgICAgICAgLy8gY3VyTGVnYWxFbnRpdHlUYWcxID0gbGVnYWxFbnRpdHlUYWcxIHx8ICcnXHJcbiAgICAgICAgICAgIC8vIGN1ckxlZ2FsRW50aXR5VGFnMiA9IGxlZ2FsRW50aXR5VGFnMiB8fCAnJ1xyXG4gICAgICAgICAgICB2YXIgcHJlRmlsdGVyRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0YXNrU3RhdHVzOiBjdXJUYXNrU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1c2luZXNzRGlzdHJpY3Q6IGN1cnJlbnRBcmVhQ29kZSwgLy/niYfljLpcclxuICAgICAgICAgICAgICAgICAgICBsZWdhbEVudGl0eUNhdGE6IGN1ckxlZ2FsRW50aXR5Q2F0YSxcclxuICAgICAgICAgICAgICAgICAgICBjaGVja1R5cGU6IGN1ckNoZWNrVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBtaW5UYWdDb2RlOiBjdXJNaW5UYWdDb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGVnYWxFbnRpdHlUYWc6IGN1ckxlZ2FsRW50aXR5VGFnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlZ2FsRW50aXR5VGFnMTogY3VyTGVnYWxFbnRpdHlUYWcxLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlZ2FsRW50aXR5VGFnMjogY3VyTGVnYWxFbnRpdHlUYWcyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNpdHlDb2RlLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVGaWx0ZXJEYXRhWydsb2NhbEFkbSddID0gY2l0eUNvZGVbMF07XHJcbiAgICAgICAgICAgICAgICBwcmVGaWx0ZXJEYXRhWydidXNpbmVzc0Rpc3RyaWN0J10gPSAnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0Q29kZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZUZpbHRlckRhdGFbJ2xvY2FsQWRtJ10gPSBjaXR5Q29kZVswXTtcclxuICAgICAgICAgICAgICAgICAgICBwcmVGaWx0ZXJEYXRhWydidXNpbmVzc0Rpc3RyaWN0J10gPSAnJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlRmlsdGVyRGF0YVsnbG9jYWxBZG0nXSA9IGRpc3RDb2RlWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZUZpbHRlckRhdGFbJ2J1c2luZXNzRGlzdHJpY3QnXSA9IGRpc3RDb2RlWzFdIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoJy5jdXN0b20tbWFzaycpLnJlbW92ZUNsYXNzKCdjdXN0b20tbWFzay0tdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAkKFwiLmZsb2F0aW5nX2JveFwiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQoJy5maWx0ZXJfbGlzdF9ib3gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGRkLnBvc3RNZXNzYWdlKHt0eXBlOiAnYnVzaW5lc3NEaXN0cmljdCcsIHZhbDogcHJlRmlsdGVyRGF0YX0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBidG4ub25jbGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIC8vIGRhdGEgPSB7XCLlsI/mmI7lrrZcIjpbXSwgXCLlsI/nuqLlrrZcIjpbXCLlsI/nuqLniLjniLhcIiwgXCLlsI/nuqLlpojlpohcIl19XHJcbiAgICAgICAgICAgIHZhciBwaWNrZXJWaWV3ID0gbmV3IFBpY2tlclZpZXcoe1xyXG4gICAgICAgICAgICAgICAgYmluZEVsZW06IGJ0bixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHBpY2tlck9wdCxcclxuICAgICAgICAgICAgICAgIC8vIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+W4gnzljLp85Y6/JyxcclxuICAgICAgICAgICAgICAgIGxlZnRUZXh0OiAn5Y+W5raIJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0VGV4dDogJ+ehruWumicsXHJcbiAgICAgICAgICAgICAgICByaWdodEZuOiBmdW5jdGlvbiggc2VsZWN0QXJyICl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGluZGV4QXJyeSA9IGJ0bi5nZXRBdHRyaWJ1dGUoXCJzZWxlY3RjYWNoZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjaXR5TmFtZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNpdHlDb2RlID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbEFsbDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3ViU2xpY2Vub0xETmFtZUpzb247XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0SWR4ID0gZmlsdGVyRGF0YXMuU2xpY2Vub0xETmFtZUpzb24uZmluZEluZGV4KGZ1bmN0aW9uKG9iail7cmV0dXJuIG9iai5uYW1lID09IHNlbGVjdEFyclswXX0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNpdHlDb2RlLnB1c2goZmlsdGVyRGF0YXMuU2xpY2Vub0xETmFtZUpzb25bZmlyc3RJZHhdLmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChzZWxlY3RBcnJbMV0gIT0gJ+WFqOmDqCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY2l0eU5hbWUgPSBzZWxlY3RBcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNlbEFsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzdWJTbGljZW5vTEROYW1lSnNvbiA9IGZpbHRlckRhdGFzLlNsaWNlbm9MRE5hbWVKc29uW2ZpcnN0SWR4XS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIHN1YklkeCA9IHN1YlNsaWNlbm9MRE5hbWVKc29uLmZpbmRJbmRleChmdW5jdGlvbih2YWwpe3JldHVybiB2YWwubmFtZSA9PSBzZWxlY3RBcnJbMV19KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY2l0eUNvZGUucHVzaChzdWJTbGljZW5vTEROYW1lSnNvbltzdWJJZHhdLmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNlbEFsbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNpdHlOYW1lLnB1c2goc2VsZWN0QXJyWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2l0eU5hbWUgPSBzZWxlY3RBcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsQWxsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ViU2xpY2Vub0xETmFtZUpzb24gPSBmaWx0ZXJEYXRhcy5TbGljZW5vTEROYW1lSnNvbltmaXJzdElkeF0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YklkeCA9IHN1YlNsaWNlbm9MRE5hbWVKc29uLmZpbmRJbmRleChmdW5jdGlvbih2YWwpe3JldHVybiB2YWwubmFtZSA9PSBzZWxlY3RBcnJbMV19KTtcclxuICAgICAgICAgICAgICAgICAgICBjaXR5Q29kZS5wdXNoKHN1YlNsaWNlbm9MRE5hbWVKc29uW3N1YklkeF0uY29kZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5pbm5lclRleHQgPSBjaXR5TmFtZS5qb2luKCctJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsICdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXN0QnRuLmlubmVyVGV4dCA9ICfllYblnIgv54mH5Yy6JztcclxuICAgICAgICAgICAgICAgICAgICBkaXN0QnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdEJ0bi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdE5hbWUgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBkaXN0Q29kZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRkLnBvc3RNZXNzYWdlKHt0eXBlOiAnc2hvd0Rpc3RyaWN0JywgdmFsOiB7bG9jYWxBZG06IGNpdHlDb2RlW2NpdHlDb2RlLmxlbmd0aCAtIDFdLCBzZWxBbGw6IHNlbEFsbH19KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaXN0QnRuLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgcGlja2VyVmlldyA9IG5ldyBQaWNrZXJWaWV3KHtcclxuICAgICAgICAgICAgICAgIGJpbmRFbGVtOiBkaXN0QnRuLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGlzdFBpY2tlck9wdCxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAn5ZWG5ZyIL+eJh+WMuicsXHJcbiAgICAgICAgICAgICAgICBsZWZ0VGV4dDogJ+WPlua2iCcsXHJcbiAgICAgICAgICAgICAgICByaWdodFRleHQ6ICfnoa7lrponLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRGbjogZnVuY3Rpb24oIHNlbGVjdEFyciApe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3ROYW1lID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdENvZGUgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3ViU2xpY2Vub0xETmFtZUpzb247XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0SWR4ID0gZmlsdGVyRGF0YXMuRGlzdHJpY3RKc29uLmZpbmRJbmRleChmdW5jdGlvbihvYmope3JldHVybiBvYmoubmFtZSA9PSBzZWxlY3RBcnJbMF19KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXN0Q29kZS5wdXNoKGZpbHRlckRhdGFzLkRpc3RyaWN0SnNvbltmaXJzdElkeF0uY29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdEFyclsxXSAhPSAn5YWo6YOoJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0TmFtZSA9IHNlbGVjdEFycjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViU2xpY2Vub0xETmFtZUpzb24gPSBmaWx0ZXJEYXRhcy5EaXN0cmljdEpzb25bZmlyc3RJZHhdLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViSWR4ID0gc3ViU2xpY2Vub0xETmFtZUpzb24uZmluZEluZGV4KGZ1bmN0aW9uKHZhbCl7cmV0dXJuIHZhbC5uYW1lID09IHNlbGVjdEFyclsxXX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0Q29kZS5wdXNoKHN1YlNsaWNlbm9MRE5hbWVKc29uW3N1YklkeF0uY29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdE5hbWUucHVzaChzZWxlY3RBcnJbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXN0TmFtZSA9IHNlbGVjdEFycjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzdWJTbGljZW5vTEROYW1lSnNvbiA9IGZpbHRlckRhdGFzLkRpc3RyaWN0SnNvbltmaXJzdElkeF0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHN1YklkeCA9IHN1YlNsaWNlbm9MRE5hbWVKc29uLmZpbmRJbmRleChmdW5jdGlvbih2YWwpe3JldHVybiB2YWwubmFtZSA9PSBzZWxlY3RBcnJbMV19KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXN0Q29kZS5wdXNoKHN1YlNsaWNlbm9MRE5hbWVKc29uW3N1YklkeF0uY29kZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3RCdG4uaW5uZXJUZXh0ID0gZGlzdE5hbWUuam9pbignLScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3RCdG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRhZ0J0bi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgLy8gZGF0YSA9IHtcIuWwj+aYjuWutlwiOltdLCBcIuWwj+e6ouWutlwiOltcIuWwj+e6oueIuOeIuFwiLCBcIuWwj+e6ouWmiOWmiFwiXX1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmlsdGVyRGF0YXMuc3VwZXJ2aXNlVGFnKTtcclxuICAgICAgICAgICAgdmFyIHBpY2tlclZpZXcgPSBuZXcgUGlja2VyVmlldyh7XHJcbiAgICAgICAgICAgICAgICBiaW5kRWxlbTogdGFnQnRuLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogdGFnUGlja2VyT3B0LFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfnm5HnrqHnsbvlnosnLFxyXG4gICAgICAgICAgICAgICAgbGVmdFRleHQ6ICflj5bmtognLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRUZXh0OiAn56Gu5a6aJyxcclxuICAgICAgICAgICAgICAgIGdldEFqYXhEYXRhOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYWpheEZuOiBmdW5jdGlvbihzZWxlY3RBcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsdGVyRGF0YXMuc3VwZXJ2aXNlVGFnLCBmdW5jdGlvbiAoaW5kZXgsIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsLnBhcmFtTmFtZSA9PSBzZWxlY3RBcnJbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdEFyciwgdmFsLnBhcmFtQ29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdQaWNrZXJPcHRbdmFsLnBhcmFtTmFtZV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhNaW5UYWdPcHQodmFsLnBhcmFtTmFtZSwgdmFsLnBhcmFtQ29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0Rm46IGZ1bmN0aW9uKHNlbGVjdEFycil7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHByZVRhZ01pbk9wdCwgZnVuY3Rpb24gKGlkeCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnRhZ05hbWUgPT0gc2VsZWN0QXJyWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5UYWdDb2RlID0gdmFsdWUudGFnQ29kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck1pblRhZ05hbWUgPSB2YWx1ZS50YWdOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhZy1idG4nKS50ZXh0KGN1ck1pblRhZ05hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhZy1idG4nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkcmF3TWFyZWtlcnMoKSB7XHJcbiAgICAgICAgICAgIG1hcmtEYXRhcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJlU3RhdGUgPSB2YWwuY2hlY2tTdGF0ZSwgbWFya2VyO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKHByZVN0YXRlKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXIgPSBMLm1hcmtlcihbdmFsLmxhdCwgdmFsLmxvbl0sIHtkcmFnZ2FibGU6IGZhbHNlLCBvcGFjaXR5OiAxLCBpY29uOiBMLmRpdkljb24oe2NsYXNzTmFtZTogJ2dyZWVuLW1hcmtlcicsIGh0bWw6ICc8cD4nICsgKGluZGV4ICsgMSkgKyAnPC9wPid9KX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMlwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXIgPSBMLm1hcmtlcihbdmFsLmxhdCwgdmFsLmxvbl0sIHtkcmFnZ2FibGU6IGZhbHNlLCBvcGFjaXR5OiAxLCBpY29uOiBMLmRpdkljb24oe2NsYXNzTmFtZTogJ2JsdWUtbWFya2VyJywgaHRtbDogJzxwPicgKyAoaW5kZXggKyAxKSArICc8L3A+J30pfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlciA9IEwubWFya2VyKFt2YWwubGF0LCB2YWwubG9uXSwge2RyYWdnYWJsZTogZmFsc2UsIG9wYWNpdHk6IDEsIGljb246IEwuZGl2SWNvbih7Y2xhc3NOYW1lOiAncmVkLW1hcmtlcicsIGh0bWw6ICc8cD4nICsgKGluZGV4ICsgMSkgKyAnPC9wPid9KX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkTGF5ZXIobWFya2VyKTtcclxuICAgICAgICAgICAgICAgIG1hcmtlci5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCQoXCIuZGV0YWlsX2luZm9cIikuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmRldGFpbF9pbmZvXCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gcGFyc2VJbnQoZS5vcmlnaW5hbEV2ZW50LnRhcmdldC50ZXh0Q29udGVudCkgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGdldEFkcmVzc0luZm8obWFya0RhdGFzW2lkeF0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVkdWN0aW9uTWFwKCkge1xyXG4gICAgICAgICAgICBtYXJrZXJzLmNsZWFyTGF5ZXJzKCk7XHJcbiAgICAgICAgICAgIG1hcC5zZXRWaWV3KFtOdW1iZXIoaW5pdExhdGxuZy5sYXQpLCBOdW1iZXIoaW5pdExhdGxuZy5sb24pXSwgaW5pdFpvb20pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QWRyZXNzSW5mbyAoZSkge1xyXG4gICAgICAgICAgICB2YXIgcmV2ZXJzZVJlc29sdXRpb25VcmwgPSBlbmNvZGVVUkkoXCJodHRwczovL2RoLmRpdHUuemouY246OTQ0My9pbnZlcnNlL2dldEludmVyc2VHZW9jb2RpbmcuanNvbnA/JmRldGFpbD0xJnpvb209MTEmbGF0bG9uPVwiICsgZS5sb24gKyBcIixcIiArIGUubGF0ICsgXCImbGF0PSZsb249JmN1c3RvbWVyPTJcIik7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHJldmVyc2VSZXNvbHV0aW9uVXJsLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvbnBcIixcclxuICAgICAgICAgICAgICAgIC8vIGpzb25wOiBcImNhbGxiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSByZXMuY2l0eS52YWx1ZSArIHJlcy5kaXN0LnZhbHVlICsgcmVzLnRvd24udmFsdWUgKyByZXMucG9pO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIubGVnYWxFbnRpdHlfbmFtZVwiKS50ZXh0KGUubGVnYWxFbnRpdHlOYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIubGVnYWxSZXBfbmFtZVwiKS50ZXh0KGUubGVnYWxSZXApXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5sZWdhbFJlcF90ZWxcIikudGV4dChlLnRlbClcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmFkZHJlc3NfaW5mb1wiKS50ZXh0KGxvY2F0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuZGlzdGFuY2VfaW5mb1wiKS50ZXh0KChwYXJzZUludChlLmRpc3RhbmNlKSAvIDEwMDApLnRvRml4ZWQoMikpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuY2FsbF90ZWxcIikuZGF0YShcInRlbFwiLCBlLnRlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwUGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGUubG9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogZS5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcy5wb2ksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHJlcy5wb2ksXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmRldGFpbF9pbmZvXCIpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRkLmFsZXJ0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCLlnLDlnYDop6PmnpDlh7rplJlcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9Il0sInNvdXJjZVJvb3QiOiIifQ==